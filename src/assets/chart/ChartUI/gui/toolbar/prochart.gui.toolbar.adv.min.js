function ProChart_InitToolbarAdv(U){function y(a){var d="";if("undefined"!=typeof a.buttonalign)switch(a.buttonalign){case "left":d+=" fl-l";break;case "right":d+=" fl-r"}return d}function V(){"undefined"!=typeof g.chart.TimeFrame&&(g.chart.TimeFrame.toUpperCase(),g.chart.TimeFrame.toLowerCase());for(var a=g.currenlayout.toolbars,d=0;d<a.length;d++){var b=a[d],c=g.commonutils.func.returnShortUniqID(),f="",l="";b.guiid=c;"undefined"!=typeof b.location&&(f=f+" loc-"+b.location);l=c;"undefined"!=typeof b.id&&
(l=b.id);var k="";"undefined"!=typeof b.style&&(k=b.style);c=g.patterns.toolbar.toolbar.replace(C,"").replace(/%style%/g,k).replace(/%css%/g,f).replace(/%tid%/g,l).replace(/%id%/g,c);f="";void 0!=b.more&&(f=g.patterns.toolbar.toolbar_more);var e="",l=void 0;void 0!=b.more&&"undefined"!=typeof b.more.closebyclick&&!0==b.more.closebyclick&&(l=" tlb-more-a-closebyclick");k="a-bottom";void 0!=b.more&&"undefined"!=typeof b.more.possition&&(k="a-"+b.more.possition);e=g.api.layout.getbuttonStyle();f=f.replace(/%icon-source%/g,
e.icon_source).replace(/%icon-more%/g,e.icon_prefix+"icon-more").replace(/%css-more-items%/g," "+k);for(k=0;k<b.items.length;k++)switch(e=b.items[k],W.debug(e.type),e.type){case "button-group-charttype":e=I(void 0,l,e);c=c.replace(/%html%/g,e.toolbar+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"));break;case "button-group-indicator":e=J(void 0,l,e);c=c.replace(/%html%/g,e.toolbar+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"));break;case "button-group-timeframe":e=
K(void 0,l,e);c=c.replace(/%html%/g,e.toolbar+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"));break;case "caption":e=L(e);c=c.replace(/%html%/g,e+"%html%");break;case "space":e=M(e);c=c.replace(/%html%/g,e+"%html%");break;case "button":e=N(e,void 0,l);c=c.replace(/%html%/g,e.button+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.buttonmore+"%html%"));break;case "button-custom":e=X(e,void 0,l);c=c.replace(/%html%/g,e.button+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,
e.buttonmore+"%html%"));break;case "item":e=O(e,void 0,l);c=c.replace(/%html%/g,e.button+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.buttonmore+"%html%"));break;case "button-group":e=P(e),c=c.replace(/%html%/g,e.toolbargroup+"%html%"),void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"))}void 0!=b.more&&(f=f.replace(/%html%/g,""));c=c.replace(/\n|\r/g,"").replace(/%html%/g,f);if(b.parent&&$.prochartcache.get(h.parent,"#"+b.parent)){b=$.prochartcache.get(h.parent,"#"+b.parent);b.append(c);
var m={};$.prochartcache.update(b,".tlb-more-item");$.prochartcache.get(b,".tlb-more-item")&&$.prochartcache.get(b,".tlb-more-item").each(function(){var a=$(this).find("button").attr("tid");null==m[a]?m[a]=!0:$(this).remove()})}}if($.prochartcache.get(h.parent,"button.change-typechart"))$.prochartcache.get(h.parent,"button.change-typechart").on("click",function(){var a=$(this).attr("tid");$.prochartcache.get(h.parent,"button.change-typechart")&&$.prochartcache.get(h.parent,"button.change-typechart").removeClass("button-selected");
"undefined"!=typeof g.chart.ChangePriceType&&(g.chart.ChangePriceType(a),!0==g.bi.status&&g.bi.addt2BI("change price type: "+a));$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this));$(this).addClass("button-selected");return!1});if($.prochartcache.get(h.parent,"button.change-timeframe"))$.prochartcache.get(h.parent,"button.change-timeframe").on("click",function(){var a=$(this).attr("tid");$.prochartcache.get(h.parent,
"button.change-timeframe")&&$.prochartcache.get(h.parent,"button.change-timeframe").removeClass("button-selected");"undefined"!=typeof g.chart.ChangeTimeScale&&(g.chart.ChangeTimeScale(a),!0==g.bi.status&&g.bi.addt2BI("change timescale: "+a));$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this));$(this).addClass("button-selected");return!1});if($.prochartcache.get(h.parent,"button.button-action"))$.prochartcache.get(h.parent,
"button.button-action").on("click",function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof g.actions){var b=$(this).attr("action");"undefined"!=typeof b&&""!=b?g.actions.action(b,a):g.actions.action(a);$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this))}return!1});if($.prochartcache.get(h.parent,"button.button-action-custom"))$.prochartcache.get(h.parent,"button.button-action-custom").on("click",
function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof g.actions){if(typeof g.events.toolbar.onCustomButtonClick==typeof Function)g.events.toolbar.onCustomButtonClick(a);$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this))}return!1});if($.prochartcache.get(h.parent,"button.button-more"))$.prochartcache.get(h.parent,"button.button-more").on("click",function(){"none"==
$(this).parent().find(".tlb-more-items").css("display")?($.prochartcache.get(h.parent,".tlb-button-groups")&&$.prochartcache.get(h.parent,".tlb-button-groups").css("display","none"),$.prochartcache.get(h.parent,".tlb-more-items")&&$.prochartcache.get(h.parent,".tlb-more-items").css("display","none"),Q($(this)),"undefined"!=typeof g.menuobj&&g.menuobj.gui.hidemenus()):D($(this))});if($.prochartcache.get(h.parent,"button.button-group"))$.prochartcache.get(h.parent,"button.button-group").on("click",
function(){"none"==$(this).parent().find(">.tlb-button-groups").css("display")?($(this).parent().find(">.tlb-button-groups").css("visibility","hidden").css("display","block"),$.prochartcache.get(h.parent,">.tlb-button-groups")&&$.prochartcache.get(h.parent,">.tlb-button-groups").css("display","none"),$.prochartcache.get(h.parent,".tlb-more-items")&&$.prochartcache.get(h.parent,".tlb-more-items").css("display","none"),1>=$(this).parents(".tlb-item-group").length&&$.prochartcache.get(h.parent,".tlb-button-groups")&&
$.prochartcache.get(h.parent,".tlb-button-groups").css("display","none"),$(this).closest("ul").find("li >.tlb-button-groups").css("display","none"),$.prochartcache.get(g.toolbaradvobj.parent,"button.button-group")&&$.prochartcache.get(g.toolbaradvobj.parent,"button.button-group").removeClass("highlightedIconGroup"),$(this).parents(".tlb-item-group").each(function(){$(this).find(">.button-group").addClass("highlightedIconGroup")}),R($(this).parent()),"undefined"!=typeof g.menuobj&&g.menuobj.gui.hidemenus()):
S($(this).parent());"undefined"!=typeof g.menuobj&&g.menuobj.gui.hidemenus()});z()}function J(a,d,b){var c=b="",f="";"undefined"!=typeof a&&(f=a);a="";"undefined"!=typeof d&&(a=d);d=g.init.indicators;for(var l=0;l<d.length;l++){var k=d[l],e=g.patterns.toolbar.item_noicon.replace(/%id%/g,k.id).replace(/%localization%/g,k.localize).replace(/%css%/g,"undefined"!=typeof k.css?k.css+f:f).replace(/%icon%/g,"undefined"!=typeof k.icon?k.icon:"").replace(/%action%/g,"undefined"!=typeof k.action?k.action:"add-indicator").replace(/%caption%/g,
k.d);b+=e;k=g.patterns.toolbar.toolbar_more_item.replace(/%id%/g,k.id).replace(/%localization%/g,k.localize).replace(/%css%/g,"undefined"!=typeof k.css?k.css+" button-action "+a:" button-action "+a).replace(/%icon%/g,"undefined"!=typeof k.icon&&""!=k.icon?k.icon:"no-icon").replace(/%caption%/g,k.caption);c+=k}return{toolbar:b,toolbarmore:c}}function I(a,d,b){var c=b="",f="";"undefined"!=typeof g.chart.PriceChartType&&(f=g.chart.PriceChartType);var l="";"undefined"!=typeof a&&(l=a);a="";"undefined"!=
typeof d&&(a=d);d="icon-button";var k="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":d="icon-button";break;case "fonticon":d="font-icon";k="iconfont-";break;default:d="icon-button"}}catch(e){}for(var m=g.init.charttype,p=0;p<m.length;p++){var n=m[p],h=g.patterns.toolbar.button_charttype.replace(/%icon-source%/g,d).replace(C,"").replace(/%id%/g,n.id).replace(/%css%/g,"undefined"!=typeof n.css?n.css+l:l).replace(/%icon%/g,k+n.id).replace(/%caption%/g,
n.n).replace(/%hide%/g,1==n.f?"":"hideobj").replace(/%selected%/g,null==f||n.id!=f?"":"button-selected");b+=h;h=g.patterns.toolbar.toolbar_more_item.replace(C,"").replace(/%icon-source%/g,d).replace(/%id%/g,n.id).replace(/%css%/g,("undefined"!=typeof n.css?n.css+a:a)+"  change-typechart "+(1==n.f?"":"hideobj")).replace(/%icon%/g,k+n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,"menu.charttype."+n.id).replace(/%selected%/g,null==f||n.id!=f?"":"button-selected");c+=h}return{toolbar:b,toolbarmore:c}}
function K(a,d,b){var c="",f="",l="",k="",e="";"undefined"!=typeof a&&(e=a);a="";"undefined"!=typeof d&&(a=d);"undefined"!=typeof g.chart.TimeFrame&&(l=g.chart.TimeFrame.toUpperCase(),k=g.chart.TimeFrame.toLowerCase());d=!1;"undefined"!=typeof b&&"undefined"!=typeof b.captionview&&(d=b.captionview,!0==d&&(e+=" onlycaption-view onlycaption-timeframe"));var m=!1;"undefined"!=typeof b&&"undefined"!=typeof b.viewall&&(m=b.viewall);b=g.init.timeframe;for(var p=0;p<b.length;p++){var n=b[p],h="",v=g.api.timeframes.getTimeframeView(),
q="icon-button",r="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":q="icon-button";break;case "fonticon":q="font-icon";r="iconfont-";break;default:q="icon-button"}}catch(w){}switch(v){case "icon":h=g.patterns.toolbar.button_timeframe.replace(/%icon-source%/g,q).replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%icon%/g,r+G(n.id)).replace(/%hide%/g,1==n.f||!0==m?"":"hideobj").replace(/%css%/g,"undefined"==typeof n.css?e+" timeframe-icon-type":
n.css+e+" timeframe-icon-type").replace(/%selected%/g,n.id==l||n.id==k?"button-selected":"");x.icons[n.id]=g.patterns.toolbar.button_timeframe_inner.replace(/%icon%/g,r+G(n.id));break;case "text":h=g.patterns.toolbar.button_timeframe_text.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%caption2%/g,!0==d?n.n:"").replace(/%title1%/g,!0==d?"":n.t1).replace(/%title2%/g,!0==d?"":n.t2).replace(/%hide%/g,1==n.f||!0==m?"":"hideobj").replace(/%css%/g,"undefined"==typeof n.css?e+(!0!=d?" timeframe-text-type":
"timeframe-caption-type"):n.css+e+(!0!=d?" timeframe-text-type":"timeframe-caption-type")).replace(/%selected%/g,n.id==l||n.id==k?"button-selected":""),!0==d?x.captions[n.id]=g.patterns.toolbar.button_timeframe_text_inner.replace(/%caption2%/g,!0==d?n.n:"").replace(/%title1%/g,!0==d?"":n.t1).replace(/%title2%/g,!0==d?"":n.t2):x.texts[n.id]=g.patterns.toolbar.button_timeframe_text_inner.replace(/%caption2%/g,!0==d?n.n:"").replace(/%title1%/g,!0==d?"":n.t1).replace(/%title2%/g,!0==d?"":n.t2)}c+=h;switch(v){case "icon":h=
g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,q).replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,"menu.timescale."+n.id).replace(/%css%/g," change-timeframe "+(1==n.f?"":"hideobj")).replace(/%css%/g,"undefined"==typeof n.css?a:n.css+a).replace(/%icon%/g,r+G(n.id)).replace(/%selected%/g,n.id==l||n.id==k?"button-selected":"");break;case "text":h=g.patterns.toolbar.toolbar_more_item_timeframe_text.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,
"menu.timescale."+n.id).replace(/%title1%/g,n.t1).replace(/%title2%/g,n.t2).replace(/%css%/g," change-timeframe "+(1==n.f?"":"hideobj")).replace(/%css%/g,"undefined"==typeof n.css?a:n.css+a).replace(/%selected%/g,n.id==l||n.id==k?"button-selected":"")}f+=h}return{toolbar:c,toolbarmore:f}}function N(a,d,b){var c="";"undefined"!=typeof d&&(c=d);d="";"undefined"!=typeof b&&(d=b);b="icon-button";var f="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":b=
"icon-button";break;case "fonticon":b="font-icon";f="iconfont-";break;default:b="icon-button"}}catch(l){}var k=a.id;"undefined"!=typeof a.action&&"eval"==a.action&&"undefined"!=typeof a.evaldata&&""!=a.evaldata&&(k=g.actions.addEvelCode(a.evaldata));c=g.patterns.toolbar.button.replace(/%icon-source%/g,b).replace(/%li-class%/g,y(a)).replace(/%id%/g,k).replace(/%localization%/g,a.localize).replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%css%/g,"undefined"!=typeof a.css?a.css+
c:c).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);a=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,b).replace(/%id%/g,k).replace(/%localization%/g,a.localize).replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%css%/g,"undefined"!=typeof a.css?a.css+" button-action "+d:" button-action"+d).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);return{button:c,buttonmore:a}}function X(a,
d,b){var c="";"undefined"!=typeof d&&(c=d);d="";"undefined"!=typeof b&&(d=b);b="icon-button";var f="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":b="icon-button";break;case "fonticon":b="font-icon";f="iconfont-";break;default:b="icon-button"}}catch(l){}c=g.patterns.toolbar.button_custom.replace(/%li-class%/g,y(a)).replace(/%icon-source%/g,b).replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?
a.css+c:c).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);a=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,b).replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+" button-action-custom "+d:" button-action-custom"+d).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);return{button:c,buttonmore:a}}function O(a,d,b){var c="";"undefined"!=typeof d&&
(c=d);d="";"undefined"!=typeof b&&(d=b);var f=g.patterns.toolbar.item;"undefined"!=typeof a.icon&&""==a.icon&&(f=g.patterns.toolbar.item_noicon);b="icon-button";var l="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":b="icon-button";break;case "fonticon":b="font-icon";l="iconfont-";break;default:b="icon-button"}}catch(k){}var e=a.id;"undefined"!=typeof a.action&&"eval"==a.action&&"undefined"!=typeof a.evaldata&&""!=a.evaldata&&(e=g.actions.addEvelCode(a.evaldata));
c=f.replace(/%icon-source%/g,b).replace(/%li-class%/g,y(a)).replace(/%id%/g,e).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+c:c).replace(/%icon%/g,"undefined"!=typeof a.icon?l+a.icon:"").replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%caption%/g,a.caption);a=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,b).replace(/%id%/g,e).replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%localization%/g,a.localize).replace(/%css%/g,
"undefined"!=typeof a.css?a.css+" button-action "+d:" button-action "+d).replace(/%icon%/g,"undefined"!=typeof a.icon&&""!=a.icon?l+a.icon:"no-icon").replace(/%caption%/g,a.caption);return{button:c,buttonmore:a}}function M(a){var d="";"undefined"!=typeof a.location&&(d=d+" loc-"+a.location);return g.patterns.toolbar.space.replace(/%li-class%/g,y(a)).replace(/%id%/g,"undefined"!=typeof a.id?a.id:"").replace(/%csstlb%/g,d).replace(/%css%/g,"undefined"!=typeof a.css?a.css:"").replace(/%caption%/g,"undefined"!=
typeof a.caption?a.caption:"")}function L(a){return g.patterns.toolbar.caption.replace(/%li-class%/g,y(a)).replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css:"").replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%caption%/g,a.caption)}function P(a){var d="",d="%html%",b="a-top";switch(a.group.possition){case "top":b="a-top";break;case "bottom":b="a-bottom";break;case "left":b="a-left";break;case "right":b="a-right"}var c="a-menu";
switch(a.group.type){case "menu":c="a-menu";break;case "tooltip":c="a-tooltip"}var f="";"undefined"!=typeof a.group.closebyclick&&!0==a.group.closebyclick&&(f+=" tlb-a-closebyclick");"undefined"!=typeof a.group.changegroupicon&&!0==a.group.changegroupicon&&(f+=" tlb-a-changeicongroup");var l="";"undefined"!=typeof a.css&&(l=a.css);"undefined"!=typeof a.group.grouptype&&(l=l+" group-button-"+a.group.grouptype);A.push({id:a.id,group:a.group});var k="icon";"undefined"!=typeof a.group.viewtype&&(k=a.group.viewtype);
var e="";"undefined"!=typeof a.style&&(e=a.style);var m=!1;"undefined"!=typeof a&&"undefined"!=typeof a.captionview&&(m=a.captionview,!0==m&&(l+=" onlycaption-view"));g.api.timeframes.getTimeframeView();var p="",n="icon-button",h="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":n="icon-button";break;case "fonticon":n="font-icon";h="iconfont-";break;default:n="icon-button"}}catch(v){}"timescale"==a.group.grouptype&&("icon"==k?l+=" timeframe-icon-type ":
"text"==k&&(l=!0==m?l+" timeframe-caption-type ":l+" timeframe-text-type "));switch(k){case "icon":p=g.patterns.toolbar.toolbar_button_group.replace(C,"").replace(/%li-class%/g,y(a)).replace(/%icon-source%/g,n).replace(/%localization%/g,a.localize).replace(/%css%/g,l).replace(/%style%/g,e).replace(/%icon%/g,"undefined"!=typeof a.icon?h+a.icon:"").replace(/%cssgroup%/g,a.group.css+""+b+" "+c).replace(/%caption%/g,a.caption).replace(/%id%/g,a.id);break;case "text":p=g.patterns.toolbar.toolbar_button_group_text.replace(C,
"").replace(/%li-class%/g,y(a)).replace(/%localization%/g,a.localize).replace(/%css%/g,l).replace(/%style%/g,e).replace(/%title1%/g,"undefined"!=typeof a.title1?a.title1:"").replace(/%title2%/g,"undefined"!=typeof a.title2?a.title2:"").replace(/%cssgroup%/g,a.group.css+""+b+" "+c).replace(/%caption%/g,a.caption).replace(/%id%/g,a.id)}for(b=0;b<a.items.length;b++)switch(c=a.items[b],l="",c.type){case "button-group-charttype":l=I(f,void 0,c);p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,
l.toolbarmore+"%html%");break;case "menu-group-charttype":e=k=l="";"undefined"!=typeof g.chart.PriceChartType&&(e=g.chart.PriceChartType);m="";"undefined"!=typeof f&&(m=f);n=g.init.charttype;for(h=0;h<n.length;h++){var q=n[h],r="";null!=e&&q.id==e&&(r+=" button-selected ");0==q.f&&(r+="hideobj ");var r=r+" change-typechart "+m,w="icon-button",s="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":w="icon-button";break;case "fonticon":w="font-icon";
s="iconfont-";break;default:w="icon-button"}}catch(B){}r=g.patterns.toolbar.item.replace(/%icon-source%/g,w).replace(/%id%/g,q.id).replace(/%localization%/g,"menu.charttype."+q.id).replace(/%css%/g,r).replace(/%icon%/g,s+q.id).replace(/%action%/g,"undefined"!=typeof c.action?c.action:"").replace(/%caption%/g,q.n);l+=r;r=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,w).replace(C,"").replace(/%id%/g,q.id).replace(/%css%/g,("undefined"!=typeof q.css?q.css+"":"")+"  change-typechart "+
(1==q.f?"":"hideobj")).replace(/%icon%/g,s+q.id).replace(/%caption%/g,q.n).replace(/%localization%/g,"menu.charttype."+q.id).replace(/%selected%/g,null==e||q.id!=e?"":"button-selected");k+=r}l={toolbar:l,toolbarmore:k};p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,l.toolbarmore+"%html%");break;case "button-group-indicator":l=J(f,void 0,c);p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,l.toolbarmore+"%html%");break;case "item":l=O(c,f,void 0);p=p.replace(/%html%/g,
l.button+"%html%");d=d.replace(/%html%/g,l.buttonmore+"%html%");break;case "button-group-timeframe":l=K(f,void 0,c);p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,l.toolbarmore+"%html%");break;case "caption":c=L(c);p=p.replace(/%html%/g,c+"%html%");break;case "space":c=M(c);p=p.replace(/%html%/g,c+"%html%");break;case "button":l=N(c,f);p=p.replace(/%html%/g,l.button+"%html%");d=d.replace(/%html%/g,l.buttonmore+"%html%");break;case "button-group":l=P(c),p=p.replace(/%html%/g,l.toolbargroup+
"%html%"),d=d.replace(/%html%/g,l.toolbarmore+"%html%")}p=p.replace(/%html%/g,"");d=d.replace(/%html%/g,"");return{toolbargroup:p,toolbarmore:d}}function Y(){$.prochartcache.get(h.parent,".toolbar-adv",".tlb-item-group")&&$.prochartcache.get(h.parent,".toolbar-adv",".tlb-item-group").each(function(){var a=$(this);"block"==a.find(".tlb-button-groups").css("display")&&R(a)})}function Z(){$.prochartcache.get(h.parent,".toolbar-adv",".tlb-more")&&$.prochartcache.get(h.parent,".toolbar-adv",".tlb-more").each(function(){var a=
$(this),d=$(this).find("button.button-more");"block"==a.find(".tlb-more-items").css("display")&&Q(d)})}function R(a){var d=a.find(">.button-group"),b=$(d).attr("tid");!0!=$(d).hasClass("highlightedIconGroup")&&$(d).addClass("highlightedIconGroup");for(var d=null,c=0;c<A.length;c++)if(A[c].id==b){d=A[c].group;break}if(null!=d)switch(d.type){case "menu":aa(a,d);break;case "tooltip":ba(a,d)}}function S(a){var d=a.find(">.button-group"),b=$(d).attr("tid");$(d).removeClass("highlightedIconGroup");a.find(".highlightedIconGroup").removeClass("highlightedIconGroup");
for(var d=null,c=0;c<A.length;c++)if(A[c].id==b){d=A[c].group;break}if(null!=d)switch(d.type){case "menu":ca(a,d);break;case "tooltip":da(a,d)}}function E(a){a=a.closest(".tlb-item-group");S(a)}function F(a){var d=a.closest(".tlb-item-group").find("> .button-group"),b=a.attr("data-localize"),c=a.attr("title");d.attr("data-localize",b).attr("title",c);a.hasClass("caption-button")?(a=a.find(">span").attr("class"),d.find(">span").attr("class",a)):d.html(a.html())}function ba(a,d){var b=a.find(">.tlb-button-groups"),
c=b.find(" > ul"),f=b.find(">.tlb-array"),l=a.find(">.button-group");b.css("visibility","hidden").css("display","block");var k=a.closest(".htmlchart"),e=0,m=0,g=2,n=0,h=0,v=0,m=1,q="",r;"undefined"!=typeof d.spacey&&(g=d.spacey);"undefined"!=typeof d.columns&&(m=d.columns);h=l.outerWidth(!0);n=l.outerHeight(!0);v=parseInt(f.css("border-bottom-width"),10);q=l.offset().left-k.offset().left;r=k.outerWidth()-q;var l=l.offset().top-k.offset().top,k=k.outerHeight()-l,w=0;b.find(">ul").children().each(function(){w<
$(this).outerWidth(!0)&&(w=$(this).outerWidth(!0));e+=$(this).outerWidth(!0)});b.find(">ul").children();0!=m&&(e=w*m);var m=b.outerHeight(),s={};s.width=e+"px";switch(d.possition){case "bottom":s.top=n+g+"px";s.bottom="auto";break;case "top":s.top="auto";s.bottom=n+g+"px";break;case "right":s.right="auto";s.left=h+g+"px";s.top="0px";s.bottom="auto";break;case "left":s.right=h+g+"px",s.left="auto",s.top="0px",s.bottom="auto"}b.css(s);c.css({width:s.width});"undefined"==typeof d.alignh&&(d.alignh="auto");
"undefined"==typeof d.alignv&&(d.alignv="auto");c={};g={};if("top"==d.possition||"bottom"==d.possition)switch(q="auto"==d.alignh?q>e/2&&r>e/2?"center":q>e?"left":r>e?"right":"left":d.alignh,q){case "left":c.right="0px";c.left="auto";g.right="5px";g.left="auto";b.css(c);f.css(g);break;case "right":c.left="0px";c.right="auto";g.left="5px";g.right="auto";b.css(c);f.css(g);break;case "center":c.right=-parseInt(e/2-h/2)+"px",c.left="auto",g.left=e/2-v+"px",g.right="auto",b.css(c),f.css(g)}if("left"==d.possition||
"right"==d.possition)switch(m=b.outerHeight(),q="auto"==d.alignv?l>m/2&&k>m/2?"center":l>m?"top":k>m?"bottom":"top":d.alignv,q){case "top":c.bottom="auto";c.top="0px";g.top="5px";g.bottom="auto";b.css(c);f.css(g);break;case "bottom":c.top="auto";c.bottom="0px";g.bottom="5px";g.top="auto";b.css(c);f.css(g);break;case "center":c.top=-parseInt(m/2-n/2)+"px",c.bottom="auto",g.top=m/2-v+"px",g.bottom="auto",b.css(c),f.css(g)}f={opacity:1};b.css("display","none").css("opacity",0).css("visibility","");switch(d.possition){case "top":b.css({bottom:"15px",
top:"auto"});f.bottom=s.bottom;break;case "bottom":b.css({top:"15px",bottom:"auto"});f.top=s.top;break;case "right":b.css({left:"15px",right:"auto"});f.left=s.left;break;case "left":b.css({right:"15px",left:"auto"}),f.right=s.right}b.show().animate(f,200)}function da(a,d){var b=a.find(">.tlb-button-groups"),c={opacity:0};switch(d.possition){case "top":c.bottom="15";break;case "bottom":c.top="15";break;case "right":c.left=15;break;case "left":c.right=15}b.animate(c,200,function(){b.css("display","none")})}
function ca(a,d){var b=a.find(">.tlb-button-groups"),c={opacity:0};switch(d.possition){case "top":c.bottom="15";break;case "bottom":c.top="15";break;case "right":c.left=15;break;case "left":c.right=15}b.animate(c,200,function(){b.css("display","none")})}function aa(a,d){var b=a.find(">.tlb-button-groups"),c=b.find(">.tlb-array"),f=a.find(">.button-group");b.css("visibility","hidden").css("display","block");var l=a.closest(".htmlchart"),k=0,e=0,m=2,h=0,n=e=0,t=0,k=1,v="",q,r;"undefined"!=typeof d.spacey&&
(m=d.spacey);"undefined"!=typeof d.columns&&(k=d.columns);e=f.outerWidth();h=f.outerHeight();n=parseInt(c.css("border-bottom-width"),10);v=f.offset().left-l.offset().left;q=l.outerWidth()-v;var f=f.offset().top-l.offset().top,l=l.outerHeight()-f,w=0,s=0,B=0,x=0,y=0;b.find("ul button").each(function(){$(this).css({width:"auto","min-width":0});s=$(this).width();B=$(this).outerWidth(!0);s>w&&(w=s,x=B)});b.find("ul .toolbar-adv-label").each(function(){s=$(this).width();B=$(this).outerWidth(!0);y=B-s});
t=w;k*=x;switch(d.possition){case "bottom":b.css({top:"30px"});break;case "top":b.css({bottom:"30px"});break;case "right":b.css({left:"30px"});break;case "left":b.css({right:"30px"})}var u=b.find(".tlb-button-groups-ul");u.css({"max-height":"",overflow:""});r=0;r=g.init.chartcontainer;r=r.offset().top+r.outerHeight(!0);var z=b.outerHeight(!0)-b.height();r=r-u.offset().top-5-z;b.css({width:k+"px"});u.css({"max-height":r+"px",overflow:"auto"});b.find("button").css("width",t);b.find(".loc-horizontal > span.toolbar-adv-space").css("width",
t);b.find(".toolbar-adv-label ").css("width",t-y);u.hasScrollBar()&&(k+=u.widthScrollBar(),b.css({width:k+"px"}));t={};switch(d.possition){case "bottom":t.top=h+m+"px";t.bottom="auto";break;case "top":t.top="auto";t.bottom=h+m+"px";break;case "right":t.right="auto";t.left=e+m+"px";t.top="0px";t.bottom="auto";break;case "left":t.right=e+m+"px",t.left="auto",t.top="0px",t.bottom="auto"}b.css(t);"undefined"==typeof d.alignh&&(d.alignh="auto");"undefined"==typeof d.alignv&&(d.alignv="auto");m={};u={};
if("top"==d.possition||"bottom"==d.possition)switch(v="auto"==d.alignh?v+e/2>k/2&&q+e/2>k/2?"center":v+e/2>k?"left":q+e/2>k?"right":"center":d.alignh,v){case "left":m.right="0px";m.left="auto";u.right="5px";u.left="auto";b.css(m);c.css(u);break;case "right":m.left="0px";m.right="auto";u.left="5px";u.right="auto";b.css(m);c.css(u);break;case "center":m.right=-parseInt(k/2-e/2)+"px",m.left="auto",u.left=k/2-n+"px",u.right="auto",b.css(m),c.css(u)}if("left"==d.possition||"right"==d.possition)switch(e=
b.outerHeight(),v="auto"==d.alignv?f>e/2&&l>e/2?"center":f>e?"top":l>e?"bottom":"top":d.alignv,v){case "top":m.bottom="auto";m.top="0px";u.top="5px";u.bottom="auto";b.css(m);c.css(u);break;case "bottom":m.top="auto";m.bottom="0px";u.bottom="5px";u.top="auto";b.css(m);c.css(u);break;case "center":m.top=-parseInt(e/2-h/2)+"px",m.bottom="auto",u.top=e/2-n+"px",u.bottom="auto",b.css(m),c.css(u)}c={opacity:1};switch(d.possition){case "top":b.css({bottom:"15px",top:"auto"});c.bottom=t.bottom;break;case "bottom":c.top=
t.top;b.css({top:"15px",bottom:"auto"});break;case "right":b.css({left:"15px",right:"auto"});c.left=t.left;break;case "left":b.css({right:"15px",left:"auto"}),c.right=t.right}b.css("display","none").css("opacity",0).css("visibility","");b.show().animate(c,200)}function Q(a){var d=a.closest(".toolbar-adv"),b=d.attr("tid"),b=H(b).more,c=d.find(".tlb-more-items");c.css("visibility","hidden").css("display","block");var f=d.closest(".htmlchart"),d=c.find(".tlb-array"),l=0,k=0,e=2,m=2,h=0,n=k=0,t=0,l=1,
v="",q,r,w;"undefined"!=typeof b.spacey&&(e=b.spacey);"undefined"!=typeof b.spacex&&(m=b.spacex);"undefined"!=typeof b.columns&&(l=b.columns);k=a.outerWidth();h=a.outerHeight();n=parseInt(d.css("border-bottom-width"),10);v=a.offset().left-f.offset().left;q=f.outerWidth()-v;r=a.offset().top-f.offset().top;var f=f.outerHeight()-r,s=0,B=0,x=0,y=0;c.find("ul button ").each(function(){$(this).css({width:"auto","min-width":0});B=$(this).outerWidth();x=$(this).outerWidth(!0);B>s&&(s=B,y=x)});t=s;l*=y;c.css("width",
l);switch(b.possition){case "bottom":c.css({top:"30px"});break;case "top":c.css({bottom:"30px"});break;case "right":c.css({left:"30px"});break;case "left":c.css({right:"30px"})}var u=c.find(".tlb-button-groups-ul");u.css({"max-height":"",overflow:"",display:"block"});w=0;w=g.init.chartcontainer;var z=w.offset().top+w.outerHeight(!0),A=c.outerHeight(!0)-c.height();w=b.alignv&&"bottom"==b.alignv?Math.abs(w.offset().top-a.offset().top-5-A):z-u.offset().top-5-A;c.css({width:l+"px"});u.css({"max-height":w+
"px",overflow:"auto"});c.find("button").css({width:t});u.hasScrollBar()&&(l+=u.widthScrollBar(),c.css({width:l+"px"}));a={};"undefined"==typeof b.possition&&(b.possition="bottom");switch(b.possition){case "bottom":a.top=h+e+"px";a.bottom="auto";break;case "top":a.top="auto";a.bottom=h+e+"px";break;case "right":a.right="auto";a.left=k+m+"px";a.top="0px";a.bottom="auto";break;case "left":a.right=k+m+"px",a.left="auto",a.top="0px",a.bottom="auto"}c.css(a);"undefined"==typeof b.alignh&&(b.alignh="auto");
"undefined"==typeof b.alignv&&(b.alignv="auto");e={};m={};if("top"==b.possition||"bottom"==b.possition)switch(v="auto"==b.alignh?v>l/2&&q>l/2?"center":v>l?"left":q>l?"right":"left":b.alignh,v){case "left":e.right="0px";e.left="auto";m.right="5px";m.left="auto";c.css(e);d.css(m);break;case "right":e.left="0px";e.right="auto";m.left="5px";m.right="auto";c.css(e);d.css(m);break;case "center":e.right=-parseInt(l/2-k/2)+"px",e.left="auto",m.left=l/2-n+"px",m.right="auto",c.css(e),d.css(m)}if("left"==b.possition||
"right"==b.possition)switch(k=c.outerHeight(),v="auto"==b.alignv?r>k/2&&f>k/2?"center":r>k?"top":f>k?"bottom":"top":b.alignv,v){case "top":e.bottom="auto";e.top="0px";m.top="5px";m.bottom="auto";c.css(e);d.css(m);break;case "bottom":e.top="auto";e.bottom="0px";m.bottom="5px";m.top="auto";c.css(e);d.css(m);break;case "center":e.top=-parseInt(k/2-h/2)+"px",e.bottom="auto",m.top=k/2-n+"px",m.bottom="auto",c.css(e),d.css(m)}c.find(" >ul").css({width:l});c.find(" >ul >li").css({width:t,overflow:"hidden"});
d={opacity:1};c.css("display","none").css("opacity",0).css("visibility","");switch(b.possition){case "top":c.css({bottom:"15px",top:"auto"});d.bottom=a.bottom;break;case "bottom":c.css({top:"15px",bottom:"auto"});d.top=a.top;break;case "right":c.css({left:"15px",right:"auto"});d.left=a.left;break;case "left":c.css({right:"15px",left:"auto"}),d.right=a.right}c.show().animate(d,200)}function D(a){a=a.closest(".toolbar-adv");var d=a.attr("tid"),d=H(d).more,b=a.find(".tlb-more-items");"undefined"==typeof d.possition&&
(d.possition="bottom");a={opacity:0};switch(d.possition){case "top":a.bottom="15";break;case "bottom":a.top="15";break;case "right":a.left=15;break;case "left":a.right=15}b.animate(a,200,function(){b.css("display","none")})}function ea(a,d){$(h.parent).find(".toolbar-adv").each(function(){"rtl"==d?$(this).hasClass("dir-rtl")||$(this).addClass("dir-rtl"):$(this).removeClass("dir-rtl")})}function z(){$.prochartcache.get(h.parent,".toolbar-adv")&&$.prochartcache.get(h.parent,".toolbar-adv").each(function(a){a=
$.prochartcache.get($(this));var d=a.attr("tid"),d=H(d);if(null!=d)switch(d.location){case "vertical":fa(a,d);break;case "horizontal":T(a,d);default:T(a,d)}})}function T(a,d){for(var b=[],c=a.children(),f=0,l=c.length;f<l;f++){var k=$(c[f]),e;e=k;e=e.hasClass("tlb-caption")?"tlb-caption":e.hasClass("tlb-item")?"tlb-item":e.hasClass("tlb-space")?"tlb-space":e.hasClass("tlb-more")?"tlb-more":"none";var m=!0;k.find(">").hasClass("hideobj")&&(m=!1);"tlb-more"==e&&(m=!1);b.push({li:k,width:k.outerWidth(!0),
type:e,show:m})}f=a.width();e=0;m=d.more;c=!1;"undefined"==typeof m&&(m={captionview:!0,spaceview:!0},c=!0);for(var l=!1,k=c?0:g.apiinit.fn.get("toolbar","iconMoreSizeWidth"),h=0,n=b.length;h<n;h++)c=b[h],e+=c.width;h=e>f&&!1==m.captionview;e=e>f&&!1==m.captionview;m=0;for(n=b.length;m<n;m++)switch(c=b[m],c.type){case "tlb-caption":c.show=h?!1:!0;break;case "tlb-space":c.show=e?!1:!0}m=e=0;for(h=b.length;m<h;m++)c=b[m],c.show&&(e+=c.width);e>f&&(l=!0,f-=k);e=k=0;for(m=b.length;e<m;e++)c=b[e],c.show&&
(k+=c.width,k>f&&(c.show=!1)),"tlb-more"==c.type&&l&&(c.show=!0);f=0;for(l=b.length;f<l;f++)c=b[f],c.tid="tlb-item"==c.type?c.li.find("> button").attr("tid"):null;l=a.find(".tlb-more-item button");f=[];c=0;for(k=l.length;c<k;c++)e=$(l[c]),m=e.attr("tid"),f.push({item:e,tid:m,show:!1});k=0;for(e=b.length;k<e;k++)if(c=b[k],"tlb-item"==c.type&&!1==c.show)for(m=0,h=f.length;m<h;m++)if(f[m].tid==c.tid){f[m].show=!0;break}k=a.parent();$(document.createDocumentFragment()).append(a);e=0;for(m=b.length;e<
m;e++)c=b[e],c.show?$(c.li).removeClass("hide-tlb-item"):$(c.li).addClass("hide-tlb-item");$.prochartcache.get(a,".tlb-more-item")&&$.prochartcache.get(a,".tlb-more-item").addClass("hide-more-item");b=0;for(c=l.length;b<c;b++)!0==f[b].show&&f[b].item.parent().removeClass("hide-more-item");k.append(a)}function fa(a,d){function b(b){$(b).addClass("hide-tlb-item");var c=$(b).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+c+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+
c+"']").parent().removeClass("hide-more-item");$(b).hasClass("tlb-item-group")&&f(b)}function c(b){$(b).removeClass("hide-tlb-item");var c=$(b).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+c+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+c+"']").parent().addClass("hide-more-item");$(b).hasClass("tlb-item-group")&&l(b)}function f(b){$(b).find(".tlb-item").each(function(){var b=$(this).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+
b+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+b+"']").parent().removeClass("hide-more-item")})}function l(b){$(b).find(".tlb-item").each(function(){var b=$(this).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+b+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+b+"']").parent().addClass("hide-more-item")})}var k=a.parent().outerWidth(),e=a.parent().outerHeight();if("undefined"==typeof k||null==k)k=a.width();if("undefined"==typeof e||null==
e)e=a.height();var h=0,p=0,n=0,t=null,v=0,q=d.more,r=!1;"undefined"==typeof q&&(q={captionview:!0,spaceview:!0},r=!0);var w=g.apiinit.fn.get("toolbar","iconMoreSizeWidth");!0==r&&(w=0);a.find("> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){h+=$(this).outerHeight(!0);p+=$(this).outerWidth(!0);p>k&&(p=0)});p=0;h>e&&!1==q.captionview?$.prochartcache.get(a,"> .tlb-caption")&&$.prochartcache.get(a,"> .tlb-caption").addClass("hide-tlb-item"):$.prochartcache.get(a,"> .tlb-caption")&&$.prochartcache.get(a,
"> .tlb-caption").removeClass("hide-tlb-item");h>e&&!1==q.spaceview?$.prochartcache.get(a,"> .tlb-space")&&$.prochartcache.get(a,"> .tlb-space").addClass("hide-tlb-item"):$.prochartcache.get(a,"> .tlb-space")&&$.prochartcache.get(a,"> .tlb-space").removeClass("hide-tlb-item");$.prochartcache.get(a,"> .tlb-item, > .tlb-caption, > .tlb-space")&&$.prochartcache.get(a,"> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){$(this).hasClass("tlb-caption")&&(h>e&&!1==q.captionview?$(this).addClass("hide-tlb-item"):
(n+=$(this).outerHeight(!0),p=0,$(this).removeClass("hide-tlb-item").css("width",k)));$(this).hasClass("tlb-space")&&($(this).hasClass("loc-horizontal")?!1==q.spaceview?$(this).addClass("hide-tlb-item").css("width",k):(n+=$(this).outerHeight(!0),p=0,n>e?$(this).addClass("hide-tlb-item").css("width",k):$(this).removeClass("hide-tlb-item").css("width",k)):h>e&&!1==q.spaceview?$(this).addClass("hide-tlb-item"):(p+=$(this).outerWidth(!0),p>e-w?$(this).addClass("hide-tlb-item"):$(this).removeClass("hide-tlb-item")));
$(this).hasClass("tlb-item")&&(n+$(this).outerHeight(!0)>e&&(b(this),v=1),n+$(this).outerHeight(!0)<=e&&(p+=$(this).outerWidth(!0),p<k?(0==p&&(n+=$(this).outerHeight(!0)),t=this,n+=$(this).outerHeight(!0),c(this)):(p=$(this).outerWidth(!0),n>e?(b(this),v=1):(t=this,n+=$(this).outerHeight(!0),c(this)))))});null!=t&&1==v&&!1==r?(b(t),a.find(".tlb-more").css("display","block").insertAfter(t)):a.find(".tlb-more").css("display","none")}function G(a){if("undefined"==typeof a||null==a)return"";for(var d=
0;d<g.init.timeclassmirror.length;d++)if(g.init.timeclassmirror[d].time==a.toLowerCase()||g.init.timeclassmirror[d].time==a.toUpperCase())return g.init.timeclassmirror[d].css;return""}function H(a){for(var d=g.currenlayout.toolbars,b=0;b<d.length;b++){var c=d[b];if(c.id==a)return c}return null}var h={},g=U;g.toolbaradvobj=h;h.mycache={};var C=/=""/g,W=g.api.debug.getLogger("prochart.gui.toolbar"),A=[];h.gui={viewToolbarTop:function(a){!1==g.guiinit.cache&&(new Date).getTime();h.parent=a;V();"undefined"!=
typeof g.localizationobj&&g.localizationobj.gui.updateFromDataLang(a)},viewTimeFrameButton:function(a,d){var b=$.prochartcache.get(h.parent,".tlb-item button[tid^='"+a+"']"),c=$.prochartcache.get(h.parent,".tlb-more-item button[tid^='"+a+"']");if(b||c){switch(d){case "1":case 1:b&&b.removeClass("hideobj");c&&c.removeClass("hideobj");break;case 0:case "0":b&&b.addClass("hideobj"),c&&c.addClass("hideobj")}z()}},viewTimeFrameButtons:function(a){if(0!=a.length){for(var d=0;d<a.length;d++){var b=a[d],
c=$.prochartcache.get(h.parent,".tlb-item button[tid^='"+b.id+"']"),f=$.prochartcache.get(h.parent,".tlb-more-item button[tid^='"+b.id+"']");if(c||f)switch(b.f){case "1":case 1:c&&c.removeClass("hideobj");f&&f.removeClass("hideobj");break;case 0:case "0":c&&c.addClass("hideobj"),f&&f.addClass("hideobj")}}z()}},selectedTimeFrameButton:function(a){if("undefined"!=typeof a&&"null"!=a){$.prochartcache.get(h.parent,".change-timeframe")&&$.prochartcache.get(h.parent,".change-timeframe").removeClass("button-selected");
var d=$.prochartcache.get(h.parent,".change-timeframe[tid|='"+a+"']");d&&d.addClass("button-selected");$.prochartcache.get(h.parent,".group-button-timescale")&&$.prochartcache.get(h.parent,".group-button-timescale").each(function(){var b=$(this);b.hasClass("timeframe-text-type")?x.texts.hasOwnProperty(a)&&b.html(x.texts[a]):b.hasClass("timeframe-icon-type")?x.icons.hasOwnProperty(a)&&b.html(x.icons[a]):b.hasClass("timeframe-caption-type")&&x.captions.hasOwnProperty(a)&&b.html(x.captions[a]);try{g.localizationobj.gui.setLocalizationForElement(b)}catch(c){}})}},
selectedChartTypeButton:function(a){if("undefined"!=typeof a&&"null"!=a){$.prochartcache.get(h.parent,".change-typechart")&&$.prochartcache.get(h.parent,".change-typechart").removeClass("button-selected");var d=$.prochartcache.get(h.parent,".change-typechart[tid^='"+a+"']");d&&d.addClass("button-selected");$.prochartcache.get(h.parent,".group-button-charttype")&&d&&$.prochartcache.get(h.parent,".group-button-charttype").each(function(){d.hasClass("caption-button")?($(this).attr("data-localize",d.attr("data-localize")),
$(this).attr("title",d.attr("title")),$(this).find(">span").attr("class",d.find(">span").attr("class"))):$(this).html(d.html())})}},viewTypeChartButton:function(a,d){var b=$.prochartcache.get(h.parent,".tlb-item button[tid|='"+a+"']"),c=$.prochartcache.get(h.parent,".tlb-more-item button[tid|='"+a+"']");if(b||c){switch(d){case 1:b&&b.removeClass("hideobj");c&&c.removeClass("hideobj");break;case 0:b&&b.addClass("hideobj"),c&&c.addClass("hideobj")}z()}},viewTypeChartButtons:function(a){if(0!=a.length){for(var d=
0;d<a.length;d++){var b=a[d],c=$.prochartcache.get(h.parent,".tlb-item button[tid|='"+b.id+"']"),f=$.prochartcache.get(h.parent,".tlb-more-item button[tid|='"+b.id+"']");if(c||f)switch(b.f){case 1:case "1":c&&c.removeClass("hideobj");f&&f.removeClass("hideobj");break;case 0:case "0":c&&c.addClass("hideobj"),f&&f.addClass("hideobj")}}z()}},updateTimesScale:function(a){"undefined"!=typeof a&&null!=a&&("undefined"!=typeof a.timescales&&null!=a.timescales?($.prochartcache.get(h.parent,".change-timeframe")&&
$.prochartcache.get(h.parent,".change-timeframe").addClass("disabled"),a.timescales.forEach(function(a){$.prochartcache.get(h.parent,'.change-timeframe[tid="'+a+'"]')&&$.prochartcache.get(h.parent,'.change-timeframe[tid="'+a+'"]').removeClass("disabled")})):$.prochartcache.get(h.parent,".change-timeframe")&&$.prochartcache.get(h.parent,".change-timeframe").removeClass("disabled"))},adjustSize:z,changeLocalization:function(a,d){z();ea(a,d);Y();Z()},hideopengroup:function(){$.prochartcache.get(h.parent,
".tlb-button-groups")&&$.prochartcache.get(h.parent,".tlb-button-groups").css("display","none");$.prochartcache.get(h.parent,".tlb-more-items")&&$.prochartcache.get(h.parent,".tlb-more-items").css("display","none")},changeIcon:function(a,d){$.prochartcache.get(h.parent,"button.icon-button","> span."+a)&&$.prochartcache.get(h.parent,"button.icon-button","> span."+a).removeClass(a).addClass(d)}};var x={icons:{},captions:{},texts:{}};return h};
