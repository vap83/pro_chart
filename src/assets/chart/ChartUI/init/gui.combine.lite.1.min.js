function ProChart_InitApi(l){function p(c,e){try{a.gui.localstorage_condition.pricestyle&&(localStorage[b.localstorage.key+c]=JSON.stringify(e))}catch(f){}}function q(c){try{if(a.gui.localstorage_condition.pricestyle&&"undefined"!=typeof localStorage[b.localstorage.key+c])return JSON.parse(localStorage[b.localstorage.key+c])}catch(e){return null}}function h(){var c=null;m(a.currenlayout)&&m(a.currenlayout.chart_panels)&&(c=a.currenlayout.chart_panels,r(c,arguments))}function k(){if(m(a.currenlayout)&&
m(a.currenlayout.chart_panels))return s(a.currenlayout.chart_panels,arguments)}function r(c,a){for(var b=0;b<a.length-2;b++)c=t(a[b])?u(c,a[b]):c[a[b]];if(m(c)){var d=b=a[a.length-2];typeof b!=typeof String&&(d=b.toString());b=d.split("||");if(b instanceof Array){var g=d=a[a.length-1];typeof d!=typeof String&&(g=d.toString());d=g.split("||");if(d instanceof Array&&b.length==d.length)for(g=0;g<b.length;g++)c[b[g]]=d[g],v(c,b[g],d[g])}else c[a[a.length-2]]=a[a.length-1],v(c,a[a.length-2],a[a.length-
1])}}function s(c,a){for(var b=0;b<a.length;b++)if(t(a[b])){if(c=u(c,a[b]),null==c)return}else try{c=c[a[b]]}catch(d){return}if(m(c))return c}function v(c,b,f){if("undefined"==typeof c.fns)return null;this.objparent=c;this.objChartMain=a;for(var d=0;d<c.fns.length;d++){var g=c.fns[d];if(g.prop==b)for(var n=0;n<g.actions.length;n++){var h=g.actions[n].replace(/%property%/g,b).replace(/%value%/g,f);try{eval(h)}catch(k){console.log(k)}}}}function m(c){return"undefined"!=typeof c&&null!=c}function t(c){var a=
c.indexOf("[");c=c.indexOf("]");return-1!=a&&-1!=c&&a<c?!0:!1}function u(c,a){var b=a.indexOf("["),d=a.indexOf("]"),b=a.substring(b+1,d),d=a.replace(b,"").replace("[","").replace("]",""),g=b.split("="),b=g[0],g=g[1],d=c[d];if("undefined"!=typeof d&&null!=d&&d instanceof Array)for(var n=0;n<d.length;n++)if(d[n][b]==g)return d[n];return null}var a=l,b={};a.api=b;b.debug={console:!1,mainlevel:0,getLogger:function(a){for(var e=0;e<b.debug.data.length;e++)if(b.debug.data[e].name==a)return b.debug.data[e];
e=jQuery.extend(!0,{},w);e.name=a;b.debug.data.push(e);return e},setLevel:function(a){this.mainlevel=a},data:[],logging:{WARNING:1,ERROR:2,DEBUG:16,TIME:5,NONE:0,iNFO:3}};var w={name:"",setLevel:function(a){this.level=a},level:0,debug:function(){if(b.debug.mainlevel>=b.debug.logging.DEBUG&&this.level>=b.debug.logging.DEBUG){var a=Array.prototype.slice.call(arguments);a.splice(0,0,"DEBUG:/"+this.name+"/>");a.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.log.apply(console,
a)}},warn:function(a){if(b.debug.mainlevel>=b.debug.logging.WARNING&&this.level>=b.debug.logging.WARNING){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"WARNING:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.warn.apply(console,e)}},error:function(a){if(b.debug.mainlevel>=b.debug.logging.ERROR&&this.level>=b.debug.logging.ERROR){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"ERROR:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+
" "+(new Date).toLocaleTimeString());console.error.apply(console,e)}},info:function(a){if(b.debug.mainlevel>=b.debug.logging.INFO&&this.level>=b.debug.logging.INFO){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"INFO:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.info.apply(console,e)}},timebegin:function(a){b.debug.mainlevel>=b.debug.logging.TIME&&this.level>=b.debug.logging.TIME&&console.time(this.name+"_",a)},timeend:function(a){b.debug.mainlevel>=
b.debug.logging.TIME&&this.level>=b.debug.logging.TIME&&console.timeEnd(this.name+"_",a)}};b.layout=ProChart_InitApitLayout(l);b.header=ProChart_InitAPIHeader(l);b.zoom=ProChart_InitAPIZoom(l);b.menu=ProChart_InitAPIMenu(l);b.toolbar=ProChart_InitAPIToolbar(l);b.panels=ProChart_InitAPIPanels(l);b.props=ProChart_InitAPIProps(l);a.api.debug.setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.header").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.panels").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.layout").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.zoom").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.draw").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.toolbar").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.menu").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.actions").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.community").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.messages").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.systems").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.compare").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.trade").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.plugs").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.localization").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.indicators").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.alert").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.msg").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.patterns").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("htmldemo").setLevel(a.api.debug.logging.NONE);b.indicators={getIndicatorObjectParams:function(c){return a.indicators.gui.getIndicatorObjectParam(c)},add:function(c,b){a.chart.AddStudyWithParams(c,b)}};b.timeframes={getTimeframeView:function(){var c=
"icon";null==a.apiinit.timeframeview?"undefined"!=typeof a.currenlayout.timeframeview&&null!=a.currenlayout.timeframeview&&(c=a.currenlayout.timeframeview):c=a.apiinit.timeframeview;return c},getCaptionbyID:function(c){if("undefined"!=typeof a.gui.init.timeframe&&null!=a.gui.init.timeframe)try{for(var b=0;b<a.gui.init.timeframe.length;b++)if(a.gui.init.timeframe[b].id==c)return a.gui.init.timeframe[b].n}catch(f){return""}else if("undefined"!=typeof a.init.timeframe&&null!=a.init.timeframe)try{for(b=
0;b<a.init.timeframe.length;b++)if(a.init.timeframe[b].id==c)return a.init.timeframe[b].n}catch(d){return""}}};b.chart={set:h,get:k};b.chart.panels={price:new function(){Object.defineProperty(this,"grow",{get:function(){return k("price","grow")},set:function(a){h("price","grow",a)}});for(var a="axisy axisx main legend controlpanel zoom".split(" "),b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};Object.defineProperty(this,a[f],{writable:!1,enumerable:!0});for(var d=
0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("price",a,b)},set:function(c){h("price",a,b,c)}})})(a[f],b[d],this)}},study:new function(){Object.defineProperty(this,"grow",{get:function(){return k("study","grow")},set:function(a){h("study","grow",a)}});for(var a=["axisy","axisx","main","legend","controlpanel"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],
b,{get:function(){return k("study",a,b)},set:function(c){h("study",a,b,c)}})})(a[f],b[d],this)}},splitterx:new function(){for(var a=["main"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("splitterx",a,b)},set:function(c){h("splitterx",a,b,c)}})})(a[f],b[d],this)}},plugin:new function(){Object.defineProperty(this,"grow",{get:function(){return k("signal","grow")},
set:function(a){h("signal","grow",a)}});for(var a=["main","legend","controlpanel","alert"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("signal",a,b)},set:function(c){h("signal",a,b,c)}})})(a[f],b[d],this)}},set:h,get:k};b.zoom={set:function(){var b=null;m(a.currenlayout.zooms)&&(b=a.currenlayout,r(b,arguments))},get:function(){if(m(a.currenlayout.zooms))return s(a.currenlayout,
arguments)}};b.localization={changeLang:function(b){try{return"undefined"!=typeof a.localizationobj?a.localizationobj.gui.changeLocalization(b):null}catch(e){return null}},getCurrentLanguageObj:function(){try{return"undefined"!=typeof a.localizationobj?a.localizationobj.gui.returnCurrentLanguage():null}catch(b){return null}}};b.plugin={};b.localstorage={getPriceType:function(){try{if(a.gui.localstorage_condition.pricetype&&"undefined"!=typeof localStorage[b.localstorage.key+"pricetype"])return localStorage[b.localstorage.key+
"pricetype"]}catch(c){}return null},setPriceType:function(c){try{a.gui.localstorage_condition.pricetype&&(localStorage[b.localstorage.key+"pricetype"]=c)}catch(e){}return null},getPriceStyle:q,setPriceStyle:p,getPriceLine:function(){try{if(a.gui.localstorage_condition.priceline&&"undefined"!=typeof localStorage[b.localstorage.key+"priceline"])return localStorage[b.localstorage.key+"priceline"]}catch(c){}return null},setPriceLine:function(c){try{a.gui.localstorage_condition.priceline&&(localStorage[b.localstorage.key+
"priceline"]=c)}catch(e){}return null},getVolumeStyle:q,setVolumeStyle:p,getMajorsFavorites:function(){try{if(a.gui.localstorage_condition.majorsfavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"majorsfavorites"])return JSON.parse(localStorage[b.localstorage.key+"majorsfavorites"])}catch(c){}return null},setMajorsFavorites:function(c){try{a.gui.localstorage_condition.majorsfavorites&&(localStorage[b.localstorage.key+"majorsfavorites"]=JSON.stringify(c))}catch(e){}},getCompareFavorites:function(){try{if(a.gui.localstorage_condition.comparefavorites&&
"undefined"!=typeof localStorage[b.localstorage.key+"comparefavorites"])return JSON.parse(localStorage[b.localstorage.key+"comparefavorites"])}catch(c){}return null},setCompareFavorites:function(c){try{a.gui.localstorage_condition.comparefavorites&&(localStorage[b.localstorage.key+"comparefavorites"]=JSON.stringify(c))}catch(e){}},getIndicatorsFavorites:function(){try{if(a.gui.localstorage_condition.indicatorsfavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"indicatorsfavorites"])return JSON.parse(localStorage[b.localstorage.key+
"indicatorsfavorites"])}catch(c){}return null},setIndicatorsFavorites:function(c){try{a.gui.localstorage_condition.indicatorsfavorites&&(localStorage[b.localstorage.key+"indicatorsfavorites"]=JSON.stringify(c))}catch(e){}},getTimeFrameFavorites:function(){try{if(a.gui.localstorage_condition.timeframefavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"timeframefavorites"])return JSON.parse(localStorage[b.localstorage.key+"timeframefavorites"])}catch(c){}return null},setTimeFrameFavorites:function(c){try{a.gui.localstorage_condition.timeframefavorites&&
(localStorage[b.localstorage.key+"timeframefavorites"]=JSON.stringify(c))}catch(e){}},getPriceTypeFavorites:function(){try{if(a.gui.localstorage_condition.pricetypefavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"pricetypefavorites"])return JSON.parse(localStorage[b.localstorage.key+"pricetypefavorites"])}catch(c){}return null},setPriceTypeFavorites:function(c){try{a.gui.localstorage_condition.pricetypefavorites&&(localStorage[b.localstorage.key+"pricetypefavorites"]=JSON.stringify(c))}catch(e){}},
getDrawStyle:function(){},setDrawStyle:function(a){},clear:function(){for(var a=b.localstorage.key,e=0;e<b.localstorage_condition.save_list_name.length;e++)try{localStorage.removeItem(a+b.localstorage_condition.save_list_name[e])}catch(f){}},clearAll:function(){try{localStorage.clear()}catch(a){}}};b.localstorage_condition={save_list_name:"pricestyle indicatorsfavorites drawstyle timeframefavorites pricetypefavorites volumestyle pricetype majorsfavorites comparefavorites".split(" ")};Object.defineProperty(b.localstorage_condition,
"pricestyle",{get:function(){return a.gui.localstorage_condition.pricestyle},set:function(b){a.gui.localstorage_condition.pricestyle=b}});Object.defineProperty(b.localstorage_condition,"volumestyle",{get:function(){return a.gui.localstorage_condition.volumestyle},set:function(b){a.gui.localstorage_condition.volumestyle=b}});Object.defineProperty(b.localstorage_condition,"pricetype",{get:function(){return a.gui.localstorage_condition.pricetype},set:function(b){a.gui.localstorage_condition.pricetype=
b}});Object.defineProperty(b.localstorage_condition,"majorsfavorites",{get:function(){return a.gui.localstorage_condition.majorsfavorites},set:function(b){a.gui.localstorage_condition.majorsfavorites=b}});Object.defineProperty(b.localstorage_condition,"comparefavorites",{get:function(){return a.gui.localstorage_condition.comparefavorites},set:function(b){a.gui.localstorage_condition.comparefavorites=b}});Object.defineProperty(b.localstorage_condition,"indicatorsfavorites",{get:function(){return a.gui.localstorage_condition.indicatorsfavorites},
set:function(b){a.gui.localstorage_condition.indicatorsfavorites=b}});Object.defineProperty(b.localstorage_condition,"drawstyle",{get:function(){return a.gui.localstorage_condition.drawstyle},set:function(b){a.gui.localstorage_condition.drawstyle=b}});Object.defineProperty(b.localstorage_condition,"timeframefavorites",{get:function(){return a.gui.localstorage_condition.timeframefavorites},set:function(b){a.gui.localstorage_condition.timeframefavorites=b}});Object.defineProperty(b.localstorage_condition,
"pricetypefavorites",{get:function(){return a.gui.localstorage_condition.pricetypefavorites},set:function(b){a.gui.localstorage_condition.pricetypefavorites=b}});Object.defineProperty(b.localstorage_condition,"priceline",{get:function(){return a.gui.localstorage_condition.priceline},set:function(b){a.gui.localstorage_condition.priceline=b}});Object.defineProperty(b.localstorage,"key",{get:function(){return a.gui.localstorage_condition.storage_key},set:function(b){a.gui.localstorage_condition.storage_key=
b}});return b};
function ProChart_InitApiInit(b){var c={};b.apiinit=c;c.fn={set:function(){if(0!=arguments.length){for(var a=c,b=0;b<arguments.length-2;b++)a=a[arguments[b]];"undefined"!=typeof a&&null!=a&&(a[arguments[arguments.length-2]]=arguments[arguments.length-1])}},get:function(){if(0!=arguments.length){for(var a=c,b=0;b<arguments.length;b++)a=a[arguments[b]];return a}}};var d={};Object.defineProperty(d,"layout1to2",{value:{},writable:!1,configurable:!1});Object.defineProperty(b,"autocorrect",{value:{},writable:!1,
configurable:!1});Object.defineProperty(b.autocorrect,"layout1to2",{value:{},writable:!1,configurable:!1});Object.defineProperty(d.layout1to2,"correct",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"zoomblock",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"legeninprice",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"legeninstudy",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"legencollapse",
{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"controlpanel",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"headertimeframe",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"daterangezoom",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"axisxinmain",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"daterangemain",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,
"msgbottom",{value:!0,writable:!0,configurable:!1});Object.defineProperty(d.layout1to2,"header",{value:!0,writable:!0,configurable:!1});Object.defineProperties(b.autocorrect.layout1to2,{correct:{set:function(a){a="boolean"!=typeof a?!0:a;d.layout1to2.correct=a;d.layout1to2.zoomblock=a;d.layout1to2.legeninprice=a;d.layout1to2.legeninstudy=a;d.layout1to2.legencollapse=a;d.layout1to2.controlpanel=a;d.layout1to2.headertimeframe=a;d.layout1to2.daterangezoom=a;d.layout1to2.axisxinmain=a;d.layout1to2.daterangemain=
a;d.layout1to2.msgbottom=a;d.layout1to2.header=a},get:function(){return d.layout1to2.correct}},zoomblock:{set:function(a){d.layout1to2.zoomblock="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.zoomblock}},legeninprice:{set:function(a){d.layout1to2.legeninprice="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.legeninprice}},legeninstudy:{set:function(a){d.layout1to2.legeninstudy="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.legeninstudy}},legencollapse:{set:function(a){d.layout1to2.legencollapse=
"boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.legencollapse}},controlpanel:{set:function(a){d.layout1to2.controlpanel="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.controlpanel}},headertimeframe:{set:function(a){d.layout1to2.headertimeframe="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.headertimeframe}},daterangezoom:{set:function(a){d.layout1to2.daterangezoom="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.daterangezoom}},axisxinmain:{set:function(a){d.layout1to2.axisxinmain=
"boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.axisxinmain}},daterangemain:{set:function(a){d.layout1to2.daterangemain="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.daterangemain}},msgbottom:{set:function(a){d.layout1to2.msgbottom="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.msgbottom}},header:{set:function(a){d.layout1to2.header="boolean"!=typeof a?!0:a},get:function(){return d.layout1to2.header}}});b.gui.size={mainWidth:900,mainHeight:900,mainPaddingTop:null,
mainPaddingBottom:null,mainPaddingLeft:null,mainPaddingRight:null,width:820,height:null,subheight:null,paddingTop:null,paddingBottom:null,paddingPriceBottom:null,paddingLeft:null,paddingRight:null,zoomWidth:810,zoomWidthRangebutton:10,autoInnerWidth:!0,autoInnerHeight:!0,fixedSize:!0,fullpage:!1,fullscreen:!0,fullPaddingTop:null,fullPaddingBottom:null,fullPaddingLeft:null,fullPaddingRight:null};b.gui.size.panels={unit:null,padding:null,spiltmargin:null,margin:null,price:{grow:null,axisy:{view:null,
width:null,right:null,padding:null},axisx:{view:null,height:null,right:null,bottom:null,padding:null},main:{top:null,left:null,right:null,bottom:null,padding:null},legend:{height:null,top:null,left:null,right:null,padding:null},controlpanel:{view:null,height:null,width:null,right:null,top:null},zoom:{height:null,bottom:null,width:null,left:null,right:null,padding:null}},study:{grow:null,axisy:{top:null,bottom:null,view:null,width:null,right:null,padding:null},axisx:{view:null,height:null,right:null,
bottom:null,padding:null},main:{top:null,left:null,right:null,bottom:null,padding:null},legend:{height:null,top:null,left:null,right:null,padding:null},controlpanel:{view:null,height:null,width:null,right:null,top:null}},splitterx:{view:null,grow:null,height:null,main:{top:null,left:null,right:null,bottom:null,height:null,padding:null}},signal:{grow:null,main:{top:null,left:null,right:null,bottom:null,padding:null},legend:{view:null,height:null,top:null,left:null,right:null,padding:null},controlpanel:{view:null,
height:null,width:null,right:null,top:null},alert:{view:!0,top:0,left:0,bottom:0,right:0,padding:[0,0,0,0]}}};b.gui.localstorage_condition={pricetype:!1,pricestyle:!1,volumestyle:!1,majorsfavorites:!1,comparefavorites:!1,indicatorsfavorites:!1,drawstyle:!1,pricetypefavorites:!1,timeframefavorites:!1,priceline:!1,storage_key:""};b.gui.localstorage={price:[],volume:null};b.gui.guiblock={header:{visible:null},menu:{visible:1,majors:{visible:null},template:{visible:null},charttype:{visible:null},timeframe:{visible:null},
studies:{visible:null},compares:{visible:null},localization:{visible:null},help:{visible:null,functionhelp:null},about:{visible:null}},toolbar:{visible:null,charttype:{visible:null},timeframe:{visible:null},systems:{visible:null},other:{visible:null}},zoom:{visible:null,zoomtoolbar:{visible:null}}};b.guiinit={rootpath:"",onlyliteload:!1,trade:!0,menu:!0,toolbaradv:!0,zoom:!0,system:!0,draw:!0,color:!0,header:!0,alert:!1,msg:!1,community:!0,compare:!0,messages:!0,signals:!0,indicators:!0,props:!0,
minifier:!1,cache:!0,plugs:!0,customLayoutFile:"",customPanelPatternFile:"",customHeaderPatternFile:"",customMenuPatternFile:"",customToolbarPatternFile:"",customZoomPatternFile:"",customTemplateFile:"",customJsonCssFile:"",parentRelativeObjectID:null,timeupdateVersiongui:"",patterncombine:!0,layout:{timeframeview:null}};b.gui.fullscreensize={fullscreenstatus:!1,mainWidth:null,mainHeight:null,width:null,height:null,autoInnerWidth:!0,autoInnerHeight:!0,zoomWidth:null,fixedSize:!0};b.gui.fullpagesize=
{fullpagestatus:!1,mainWidth:null,mainHeight:null,width:null,height:null,autoInnerWidth:!0,autoInnerHeight:!0,zoomWidth:null,fixedSize:!0,parentObject:null,fullpageHideScroll:!0};b.gui.init={majors:null,majors2:null,compares:null,timeframe:null,autotimescale:null,localization:null,localizationlang:null,charttype:null,indicators:null,signals:null,comparecharttype:null,StudiesToLoad:[],savedIndicatorsSetting:[]};c.main={set guirootpath(a){b.guiinit.rootpath=a},get guirootpath(){return b.guiinit.rootpath},
set customLayoutFile(a){b.guiinit.customLayoutFile=a},get customLayoutFile(){return b.guiinit.customLayoutFile},set timeframe(a){b.gui.init.timeframe=a},get timeframe(){return b.gui.init.timeframe},set majors(a){b.gui.init.majors=a},get majors(){return b.gui.init.majors},set majors2(a){b.gui.init.majors2=a},get majors2(){return b.gui.init.majors2}};c.layout={};c.menu={};c.header={searchDelayMs:750};Object.defineProperty(c,"searchDelay",{get:function(){return"undefined"!=typeof c.header.searchDelayMs?
c.header.searchDelayMs:750},set:function(a){c.header.searchDelayMs=a}});c.toolbar={iconSizeWidth:32,iconSizeHeigh:32,iconMoreSizeWidth:32,iconMoreSizeHeight:32};c.chart={};c.guipart={enabled:{}};Object.defineProperty(c,"savedIndicatorsSetting",{configurable:!1,get:function(){return b.gui.init.savedIndicatorsSetting},set:function(a){b.gui.init.savedIndicatorsSetting=a}});Object.defineProperty(c.chart,"ShowBarData",{get:function(){return b.chart.ShowBarData},set:function(a){b.chart.ShowBarData=a}});
Object.defineProperty(c,"timeframeview",{get:function(){return b.guiinit.layout.timeframeview},set:function(a){b.guiinit.layout.timeframeview=a}});Object.defineProperty(c,"customJsonCssFile",{get:function(){return b.guiinit.customJsonCssFile},set:function(a){b.guiinit.customJsonCssFile=a}});Object.defineProperty(c.guipart.enabled,"menu",{get:function(){return b.guiinit.menu},set:function(a){b.guiinit.menu=a}});Object.defineProperty(c.guipart.enabled,"header",{get:function(){return b.guiinit.header},
set:function(a){b.guiinit.header=a}});Object.defineProperty(c.guipart.enabled,"alert",{get:function(){return b.guiinit.alert},set:function(a){b.guiinit.alert=a}});Object.defineProperty(c.guipart.enabled,"msg",{get:function(){return b.guiinit.msg},set:function(a){b.guiinit.msg=a}});Object.defineProperty(c.guipart.enabled,"toolbar",{get:function(){return b.guiinit.toolbaradv},set:function(a){b.guiinit.toolbaradv=a}});Object.defineProperty(c.guipart.enabled,"zoom",{get:function(){return b.guiinit.zoom},
set:function(a){b.guiinit.zoom=a}});Object.defineProperty(c.guipart.enabled,"signals",{get:function(){return b.guiinit.signals},set:function(a){b.guiinit.signals=a}});Object.defineProperty(c.guipart.enabled,"plugs",{get:function(){return b.guiinit.plugs},set:function(a){b.guiinit.plugs=a}});Object.defineProperty(c.guipart,"litemode",{set:function(a){b.guiinit.plugs=!a;b.guiinit.signals=!a;b.guiinit.zoom=!a;b.guiinit.toolbaradv=!a;b.guiinit.header=!a;b.guiinit.menu=!a}});Object.defineProperty(c.chart,
"PriceChartType",{get:function(){return b.chart.PriceChartType},set:function(a){b.chart.PriceChartType=a}});Object.defineProperty(c.chart,"Symbol",{get:function(){return b.chart.Symbol},set:function(a){b.chart.Symbol=a}});Object.defineProperty(c.chart,"TimeScale",{get:function(){return b.chart.TimeScale},set:function(a){b.chart.TimeScale=a}});Object.defineProperty(c,"ShowBarData",{get:function(){return b.chart.ShowBarData},set:function(a){b.chart.ShowBarData=a}});Object.defineProperty(c,"PriceChartType",
{get:function(){return b.chart.PriceChartType},set:function(a){b.chart.PriceChartType=a}});Object.defineProperty(c,"TimeScale",{get:function(){return b.chart.TimeScale},set:function(a){b.chart.TimeScale=a}});Object.defineProperty(c,"Symbol",{get:function(){return b.chart.Symbol},set:function(a){b.chart.Symbol=a}});Object.defineProperty(c,"ShowCandleCloseCounter",{get:function(){return b.chart.ShowCandleCloseCounter},set:function(a){b.chart.ShowCandleCloseCounter=a}});c.zoom={};c.localization={};Object.defineProperty(c.localization,
"lang",{get:function(){return b.gui.init.localizationlang},set:function(a){b.gui.init.localizationlang=a}});Object.defineProperty(c.localization,"languages",{get:function(){return b.gui.init.localization},set:function(a){b.gui.init.localization=a}});Object.defineProperty(c.localization,"current",{get:function(){return b.gui.init.localizationlang},set:function(a){b.gui.init.localizationlang=a}});c.plugin={};Object.defineProperty(c,"indicators",{get:function(){return b.gui.init.indicators},set:function(a){b.gui.init.indicators=
a}});Object.defineProperty(c,"charttypes",{get:function(){return b.gui.init.charttype},set:function(a){b.gui.init.charttype=a}});Object.defineProperty(c,"cache",{get:function(){return b.guiinit.cache},set:function(a){b.guiinit.cache=a}});Object.defineProperty(c,"timeupdateVersiongui",{get:function(){return b.guiinit.timeupdateVersiongui},set:function(a){b.guiinit.timeupdateVersiongui=a}});Object.defineProperty(c,"panels",{get:function(){return b.gui.size.panels},set:function(a){b.gui.size.panels=
a}});Object.defineProperty(c,"rootpathLayout",{get:function(){return b.guiinit.rootpath},set:function(a){b.guiinit.rootpath=a}});Object.defineProperty(c,"rootpath",{get:function(){return b.guiinit.rootpath},set:function(a){b.guiinit.rootpath=a}});Object.defineProperty(c,"customLayoutFile",{get:function(){return b.guiinit.customLayoutFile},set:function(a){b.guiinit.customLayoutFile=a}});Object.defineProperty(c,"patterncombine",{get:function(){return"undefined"==typeof b.guiinit.patterncombine||null==
b.guiinit.patterncombine?!1:b.guiinit.patterncombine},set:function(a){b.guiinit.patterncombine=a}});Object.defineProperty(c,"customTemplateFile",{get:function(){return b.guiinit.customTemplateFile},set:function(a){b.guiinit.customTemplateFile=a}});Object.defineProperty(c,"fullpageHideScroll",{get:function(){return b.gui.fullpagesize.fullpageHideScroll},set:function(a){b.gui.fullpagesize.fullpageHideScroll=a}});Object.defineProperty(c,"customPanelPatternFile",{get:function(){return b.guiinit.customPanelPatternFile},
set:function(a){b.guiinit.customPanelPatternFile=a}});Object.defineProperty(c,"parentRelativeObjectID",{get:function(){return b.guiinit.parentRelativeObjectID},set:function(a){b.guiinit.parentRelativeObjectID=a}});Object.defineProperty(c,"timeframes",{get:function(){return b.gui.init.timeframe},set:function(a){b.gui.init.timeframe=a}});Object.defineProperty(c,"autotimescale",{get:function(){return b.gui.init.autotimescale},set:function(a){b.gui.init.autotimescale=a}});Object.defineProperty(c,"majors",
{get:function(){return b.gui.init.majors},set:function(a){b.gui.init.majors=a}});Object.defineProperty(c,"majors2",{get:function(){return b.gui.init.majors2},set:function(a){b.gui.init.majors2=a}});Object.defineProperty(c,"compares",{get:function(){return b.gui.init.compares},set:function(a){b.gui.init.compares=a}});Object.defineProperty(c,"StudiesToLoad",{get:function(){return b.gui.init.StudiesToLoad},set:function(a){b.gui.init.StudiesToLoad=a}});return c};
function ProChart_InitApiEvents(b){var a={};b.events=a;a.layout={initComplete:null,readyComplete:null,onResizing:null,onResized:null,onFullPage:null,onPreloadStart:null,onPreloadFinished:null,onResizeParentRelative:null};a.chart={createComplete:null,onChangeSymbol:null,onChangeTimeframe:null,onLastUpdateChange:null,onShapeSelectChange:null,onStartDrawing:null,onStopDrawing:null,onCommunication:null,onChartSweepStart:null,onChartSweepEnd:null,onWait:null,onSystemLogin:null,onTemplatesList:null,onTemplatesLoaded:null,
onTemplatesSaved:null,onTemplatesDeleted:null,onTemplatesError:null,onPriceEdit:null,onTimeChange:null,onPriceTypeChange:null,onTimeZoneChanged:null,onCompareEdit:null,onVolumeEdit:null,onSignalMouseIn:null,onSignalMouseOut:null,onSignalMouseClick:null,onNewSignal:null,onSignalRemoved:null,onSignalFullRefresh:null,onWaitForSignals:null,onGotSignals:null,onShapeDelete:null,onShapeChanged:null,onShapeEndDrag:null,onShapeEndSize:null,onStudyUpdated:null,onStudyAdded:null,onStudyDeleted:null,onCanSaveTA:null,
onCanLoadTA:null,onDialogSymbolChange:null,onDialogCompareAdd:null,onUpdateEventsInUI:null,onChangeMajorsFavorites:null,onChangeComparesFavorites:null,onChangeIndicatorsFavorites:null,onChangeTimeFrameFavorites:null,onChangeChartTypeFavorites:null};a.shape={onDeleted:null,onChanged:null,onStartDrawing:null,onStopDrawing:null,onSelectChange:null,onEndDrag:null,onEndSize:null};a.study={onDeleted:null,onUpdated:null,onAdded:null,onChangeDefaultSettings:null,onDialogAddStudy:null,onReset:null};a.globprop=
{onOpenDialog:null,onCloseDialog:null,onPriceTypeChange:null,onPriceStyleChange:null,onVolumeStyleChange:null,onTimeZoneChange:null,onPriceLineChange:null};a.actions={onActionRun:null};a.menu={onCustomIndicatorClick:null};a.header={};a.toolbar={onCustomButtonClick:null};a.zoom={};a.localization={onChange:null};a.plugin={onContentUpdate:null,onEnableChanged:null};a.bi={onGetBI:null};return a};
function ProChart_InitApiActions(h){function g(){for(var b=0;b<a.init.charttype.length;b++){var c=a.init.charttype[b].id,e=a.api.localstorage.getPriceStyle(c);"undefined"!=typeof e&&null!=e&&a.chart.SetPriceTypeStyle(c,e)}c=a.api.localstorage.getPriceType();"undefined"!=typeof c&&null!=c&&a.chart.GetPriceProperties().SetDrawType(c);b=a.api.localstorage.getMajorsFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.majorsUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajorFavorites());
b=a.api.localstorage.getCompareFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.compareUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateCompareFavorites());b=a.api.localstorage.getIndicatorsFavorites();"undefined"!=typeof b&&null!=b&&("undefined"!=typeof a.init&&a.init.gui.indicatorsUpdate(b),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateIndicatorFavorites());e=a.api.localstorage.getPriceTypeFavorites();if("undefined"!=typeof e&&null!=e){for(var d=
a.init.charttype,f=[],b=0;b<d.length;b++)for(c=0;c<e.length;c++)if(d[b].id==e[c].id){d[b].f!=e[c].f&&(f.push({id:e[c].id,f:e[c].f}),d[b].f=e[c].f);break}"undefined"!=typeof a.menuobj&&a.menuobj.gui.changeTypeChartFavoritesStar(f);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewTypeChartButtons(f)}e=a.api.localstorage.getTimeFrameFavorites();if("undefined"!=typeof e&&null!=e){d=a.init.timeframe;f=[];for(b=0;b<d.length;b++)for(c=0;c<e.length;c++)if(d[b].id==e[c].id){d[b].f!=e[c].f&&(f.push({id:e[c].id,
f:e[c].f}),d[b].f=e[c].f);break}"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewTimeFrameButtons(f);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateTimesScale()}b=a.api.localstorage.getPriceLine();if("undefined"!=typeof b&&null!=b)try{a.chart.SetRTLineVisible("false"==b||!1==b?!1:!0)}catch(g){}a.chart.Redraw()}var a=h,d={};a.apiactions=d;d.fn={set:function(){if(0!=arguments.length){for(var a=d,c=0;c<arguments.length-2;c++)a=a[arguments[c]];"undefined"!=typeof a&&null!=a&&(a[arguments[arguments.length-
2]]=arguments[arguments.length-1])}},get:function(){if(0!=arguments.length){for(var a=d,c=0;c<arguments.length;c++)a=a[arguments[c]];return a}}};d.layout={layoutFile:null,changeTemplate:function(b){a.gui.changeTemplate(b)}};d.menu={};d.header={};d.toolbar={};d.chart={GetSymbolsByGroup:function(){a.chart.symbols.GetSymbolsByGroup.apply(this,arguments)},GetCountries:function(){a.chart.symbols.GetCountries.apply(this,arguments)},GetMarkets:function(){a.chart.symbols.GetMarkets.apply(this,arguments)},
GetExchanges:function(){a.chart.symbols.GetExchanges.apply(this,arguments)}};Object.defineProperty(d.chart,"TimeScale",{get:function(){return a.chart.TimeScale},set:function(b){a.chart.TimeScale=b}});d.indicators={openWizardIndicators:function(){if("undefined"!=typeof a.indicators){try{$("#chart-dialog").dialog("close")}catch(b){}a.indicators.gui.viewIndicators("indicators")}},openWizardFavorites:function(){if("undefined"!=typeof a.indicators){try{$("#chart-dialog").dialog("close")}catch(b){}a.indicators.gui.viewIndicators("favorites")}},
openWizardSmart:function(){if("undefined"!=typeof a.init.indicators&&"undefined"!=typeof a.indicators){try{$("#chart-dialog").dialog("close")}catch(b){}0<a.init.indicators.length?a.indicators.gui.viewIndicators("favorites"):a.indicators.gui.viewIndicators("indicators")}}};d.ta={openMajorsSearch:function(){if("undefined"!=typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewMajors("majors")}},openMajorsFavorites:function(){if("undefined"!=typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewMajors("majors-favorites")}},
openMajorsSmart:function(){if("undefined"!=typeof a.init.majors&&"undefined"!=typeof a.compares)if(0<a.init.majors.length){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewMajors("majors-favorites")}else{try{$("#chart-dialog").dialog("close")}catch(c){}a.compares.gui.viewMajors("majors")}},openCompareSearch:function(){if("undefined"!=typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewCompares("compares")}},openCompareFavorites:function(){try{$("#chart-dialog").dialog("close")}catch(b){}a.compares.gui.viewCompares("compares-favorites")},
openCompareSmart:function(){if("undefined"!=typeof a.init.majors&&"undefined"!=typeof a.compares){try{$("#chart-dialog").dialog("close")}catch(b){}0<a.init.majors.length?a.compares.gui.viewCompares("compares-favorites"):a.compares.gui.viewCompares("compares")}}};d.zoom={};d.localization={};d.plugin={};d.localstorage={getAllfromStorage:g,GetAllfromStorage:g,clear:function(){a.api.localstorage.clear()},clearAll:function(){}};Object.defineProperty(d.localstorage,"key",{get:function(){return a.gui.localstorage_condition.storage_key},
set:function(b){a.gui.localstorage_condition.storage_key=b}});return d};
function ProChart_InitApiCommonDataInit(a){var b={};a.apicommondata=b;a.apicommondata.customindicators=[];return b};
function ProChart_InitApiBI(f){var a={};f.bi=a;var d=[],b=!1,c=0,e=0;a.getBI=function(){return d};a.returnBIStatus=function(){return b};a.start=function(a){"undefined"!=typeof a&&(c=a);b=!0};a.stop=function(){b=!1};a.addt2BI=function(a,b){"undefined"==typeof a&&(a="");"undefined"==typeof b&&(b="");d.push({date:(new Date).getTime(),title:a,description:b});e+=1;0<c&&c<=e&&typeof f.events.bi.onGetBI==typeof Function&&(f.events.bi.onGetBI(d),e=0,d=[])};Object.defineProperty(a,"capacity",{get:function(){return c},
set:function(a){c=a}});a.clear=function(){c=0;d=[]};Object.defineProperty(a,"status",{get:function(){return b}});return a};
function ProChart_InitAPIProps(h){function n(a){Object.defineProperty(e.alerts[a],"object",{set:function(d){if("object"==typeof d&&d)for(var e=0;e<m.length;e++){var f=m[e];d.hasOwnProperty(f)&&(c.alerts[a][f]=d[f])}"undefined"!=typeof b.alertobj&&b.alertobj.refreshAlerts()}});Object.defineProperties(e.alerts[a],{color:{set:function(d){c.alerts[a].color=d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].color}},background_color:{set:function(d){c.alerts[a].background_color=
d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].background_color}},font_size:{set:function(d){c.alerts[a].font_size=d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].font_size}},font_bold:{set:function(d){c.alerts[a].font_bold=d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].font_bold}},symbol:{set:function(d){c.alerts[a].symbol=d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].symbol}},
border_color:{set:function(d){c.alerts[a].border_color=d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].border_color}},border_width:{set:function(d){c.alerts[a].border_width=d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].border_width}},place:{set:function(d){c.alerts[a].place=d;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts[a].place}}})}function p(a){Object.defineProperties(e.chart.price[a],{strokeWidth:{set:function(d){c.chart.price[a].strokeWidth=
d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].strokeWidth=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].strokeWidth}},fill:{set:function(d){c.chart.price[a].fill=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].fill=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].fill}},stroke:{set:function(d){c.chart.price[a].stroke=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].stroke=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].fill}},
borderVisible:{set:function(d){c.chart.price[a].borderVisible=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].borderVisible=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].strokeWidth}},up_fill:{set:function(d){c.chart.price[a].up_fill=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].up.fill=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].up_fill}},down_fill:{set:function(d){c.chart.price[a].down_fill=d;if(b.chart){var e=b.chart.GetRecentStyleObject();
e.price[a].down.fill=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].down_fill}},flat_fill:{set:function(d){c.chart.price[a].flat_fill=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].flat.fill=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].flat_fill}},up_stroke:{set:function(d){c.chart.price[a].up_stroke=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].up.stroke=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].up_stroke}},
down_stroke:{set:function(d){c.chart.price[a].down_stroke=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].down.stroke=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].down_stroke}},flat_stroke:{set:function(d){c.chart.price[a].flat_stroke=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].flat.stroke=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].flat_stroke}},wick_stroke:{set:function(d){c.chart.price[a].wick_stroke=d;if(b.chart){var e=
b.chart.GetRecentStyleObject();e.price[a].wick.stroke=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].wick_stroke}},wick_visible:{set:function(d){c.chart.price[a].wick_visible=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].wick.visible=d;b.chart.SetStyleObject(e)}},get:function(){return c.chart.price[a].wick_visible}},radius:{set:function(d){c.chart.price[a].radius=d;if(b.chart){var e=b.chart.GetRecentStyleObject();e.price[a].radius=d;b.chart.SetStyleObject(e)}},
get:function(){return c.chart.price[a].radius}}})}var b=h,e={};Object.defineProperty(e,"alerts",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.alerts,"news",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.alerts,"candlestick_patterns",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.alerts,"events",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.alerts,"splits",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.alerts,"dividens",
{value:{},writable:!1,configurable:!1});Object.defineProperty(e.alerts,"gui",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.alerts,"alertselected",{value:{},writable:!1,configurable:!1});var m="color background_color font_size symbol border_color border_width".split(" "),c={alerts:{alertselected:{},news:{},candlestick_patterns:{},events:{},splits:{},dividens:{},gui:{}}};Object.defineProperty(e,"chart",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart,"price",{value:{},
writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"candlesticks",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"hollowcandlesticks",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"heikinashi",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"ohlc",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"hlc",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,
"line",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"area",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"dots",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"histogram",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"columns",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.price,"linedots",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart,
"gui",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.gui,"legend",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.gui,"grid",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.gui,"watermark",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.gui,"zoom",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.gui,"favorites",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.chart.gui,"layout",
{value:{},writable:!1,configurable:!1});Object.defineProperty(e,"func",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.func,"chart",{value:{},writable:!1,configurable:!1});Object.defineProperty(e.func,"layout",{value:{},writable:!1,configurable:!1});e.func.chart.updateFromInit=function(a){l=Object.getOwnPropertyNames(c.chart.price);for(var d=0;d<l.length;d++){f=l[d];for(var g=Object.getOwnPropertyNames(c.chart.price[f]),h=0;h<g.length;h++){var k=g[h];switch(k){case "up_fill":try{a.price[f].up.fill=
e.chart.price[f].up_fill}catch(m){}break;case "up_stroke":try{a.price[f].up.stroke=e.chart.price[f].up_stroke}catch(n){}break;case "down_fill":try{a.price[f].down.fill=e.chart.price[f].down_fill}catch(p){}break;case "down_stroke":try{a.price[f].down.stroke=e.chart.price[f].down_stroke}catch(q){}break;case "flat_fill":try{a.price[f].flat.fill=e.chart.price[f].flat_fill}catch(r){}break;case "flat_stroke":try{a.price[f].flat.stroke=e.chart.price[f].flat_stroke}catch(s){}break;case "wick_stroke":try{a.price[f].wick.stroke=
e.chart.price[f].wick_stroke}catch(t){}break;case "wick_visible":try{a.price[f].wick.visible=e.chart.price[f].wick_visible}catch(u){}break;default:try{a.price[f][k]=e.chart.price[f][k]}catch(v){}}}}d=Object.getOwnPropertyNames(c.chart.gui.watermark);for(g=0;g<d.length;g++)switch(d[g]){case "view":try{"undefined"!=typeof e.chart.gui.watermark.view&&(b.chart.WaterMark=e.chart.gui.watermark.view)}catch(w){}break;case "font_fill":try{a.Screenshot.watermark.fontFill=e.chart.gui.watermark.font_fill}catch(x){}break;
case "font_stroke":try{a.Screenshot.watermark.fontStroke=e.chart.gui.watermark.font_stroke}catch(y){}break;case "font_name":try{a.Screenshot.watermark.fontName=e.chart.gui.watermark.font_name}catch(z){}break;case "min_font_size":try{a.Screenshot.watermark.minFontSize=e.chart.gui.watermark.min_font_size}catch(A){}break;case "max_font_size":try{a.Screenshot.watermark.maxFontSize=e.chart.gui.watermark.max_font_size}catch(B){}}d=Object.getOwnPropertyNames(c.chart.gui.grid);for(g=0;g<d.length;g++)switch(d[g]){case "vertical_stroke":try{a.AdvGridV.stroke=
e.chart.gui.grid.vertical_stroke}catch(C){}break;case "vertical_stroke_width":try{a.AdvGridV.strokeWidth=e.chart.gui.grid.vertical_stroke_width}catch(D){}break;case "horizontal_stroke":try{a.AdvGridH.stroke=e.chart.gui.grid.horizontal_stroke_width}catch(E){}break;case "horizontal_stroke_width":try{a.AdvGridH.strokeWidth=e.chart.gui.grid.background}catch(F){}break;case "background":try{a.Screenshot.background=e.chart.gui.grid.background}catch(G){}}d=Object.getOwnPropertyNames(c.chart.gui.zoom);for(g=
0;g<d.length;g++)switch(d[g]){case "padding_left":try{a.zoomWidget.left=e.chart.gui.zoom.padding_left}catch(H){}break;case "padding_right":try{a.zoomWidget.right=e.chart.gui.zoom.padding_right}catch(I){}break;case "handle_padding_top":try{a.zoomWidget.handle.radius=e.chart.gui.zoom.handle_padding_top}catch(J){}break;case "handle_padding_bottom":try{a.zzoomWidget.handle.bottom=e.chart.gui.zoom.handle_padding_bottom}catch(K){}break;case "handle_width":try{a.zoomWidget.handle.width=e.chart.gui.zoom.handle_width}catch(L){}break;
case "handle_line_width":try{a.zoomWidget.handle.lineWidth=e.chart.gui.zoom.handle_line_width}catch(M){}break;case " handle_fill":try{a.zoomWidget.handle.fill=e.chart.gui.zoom.handle_fill}catch(N){}break;case "handle_stroke":try{a.zoomWidget.handle.stroke=e.chart.gui.zoom.handle_stroke}catch(O){}break;case "filter_line_width":try{a.zoomWidget.filter.lineWidth=e.chart.gui.zoom.filter_line_width}catch(P){}break;case "filter_fill":try{a.zoomWidget.filter.fill=e.chart.gui.zoom.filter_fill}catch(Q){}break;
case "filter_stroke":try{a.zoomWidget.filter.stroke=e.chart.gui.zoom.filter_stroke}catch(R){}break;case "chart_stroke":try{a.zoomWidget.chart.stroke=e.chart.gui.zoom.chart_stroke}catch(S){}break;case "chart_line_width":try{a.zoomWidget.chart.lineWidth=e.chart.gui.zoom.handle_line_width}catch(T){}break;case "chart_fill":try{a.zoomWidget.chart.fill=e.chart.gui.zoom.chart_fill}catch(U){}break;case "chart_future_stroke":try{a.zoomWidget.chart.future.stroke=e.chart.gui.zoom.chart_future_stroke}catch(V){}}return a};
e.func.chart.createComplete=function(){b.chart.vAxis.vPadInPixelsTopStudy=20;b.chart.vAxis.vPadInPixelsBottomStudy=10};e.func.layout.initComplete=function(){try{b.chart.UseCorePadding=!0,b.chart.vAxis.vPadInPixelsTopStudy=20,b.chart.vAxis.vPadInPixelsBottomStudy=10,b.chart.NumVisibleBars=50,b.chart.NumOfDefaultVisibleFutureBars=2}catch(a){}};Object.defineProperties(e.alerts.gui,{alert_size:{set:function(a){c.alerts.gui.alert_size=a;"undefined"!=typeof b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.alert_size}},
top_padding:{set:function(a){c.alerts.gui.top_padding=a;"undefined"!=typeof b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.top_padding}},font_size:{set:function(a){c.alerts.gui.font_size=a;c.alerts.news.font_size=a;c.alerts.candlestick_patterns.font_size=a;c.alerts.events.font_size=a;c.alerts.splits.font_size=a;c.alerts.dividens.font_size=a;"undefined"!=typeof b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.font_size}},font_bold:{set:function(a){c.alerts.gui.font_bold=
a;c.alerts.news.font_bold=a;c.alerts.candlestick_patterns.font_bold=a;c.alerts.events.font_bold=a;c.alerts.splits.font_bold=a;c.alerts.dividens.font_bold=a;"undefined"!=typeof b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.font_bold}},border_width:{set:function(a){c.alerts.gui.border_width=a;c.alerts.news.border_width=a;c.alerts.candlestick_patterns.border_width=a;c.alerts.events.border_width=a;c.alerts.splits.border_width=a;c.alerts.dividens.border_width=a;"undefined"!=
typeof b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.border_width}},shadow_color:{set:function(a){c.alerts.gui.shadow_color=a;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.shadow_color}},shadow_blur:{set:function(a){c.alerts.gui.shadow_blur=a;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.shadow_blur}},shadow_offset_x:{set:function(a){c.alerts.gui.shadow_offset_x=a;b.alertobj&&b.alertobj.gui.refreshAlerts()},
get:function(){return c.alerts.gui.shadow_offset_x}},shadow_offset_y:{set:function(a){c.alerts.gui.shadow_offset_y=a;b.alertobj&&b.alertobj.gui.refreshAlerts()},get:function(){return c.alerts.gui.shadow_offset_y}}});h="news candlestick_patterns events splits dividens alertselected".split(" ");for(var k=0;k<h.length;k++)n(h[k]);c.chart={price:{candlesticks:{},hollowcandlesticks:{},heikinashi:{},ohlc:{},hlc:{},line:{},area:{},dots:{},histogram:{},columns:{},linedots:{}},gui:{legend:{font_darklight_percent:0,
font_darklight_auto:!1},grid:{},watermark:{},zoom:{},favorites:{},layout:{}}};var l=Object.getOwnPropertyNames(c.chart.price);for(h=0;h<l.length;h++){var f=l[h];p(f)}Object.defineProperties(e.chart.gui.legend,{font_darklight_percent:{set:function(a){c.chart.gui.legend.font_darklight_percent=a},get:function(){return c.chart.gui.legend.font_darklight_percent}},font_darklight_auto:{set:function(a){c.chart.gui.legend.font_darklight_auto=a},get:function(){return c.chart.gui.legend.font_darklight_auto}}});
Object.defineProperties(e.chart.gui.grid,{vertical_stroke:{set:function(a){c.chart.gui.grid.vertical_stroke=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.AdvGridV.stroke=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.grid.vertical_stroke}},vertical_stroke_width:{set:function(a){c.chart.gui.grid.vertical_stroke_width=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.AdvGridV.strokeWidth=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.grid.vertical_stroke_width}},
horizontal_stroke:{set:function(a){c.chart.gui.grid.horizontal_stroke=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.AdvGridH.stroke=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.grid.horizontal_stroke=value}},horizontal_stroke_width:{set:function(a){c.chart.gui.grid.horizontal_stroke_width=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.AdvGridH.strokeWidth=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.grid.horizontal_stroke_width}},background:{set:function(a){c.chart.gui.grid.background=
a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.Screenshot.background=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.grid.background}}});Object.defineProperties(e.chart.gui.watermark,{view:{set:function(a){c.chart.gui.watermark.view=a;b.chart&&(a=b.chart.GetRecentStyleObject(),c.chart.gui.watermark.view?(c.chart.gui.watermark.font_fill||(c.chart.gui.watermark.font_fill=a.Screenshot.watermark.fontFill),c.chart.gui.watermark.font_stroke||(c.chart.gui.watermark.font_stroke=a.Screenshot.watermark.fontStroke),
a.Screenshot.watermark.fontFill=c.chart.gui.watermark.font_fill,a.Screenshot.watermark.fontStroke=c.chart.gui.watermark.font_stroke,b.chart.WaterMark=!0):(c.chart.gui.watermark.font_fill||(c.chart.gui.watermark.font_fill=a.Screenshot.watermark.fontFill),c.chart.gui.watermark.font_stroke||(c.chart.gui.watermark.font_stroke=a.Screenshot.watermark.fontStroke),a.Screenshot.watermark.fontFill="rgba(0,0,0,0)",a.Screenshot.watermark.fontStroke="rgba(0,0,0,0)",b.chart.WaterMark=!1),b.chart.SetStyleObject(a))},
get:function(){return c.chart.gui.watermark.view}},font_fill:{set:function(a){c.chart.gui.watermark.font_fill=a;if(b.chart){var d=b.chart.GetRecentStyleObject();c.chart.gui.watermark.view&&(d.Screenshot.watermark.fontFill=a);b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.watermark.font_fill}},font_stroke:{set:function(a){c.chart.gui.watermark.font_stroke=a;if(b.chart){var d=b.chart.GetRecentStyleObject();c.chart.gui.watermark.view&&(d.Screenshot.watermark.fontStroke=a);b.chart.SetStyleObject(d)}},
get:function(){return c.chart.gui.watermark.fontStroke}},font_name:{set:function(a){c.chart.gui.watermark.font_name=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.Screenshot.watermark.fontName=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.watermark.font_name}},min_font_size:{set:function(a){c.chart.gui.watermark.min_font_size=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.Screenshot.watermark.minFontSize=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.watermark.min_font_size}},
max_font_size:{set:function(a){c.chart.gui.watermark.max_font_size=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.Screenshot.watermark.maxFontSize=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.watermark.max_font_size}}});Object.defineProperties(e.chart.gui.zoom,{padding_left:{set:function(a){c.chart.gui.zoom.padding_left=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.left=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.padding_left}},padding_right:{set:function(a){c.chart.gui.zoom.padding_right=
a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.right=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.padding_right}},handle_radius:{set:function(a){c.chart.gui.zoom.handle_radius=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.handle.radius=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.handle_radius}},handle_padding_top:{set:function(a){c.chart.gui.zoom.handle_padding_top=a;if(b.chart){var d=b.chart.GetRecentStyleObject();
d.zoomWidget.handle.top=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.handle_padding_top}},handle_padding_bottom:{set:function(a){c.chart.gui.zoom.handle_padding_bottom=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.handle.bottom=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.handle_padding_bottom}},handle_width:{set:function(a){c.chart.gui.zoom.handle_width=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.handle.width=a;
b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.handle_width}},handle_line_width:{set:function(a){c.chart.gui.zoom.handle_line_width=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.handle.lineWidth=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.handle_line_width}},handle_fill:{set:function(a){c.chart.gui.zoom.handle_fill=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.handle.fill=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.handle_fill}},
handle_stroke:{set:function(a){c.chart.gui.zoom.handle_stroke=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.handle.stroke=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.handle_stroke}},filter_line_width:{set:function(a){c.chart.gui.zoom.filter_line_width=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.filter.lineWidth=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.filter_line_width}},filter_fill:{set:function(a){c.chart.gui.zoom.filter_fill=
a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.filter.fill=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.filter_fill}},filter_stroke:{set:function(a){c.chart.gui.zoom.filter_stroke=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.filter.stroke=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.filter_stroke}},chart_stroke:{set:function(a){c.chart.gui.zoom.chart_stroke=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.chart.stroke=
a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.chart_stroke}},chart_line_width:{set:function(a){c.chart.gui.zoom.chart_line_width=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.chart.lineWidth=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.chart_line_width}},chart_fill:{set:function(a){c.chart.gui.zoom.chart_fill=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.chart.fill=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.chart_fill}},
chart_future_stroke:{set:function(a){c.chart.gui.zoom.chart_future_stroke=a;if(b.chart){var d=b.chart.GetRecentStyleObject();d.zoomWidget.chart.future.stroke=a;b.chart.SetStyleObject(d)}},get:function(){return c.chart.gui.zoom.chart_future_stroke}},interval_font_color:{set:function(a){c.chart.gui.zoom.interval_font_color=a;b.panels&&b.panels.gui.drawZoomIntervale()},get:function(){return c.chart.gui.zoom.interval_font_color}},interval_font_padding:{set:function(a){c.chart.gui.zoom.interval_font_padding=
a;b.panels&&b.panels.gui.drawZoomIntervale()},get:function(){return c.chart.gui.zoom.interval_font_padding}},interval_font_size:{set:function(a){c.chart.gui.zoom.interval_font_size=a;b.panels&&b.panels.gui.drawZoomIntervale()},get:function(){return c.chart.gui.zoom.interval_font_size}},interval_font_bold:{set:function(a){c.chart.gui.zoom.interval_font_bold=a;b.panels&&b.panels.gui.drawZoomIntervale()},get:function(){return c.chart.gui.zoom.interval_font_bold}}});Object.defineProperties(e.chart.gui.favorites,
{indicators:{set:function(a){b.apiinit.timeframe=a;b.chart&&("undefined"!=typeof b.init&&b.init.gui.indicatorsUpdate(a),"undefined"!=typeof b.menuobj&&b.menuobj.gui.updateIndicatorFavorites())},get:function(){return b.gui.init.timeframe}},majors:{set:function(a){b.apiinit.majors=a;b.chart&&("undefined"!=typeof b.init&&b.init.gui.majorsUpdate(a),"undefined"!=typeof b.menuobj&&b.menuobj.gui.updateMajorFavorites())},get:function(){return b.gui.init.majors}},compares:{set:function(a){b.apiinit.compares=
a;b.chart&&("undefined"!=typeof b.init&&b.init.gui.compareUpdate(a),"undefined"!=typeof b.menuobj&&b.menuobj.gui.updateCompareFavorites())},get:function(){return b.gui.init.majors}},charttypes:{set:function(a){b.apiinit.charttypes=a;b.chart&&("undefined"!=typeof b.menuobj&&b.menuobj.gui.changeTypeChartFavoritesStar(a),"undefined"!=typeof b.toolbaradvobj&&b.toolbaradvobj.gui.viewTypeChartButtons(a))},get:function(){return b.gui.init.charttypes}},timeframes:{set:function(a){b.apiinit.timeframe=a;b.chart&&
("undefined"!=typeof b.toolbaradvobj&&b.toolbaradvobj.gui.viewTimeFrameButtons(a),"undefined"!=typeof b.menuobj&&b.menuobj.gui.updateTimesScale())},get:function(){return b.gui.init.timeframe}}});Object.defineProperties(e.chart.gui.layout,{zindex:{set:function(a){c.chart.gui.layout.zindex=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.zindex?c.chart.gui.layout.zindex:0}},zindex_fullpage:{set:function(a){c.chart.gui.layout.zindex_fullpage=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.zindex_fullpage?
c.chart.gui.layout.zindex_fullpage:1E4}},zindex_dialog:{set:function(a){c.chart.gui.layout.zindex_dialog=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.zindex_dialog?c.chart.gui.layout.zindex_dialog:e.chart.gui.layout.zindex_fullpage+1}},move_left_fullpage:{set:function(a){c.chart.gui.layout.move_left_fullpage=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.move_left_fullpage?c.chart.gui.layout.move_left_fullpage:5}},move_right_fullpage:{set:function(a){c.chart.gui.layout.move_right_fullpage=
a},get:function(){return"undefined"!=typeof c.chart.gui.layout.move_right_fullpage?c.chart.gui.layout.move_right_fullpage:5}},move_top_fullpage:{set:function(a){c.chart.gui.layout.move_top_fullpage=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.move_top_fullpage?c.chart.gui.layout.move_top_fullpage:5}},move_bottom_fullpage:{set:function(a){c.chart.gui.layout.move_bottom_fullpage=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.move_bottom_fullpage?c.chart.gui.layout.move_bottom_fullpage:
5}},background_color_fullpage:{set:function(a){c.chart.gui.layout.background_color_fullpage=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.background_color_fullpage?c.chart.gui.layout.background_color_fullpage:"#ffffff"}},move_left_backgroundfullpage:{set:function(a){c.chart.gui.layout.move_left_backgroundfullpage=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.move_left_backgroundfullpage?c.chart.gui.layout.move_left_backgroundfullpage:0}},move_right_backgroundfullpage:{set:function(a){c.chart.gui.layout.move_right_backgroundfullpage=
a},get:function(){return"undefined"!=typeof c.chart.gui.layout.move_right_backgroundfullpage?c.chart.gui.layout.move_right_backgroundfullpage:0}},move_top_backgroundfullpage:{set:function(a){c.chart.gui.layout.move_top_backgroundfullpage=a},get:function(){return"undefined"!=typeof c.chart.gui.layout.move_top_backgroundfullpage?c.chart.gui.layout.move_top_backgroundfullpage:0}},move_bottom_backgroundfullpage:{set:function(a){c.chart.gui.layout.move_bottom_backgroundfullpage=a},get:function(){return"undefined"!=
typeof c.chart.gui.layout.move_bottom_backgroundfullpage?c.chart.gui.layout.move_bottom_backgroundfullpage:0}},fullpage:{set:function(a){c.chart.gui.layout.fullpage=a;b.gui&&b.gui.fullScreen(a)},get:function(){return b.currenlayout.workmode.fullscreen}},alwaysfullscreen:{set:function(a){b.currenlayout.workmode&&(b.currenlayout.workmode.alwaysfullscreen=a)},get:function(){return b.currenlayout.workmode.alwaysfullscreen}}});e.alerts.news.place="alertbar";e.alerts.candlestick_patterns.place="price";
e.alerts.events.place="alertbar";e.alerts.splits.place="alertbar";e.alerts.dividens.place="alertbar";e.alerts.splits.place="price";e.alerts.gui.shadow_color="rgba(0,0,0,0.3)";e.alerts.gui.shadow_blur=3;e.alerts.gui.shadow_offset_x=2;e.alerts.gui.shadow_offset_y=2;e.chart.gui.zoom.interval_font_bold=!0;e.chart.gui.legend.font_darklight_auto=!0;e.chart.gui.legend.font_darklight_percent=-20;e.alerts.fonts_bold=!0;return e};
function ProChart_InitAPIHeader(n){function d(){var b=null;if(h(g.currenlayout.headers)){for(var b=g.currenlayout.headers,a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);c=a[0];for(a=0;a<c.length-2;a++)b=k(c[a])?l(b,c[a]):b[c[a]];if(h(b)){var d=a=c[c.length-2];typeof a!=typeof String&&(d=a.toString());a=d.split("||");if(a instanceof Array){if(d=c=c[c.length-1],typeof c!=typeof String&&(d=c.toString()),c=d.split("||"),c instanceof Array&&a.length==c.length)for(d=0;d<a.length;d++)b[a[d]]=c[d],
m(b,a[d],c[d])}else b[c[c.length-2]]=c[c.length-1],m(b,c[c.length-2],c[c.length-1])}}}function e(){if(h(g.currenlayout.layout)){var b;a:{b=g.currenlayout.layout;for(var a=arguments,c=0;c<a.length;c++)if(k(a[c]))b=l(b,a[c]);else try{b=b[a[c]]}catch(d){b=void 0;break a}b=h(b)?b:void 0}return b}}function m(b,a,c){if(!1!=g.eventStatus.chartCreateComplete&&"undefined"!=typeof b.fns){this.objparent=b;this.objChartMain=g;for(var d=0;d<b.fns.length;d++){var e=b.fns[d];if(e.prop==a)for(var f=0;f<e.actions.length;f++){var h=
e.actions[f].replace(/%property%/g,a).replace(/%value%/g,c);try{eval(h)}catch(k){0<g.api.debug.level&&console.log(k)}}}}}function h(b){return"undefined"!=typeof b&&null!=b}function k(b){var a=b.indexOf("[");b=b.indexOf("]");return-1!=a&&-1!=b&&a<b?!0:!1}function l(b,a){var c=a.indexOf("["),d=a.indexOf("]"),d=a.substring(c+1,d),c=a.replace(d,"").replace("[","").replace("]",""),e=d.split("="),d=e[0],e=e[1],f=null,f=0==c.length?b:b[c];if("undefined"!=typeof f&&null!=f&&f instanceof Array)for(c=0;c<f.length;c++)if(f[c][d]==
e)return f[c];return null}var g=n,c={tempactions:{changeview:"$('#%guiid%').css('display','%value%')"},id:"header1",set:d,get:e,searchbutton:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchbutton]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchbutton]");
b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");
a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},symboltitle:{set:function(){var b=
[];b.push("[id="+c.id+"]");b.push("items[type=symboltitle]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=symboltitle]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");
a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},
top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},searchsymbol:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchsymbol]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+
c.id+"]");a.push("items[type=searchsymbol]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=searchsymbol]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");
a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},
bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},timeframe:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=timeframe]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=timeframe]");
b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("right");
a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},communic:{set:function(){var b=[];b.push("[id="+
c.id+"]");b.push("items[type=communic]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=communic]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");
a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=
[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},lastupdate:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=lastupdate]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");
a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=lastupdate]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("width");a.push(b);
d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+
"]");a.push("items[type=lastupdate]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},htmlcontainer:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=htmlcontainer]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("view");a.push(b);d(a)},get:e},content:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("content");
a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=htmlcontainer]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},
right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=htmlcontainer]");
a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}},toolbar:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=toolbar]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);d(b)},get:e,view:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("view");a.push(b);d(a)},get:e},possition:{set:function(){var b=[];b.push("[id="+c.id+"]");b.push("items[type=toolbar]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);
d(b)},get:e,height:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("height");a.push(b);d(a)},get:e},width:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=communic]");a.push("possition");a.push("width");a.push(b);d(a)},get:e},right:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("right");a.push(b);d(a)},get:e},left:{set:function(b){var a=[];a.push("[id="+c.id+"]");
a.push("items[type=toolbar]");a.push("possition");a.push("left");a.push(b);d(a)},get:e},top:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("top");a.push(b);d(a)},get:e},bottom:{set:function(b){var a=[];a.push("[id="+c.id+"]");a.push("items[type=toolbar]");a.push("possition");a.push("bottom");a.push(b);d(a)},get:e}}}};Object.defineProperty(c,"searchDelay",{get:function(){return"undefined"!=typeof g.init.header.searchDelayMs?g.init.header.searchDelayMs:
750},set:function(b){g.init.header.searchDelayMs=b}});return c};
function ProChart_InitApitLayout(A){function n(a,e,c){if("type"in a&&a.type==c)switch(a.type){case "top":return a;case "left":return a;case "right":return a;case "bottom":return a;case "main":return a;default:if(a.name==e)return a}if("items"in a)for(var b=0;b<a.items.length;b++){var d=null;try{d=n(a.items[b],e,c)}catch(g){}if(null!=d)return d}return null}function B(a,e,c){var b=c;Object.keys(a).forEach(function(c){c==e?b.push(a[c]):"object"==typeof a[c]&&(b=B(a[c],e,b))});return b}function u(a,e){if(g(a)&&
("type"in a&&"row"==a.type&&a.name==e&&(a.origsize.view=!1,a.view=!1),"items"in a))for(var c=0;c<a.items.length;c++)u(a.items[c],e)}function v(a,e){if(g(a)&&("type"in a&&"row"==a.type&&a.name==e&&(a.origsize.view=!0,a.view=!0),"items"in a))for(var c=0;c<a.items.length;c++)v(a.items[c],e)}function w(a,e,c,b,d){if(g(a)&&("type"in a&&"row"==a.type&&a.name==e&&"items"in a&&a.items.splice(d,0,{type:c,id:b}),"items"in a))for(var t=0;t<a.items.length;t++)w(a.items[t],e,c,b,d)}function x(a,e,c){if(g(a)){if("type"in
a&&"row"==a.type&&a.name==e&&"items"in a)for(var b=0;b<a.items.length;b++)if("id"in a.items[b]&&a.items.id==c){a.items.slice(b,1);return}if("items"in a)for(b=0;b<a.items.length;b++)x(a.items[b],e,c)}}function l(){var a=null;if(g(b.currenlayout.layout)){for(var a=b.currenlayout.layout,e=[],c=0;c<arguments.length;c++)e.push(arguments[c]);c=e[0];for(e=0;e<c.length-2;e++)a=q(c[e])?r(a,c[e]):a[c[e]];if(g(a))if(e=y(c[c.length-2]),e instanceof Array){if(c=z(c[c.length-1]),c instanceof Array&&e.length==c.length)for(var f=
0;f<e.length;f++)a[e[f]]=c[f],p(a,e[f],c[f])}else a[c[c.length-2]]=c[c.length-1],p(a,c[c.length-2],c[c.length-1])}}function C(){b.gui.resizeLayout()}function k(a,b){for(var c=0;c<b.length-2;c++)a=q(b[c])?r(a,b[c]):a[b[c]];if(g(a))if(c=y(b[b.length-2]),c instanceof Array){var f=z(b[b.length-1]);if(f instanceof Array&&c.length==f.length)for(var d=0;d<c.length;d++)a[c[d]]=f[d],p(a,c[d],f[d])}else a[b[b.length-2]]=b[b.length-1],p(a,b[b.length-2],b[b.length-1])}function m(a,b){for(var c=0;c<b.length;c++)if(q(b[c])){if(a=
r(a,b[c]),null==a)return}else try{a=a[b[c]]}catch(f){return}if(g(a))return a}function p(a,e,c){if(!1!=b.eventStatus.chartCreateComplete&&"undefined"!=typeof a.fns){this.objparent=a;this.objChartMain=b;for(var f=0;f<a.fns.length;f++){var d=a.fns[f];if(d.prop==e)for(var g=0;g<d.actions.length;g++){var h=d.actions[g].replace(/%property%/g,e).replace(/%value%/g,c);try{eval(h)}catch(k){console.log(k)}}}}}function g(a){return"undefined"!=typeof a&&null!=a}function q(a){var b=a.indexOf("[");a=a.indexOf("]");
return-1!=b&&-1!=a&&b<a?!0:!1}function r(a,b){var c=b.indexOf("["),f=b.indexOf("]"),c=b.substring(c+1,f),f=b.replace(c,"").replace("[","").replace("]",""),d=c.split("="),c=d[0],d=d[1],f=a[f];if("undefined"!=typeof f&&null!=f&&f instanceof Array)for(var g=0;g<f.length;g++)if(f[g][c]==d)return f[g];return null}function y(a){var b=a;typeof a!=typeof String&&(b=a.toString());return b.split("||")}function z(a){var b=a;typeof a!=typeof String&&(b=a.toString());return b.split("||")}var b=A;return{changeMode:function(a){if("undefined"!=
typeof a){var e;a:{if(g(b.currenlayout.mode))try{for(var c=0;c<b.currenlayout.mode.items.length;c++)if(b.currenlayout.mode.items[c].id==a){e=b.currenlayout.mode.items[c];break a}}catch(f){e=null;break a}e=null}if(null!=e){for(a=0;a<e.tasks.length;a++)switch(c=e.tasks[a],c.type){case "row":a:{var d=null;try{d=n(b.currenlayout.layout,c.name,c.type)}catch(k){15<=b.api.debug.level&&console.log("Error in panel.api taskRow");break a}if(null!=d)for(var h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=
!1,d.view=!1}catch(l){15<=b.api.debug.level&&console.log("Error in panel.api taskRow")}break;case "show":try{d.origsize.view=!0,d.view=!0}catch(m){15<=b.api.debug.level&&console.log("Error in panel.api taskRow")}}}break;case "bottom":a:{d=null;try{d=n(b.currenlayout.layout,c.name,c.type)}catch(p){15<=b.api.debug.level&&15<=b.api.debug.level&&console.log("Error in panel.api taskBottom");break a}if(null!=d)for(h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=!1,
d.view=!1}catch(q){15<=b.api.debug.level&&console.log("Error in panel.api taskBottom")}break;case "show":try{d.origsize.view=!0,d.view=!0}catch(r){15<=b.api.debug.level&&console.log("Error in panel.api taskBottom")}}}break;case "col":a:{d=null;try{d=n(b.currenlayout.layout,c.name,c.type)}catch(u){15<=b.api.debug.level&&console.log("Error in panel.api taskCol");break a}if(null!=d)for(h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=!1,d.view=!1}catch(v){15<=b.api.debug.level&&
console.log("Error in panel.api taskCol")}break;case "show":try{d.origsize.view=!0,d.view=!0}catch(w){15<=b.api.debug.level&&console.log("Error in panel.api taskCol")}}}break;case "top":case "left":case "right":a:{d=null;try{d=n(b.currenlayout.layout,"",c.type)}catch(x){15<=b.api.debug.level&&console.log("Error in panel.api taskMainblock");break a}if(null!=d)for(h=0;h<c.actions.length;h++)switch(c.actions[h].action){case "hide":try{d.origsize.view=!1,d.view=!1}catch(y){15<=b.api.debug.level&&console.log("Error in panel.api taskMainblock")}break;
case "show":try{d.origsize.view=!0,d.view=!0}catch(z){console.log("Error in panel.api taskMainblock")}}}break;case "panel":a:{d=null;try{d=B(b.currenlayout.chart_panels,c.name,[])}catch(A){15<=b.api.debug.level&&console.log("Error in panel.api taskPanel");break a}if("undefined"!=typeof d&&null!=d&&0!=d.length)for(h=0;h<c.actions.length;h++)for(var D=c.actions[h],s=0;s<d.length;s++)switch(D.action){case "hide":try{d[s].view=!1}catch(E){15<=b.api.debug.level&&console.log("Error in panel.api taskPanel")}break;
case "show":try{d[s].view=!0}catch(F){15<=b.api.debug.level&&console.log("Error in panel.api taskPanel")}}}}C()}}},changeSize:function(a,e,c){try{g(b.currenlayout)&&g(b.gui)&&("undefined"==typeof a||null==a||isNaN(a)||(b.currenlayout.layout.width=a,b.currenlayout.layout.origsize.width=a),"undefined"==typeof e||null==e||isNaN(e)||(b.currenlayout.layout.height=e,b.currenlayout.layout.origsize.height=e),b.api.layout.resize())}catch(f){}},set:function(){var a=null;g(b.currenlayout.layout)&&(a=b.currenlayout.layout,
k(a,arguments))},get:function(){if(g(b.currenlayout.layout))return m(b.currenlayout.layout,arguments)},resize:C,set width(a){var b=[];b.push("width");b.push(a);l(b)},set height(a){var b=[];b.push("height");b.push(a);l(b)},top:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("top"==b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("top"==
b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)},addRow:function(a){},removeRow:function(){},row:{view:function(a,e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("top"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,["items[name="+f+"]","view",e]);break}},addItem:function(){},removeItem:function(){}},set view(a){var b=
[];b.push("items[type=top]");b.push("view");b.push(a);l(b)}},left:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("left"==b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("left"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)},row:{view:function(a,
e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("left"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,["items[name="+f+"]","view",e]);break}}},set view(a){var b=[];b.push("items[type=left]");b.push("view");b.push(a);l(b)}},right:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("right"==b.currenlayout.layout.items[a].type){a=
b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("right"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)},row:{view:function(a,e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("right"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,
["items[name="+f+"]","view",e]);break}}},set view(a){var b=[];b.push("items[type=right]");b.push("view");b.push(a);l(b)}},bottom:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("bottom"==b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("bottom"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],
m(a,arguments)},row:{view:function(a,e){var c=null;if(g(b.currenlayout.layout))for(c=0;c<b.currenlayout.layout.items.length;c++)if("top"==b.currenlayout.layout.items[c].type){var c=b.currenlayout.layout.items[c],f=a;try{!1==isNaN(a)&&(parseInt(a),f=c.items[a].name)}catch(d){}k(c,["items[name="+f+"]","view",e]);break}}},set view(a){var b=[];b.push("items[type=bottom]");b.push("view");b.push(a);l(b)}},main:{set:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("main"==
b.currenlayout.layout.items[a].type){a=b.currenlayout.layout.items[a];k(a,arguments);break}},get:function(){var a=null;if(g(b.currenlayout.layout))for(a=0;a<b.currenlayout.layout.items.length;a++)if("Main"==b.currenlayout.layout.items[a].type)return a=b.currenlayout.layout.items[a],m(a,arguments)}},rows:{hide:function(a){u(b.currenlayout.layout,a);b.api.layout.resize()},show:function(a){v(b.currenlayout.layout,a);b.api.layout.resize()},addItem:function(a,e,c,f){w(b.currenlayout.layout,a,e,c,f);b.api.layout.resize()},
delItem:function(a,e){x(b.currenlayout.layout,a,e);b.api.layout.resize()}},getbuttonStyle:function(){var a={icon_button_type:"icon-button",icon_prefix:"",icon_source:""};try{if("undefined"!=typeof b.currenlayout.buttontype)switch(b.currenlayout.buttontype){case "icon":a.icon_button_type="icon-button";break;case "fonticon":a.icon_button_type="font-icon-button";a.icon_prefix="iconfont-";a.icon_source="font-icon";break;default:a.icon_button_type="icon-button"}}catch(e){}return a}}};
function ProChart_InitAPIMenu(a){return{}};
function ProChart_InitAPIZoom(a){return{}};
function ProChart_InitAPIToolbar(n){function k(b,a,c){if("undefined"==typeof b.fns)return null;this.objparent=b;this.objChartMain=g;for(var d=0;d<b.fns.length;d++){var e=b.fns[d];if(e.prop==a)for(var f=0;f<e.actions.length;f++){var h=e.actions[f].replace(/%property%/g,a).replace(/%value%/g,c);try{eval(h)}catch(k){console.log(k)}}}}function h(b){return"undefined"!=typeof b&&null!=b}function l(b){var a=b.indexOf("[");b=b.indexOf("]");return-1!=a&&-1!=b&&a<b?!0:!1}function m(b,a){var c=a.indexOf("["),
d=a.indexOf("]"),c=a.substring(c+1,d),d=a.replace(c,"").replace("[","").replace("]",""),e=c.split("="),c=e[0],e=e[1],d=b[d];if("undefined"!=typeof d&&null!=d&&d instanceof Array)for(var f=0;f<d.length;f++)if(d[f][c]==e)return d[f];return null}var g=n;return{changeIcon:function(b,a){"undefined"!=typeof g.toolbaradvobj&&g.toolbaradvobj.gui.changeIcon(b,a)},set:function(){var b=null;if(h(g.currenlayout.toolbars)){for(var b=g.currenlayout,a=arguments,c=0;c<a.length-2;c++)b=l(a[c])?m(b,a[c]):b[a[c]];if(h(b)){var d=
c=a[a.length-2];typeof c!=typeof String&&(d=c.toString());c=d.split("||");if(c instanceof Array){if(d=a=a[a.length-1],typeof a!=typeof String&&(d=a.toString()),a=d.split("||"),a instanceof Array&&c.length==a.length)for(d=0;d<c.length;d++)b[c[d]]=a[d],k(b,c[d],a[d])}else b[a[a.length-2]]=a[a.length-1],k(b,a[a.length-2],a[a.length-1])}}},get:function(){if(h(g.currenlayout.toolbars)){var b;a:{b=g.currenlayout;for(var a=arguments,c=0;c<a.length;c++)if(l(a[c])){if(b=m(b,a[c]),null==b){b=void 0;break a}}else try{b=
b[a[c]]}catch(d){b=void 0;break a}b=h(b)?b:void 0}return b}}}};
function ProChart_InitAPIChart(n){function c(){var b=null;if(g(h.currenlayout.headers)){for(var b=h.currenlayout.headers,a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);c=a[0];for(a=0;a<c.length-2;a++)b=k(c[a])?l(b,c[a]):b[c[a]];if(g(b)){var d=a=c[c.length-2];typeof a!=typeof String&&(d=a.toString());a=d.split("||");if(a instanceof Array){if(d=c=c[c.length-1],typeof c!=typeof String&&(d=c.toString()),c=d.split("||"),c instanceof Array&&a.length==c.length)for(d=0;d<a.length;d++)b[a[d]]=c[d],m(b,
a[d],c[d])}else b[c[c.length-2]]=c[c.length-1],m(b,c[c.length-2],c[c.length-1])}}}function e(){if(g(h.currenlayout.layout)){var b;a:{b=h.currenlayout.layout;for(var a=arguments,c=0;c<a.length;c++)if(k(a[c]))b=l(b,a[c]);else try{b=b[a[c]]}catch(d){b=void 0;break a}b=g(b)?b:void 0}return b}}function m(b,a,c){if(!1!=h.eventStatus.chartCreateComplete&&"undefined"!=typeof b.fns){this.objparent=b;this.objChartMain=h;for(var d=0;d<b.fns.length;d++){var e=b.fns[d];if(e.prop==a)for(var f=0;f<e.actions.length;f++){var g=
e.actions[f].replace(/%property%/g,a).replace(/%value%/g,c);try{eval(g)}catch(k){console.log(k)}}}}}function g(b){return"undefined"!=typeof b&&null!=b}function k(b){var a=b.indexOf("[");b=b.indexOf("]");return-1!=a&&-1!=b&&a<b?!0:!1}function l(b,a){var c=a.indexOf("["),d=a.indexOf("]"),d=a.substring(c+1,d),c=a.replace(d,"").replace("[","").replace("]",""),e=d.split("="),d=e[0],e=e[1],f=null,f=0==c.length?b:b[c];if("undefined"!=typeof f&&null!=f&&f instanceof Array)for(c=0;c<f.length;c++)if(f[c][d]==
e)return f[c];return null}var h=n;return{tempactions:{changeview:"$('#%guiid%').css('display','%value%')"},id:"header1",set:c,get:e,searchbutton:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchbutton]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchbutton]");
b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("right");
a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchbutton]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},symboltitle:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+
"]");b.push("items[type=symboltitle]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=symboltitle]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");
a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+
objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=symboltitle]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},searchsymbol:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchsymbol]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");
a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=searchsymbol]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("width");a.push(b);
c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=searchsymbol]");
a.push("possition");a.push("bottom");a.push(b);c(a)}}},timeframe:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=timeframe]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=timeframe]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);
c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");
a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=timeframe]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},communic:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=communic]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,
set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=communic]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+
"]");a.push("items[type=communic]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);c(a)},
set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},lastupdate:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=lastupdate]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("view");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+
"]");b.push("items[type=lastupdate]");b.push("possition");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");
a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=lastupdate]");a.push("possition");a.push("bottom");a.push(b);c(a)}}},htmlcontainer:{set:function(){var b=
[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=htmlcontainer]");for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set view(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("view");a.push(b);c(a)},set content(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("content");a.push(b);c(a)},possition:{set:function(){var b=[];b.push("[id="+objAPIHeader.id+"]");b.push("items[type=htmlcontainer]");b.push("possition");
for(var a=0;a<arguments.length;a++)b.push(arguments[a]);c(b)},get:e,set height(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("height");a.push(b);c(a)},set width(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("width");a.push(b);c(a)},set right(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("right");a.push(b);c(a)},set left(b){var a=
[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("left");a.push(b);c(a)},set top(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=communic]");a.push("possition");a.push("top");a.push(b);c(a)},set bottom(b){var a=[];a.push("[id="+objAPIHeader.id+"]");a.push("items[type=htmlcontainer]");a.push("possition");a.push("bottom");a.push(b);c(a)}}}}};
function ProChart_InitAPIPanels(a){return{}};
function ProChart_InitAPIAlert(a){return{}};
function ProChart_InitAlert(v){function n(){for(var b=a.panels.allpanels,g=0;g<b.length;g++)switch(b[g].type){case "price":return b[g]}return null}function q(b){if(!r){var a=n().main.guiid,d=null;switch(b.currentTarget.id){case a:(a=$.prochartcache.get(f.parent,"#"+n().pricealert.guiid,"canvas"))&&(d=a.offset())}a=parseInt(b.pageX-d.left);b=parseInt(b.pageY-d.top);for(d=0;d<f.DATA.length;d++){var c=f.DATA[d];if(c.alerpoint){var e=a-c.alerpoint.center_x,k=b-c.alerpoint.center_y;if(64>=e*e+k*k){s.debug(c.alerpoint.type);
w(c);break}}$(f.parent).find(".alert-container").css({display:"none"})}}}function w(b){var g=b.alerpoint.center_x,d=b.alerpoint.center_y,c=null,e="";switch(b.alerpoint.type){case "news":c=b.news[0];e=b.news[0].html;break;case "events":c=b.events;e=b.events.html;break;case "dividens":c=b.dividens[0];e=b.dividens[0].text;break;case "candlestick_patterns":c=b.candlestick_patterns[0];e=b.candlestick_patterns[0].text;break;case "splits":c=b.splits[0],e=b.splits[0].text}var k,h,l,m,q;k=a.api.props.alerts[b.alerpoint.type].background_color?
a.api.props.alerts[b.alerpoint.type].background_color:c.color;a.api.props.alerts[b.alerpoint.type].border_width&&(h=a.api.props.alerts[b.alerpoint.type].border_color?a.api.props.alerts[b.alerpoint.type].border_color:c.background_color,l=a.api.props.alerts[b.alerpoint.type].border_width);m=a.api.props.alerts[b.alerpoint.type].color?a.api.props.alerts[b.alerpoint.type].color:c.labelFontColor;q=a.api.props.alerts[b.alerpoint.type].font_size?a.api.props.alerts[b.alerpoint.type].font_size:"10";var c=a.api.props.alerts[b.alerpoint.type].symbol?
a.api.props.alerts[b.alerpoint.type].symbol:c.label,p={left:g-9,top:d-9};k={"background-color":a.api.props.alerts.alertselected.background_color?a.api.props.alerts.alertselected.background_color:k,color:a.api.props.alerts.alertselected.color?a.api.props.alerts.alertselected.color:m,"font-size":q+"px","font-weight":a.api.props.alerts[b.alerpoint.type].font_bold?"bold":"normal"};if(a.api.props.alerts[b.alerpoint.type].border_width||a.api.props.alerts.alertselected.border_width)k.border=(a.api.props.alerts.alertselected.border_color?
a.api.props.alerts.alertselected.border_color:h)+" solid "+l+"px";h=b.alerpoint.id;l=a.commonutils.func.getPartStyle(p,"px");p=a.commonutils.func.getPartStyle(k,"px");e=a.patterns.alert.alert.replace(/%style-part-main%/g,l).replace(/%text%/g,e).replace(/%style-part-point%/g,p).replace(/%title%/g,c).replace(/%id%/,h);b.alerpoint.parenttooltop.html(e);if(b=b.alerpoint.parenttooltop.find(".alert-tooltip"))l=$.prochartcache.get(f.parent,"#"+n().pricealert.guiid,"canvas").width(),p=b.width(),e=parseInt(p/
2),h=c=null,e=0>g-e?-g:g+e>l?-(p-(l-g)):-e,g=b.height(),0>d-g&&(c=10,h="auto"),b.css({left:e+"px"}),null!=c&&null!=h&&b.css({top:c+"px",bottom:h});var r=$(f.parent).find(".alert-container");$(f.parent).find(".alert-point").on("click",function(){r.css({display:"none"})});r.on("mouseleave",function(){$(this).css({display:"none"});$(this).off("mouseleave")})}function t(){var b=f.DATA,a=$.prochartcache.get(f.parent,"#"+n().pricealert.guiid,"canvas")[0],d=a.getContext("2d");a.width=a.width;for(var c=0;c<
b.length;c++){var e=b[c];e.candlestick_patterns&&m(e,a,d,"candlestick_patterns");e.news&&m(e,a,d,"news");e.events&&m(e,a,d,"events");e.dividens&&(s.debug("dividens",e),m(e,a,d,"dividens"));e.splits&&m(e,a,d,"splits")}}function m(b,g,d,c){var e=null,k=e=0,h=0,h=a.api.props.alerts.gui.top_padding?a.api.props.alerts.gui.top_padding:12,l=a.api.props.alerts.gui.alert_size?a.api.props.alerts.gui.alert_size:8;switch(c){case "candlestick_patterns":case "events":case "dividens":case "splits":case "news":e=
Object.keys(b[c]).length;if(0<e)e="events"==c?b[c]:b[c]["0"],k=b.rx1+(b.rx2-b.rx1)/2|0,h="price"==a.api.props.alerts[c].place?b.ry1-h|0:g.height-(l+2),b.alerpoint={center_x:k,center_y:h,type:c,parenttooltop:$.prochartcache.get(f.parent,"#"+n().pricealert.guiid,".alertdata"),id:a.commonutils.func.returnShortUniqID()};else return;break;default:return}d.beginPath();d.save();d.fillStyle=a.api.props.alerts[c].background_color?a.api.props.alerts[c].background_color:e.color;d.shadowColor=a.api.props.alerts.gui.shadow_color?
a.api.props.alerts.gui.shadow_color:"rgba(0,0,0,0.3)";d.shadowBlur=a.api.props.alerts.gui.shadow_blur?a.api.props.alerts.gui.shadow_blur:3;d.shadowOffsetX=a.api.props.alerts.gui.shadow_offset_x?a.api.props.alerts.gui.shadow_offset_x:3;d.shadowOffsetY=a.api.props.alerts.gui.shadow_offset_y?a.api.props.alerts.gui.shadow_offset_y:2;d.arc(k,h,l,0,2*Math.PI,!0);d.fill();d.restore();a.api.props.alerts[c].border_width&&(d.strokeStyle=a.api.props.alerts[c].border_color?a.api.props.alerts[c].border_color:
e.background_color,d.lineWidth=a.api.props.alerts[c].border_width,d.stroke());d.restore();d.fillStyle=a.api.props.alerts[c].color?a.api.props.alerts[c].color:e.labelFontColor;d.textAlign="center";d.textBaseline="middle";d.font=(a.api.props.alerts[c].font_bold?"bold":"")+" "+(a.api.props.alerts[c].font_size?a.api.props.alerts[c].font_size:"10")+"px sans-serif";d.fillText(a.api.props.alerts[c].symbol?a.api.props.alerts[c].symbol:e.label,k,h);d.restore()}var a=v,f={};a.alertobj=f;var s=a.api.debug.getLogger("prochart.gui.alert"),
u=!0;f.gui={initPattern:function(){},viewAlert:function(a){f.parent=a},updateAlerts:function(b,g,d){u&&(b=$.prochartcache.get(f.parent,"#"+n().main.guiid),b[0].addEventListener("mousedown",q,!0),b[0].addEventListener("mousemove",q,!0),u=!1);!0==a.patterns.alert.alreadyread&&(f.DATA=jQuery.extend(!0,[],d),t())},refreshAlerts:function(){t()},initMouseEvents:function(a){r=a}};f.DATA=[];f.guuid=null;f.mycache={};var r=!1;return f};
function ProChart_InitMsg(b){var a={};b.msgobj=a;b.api.debug.getLogger("prochart.gui.msg");a.gui={initPattern:function(){},viewMsg:function(c){a.parent=c;!0==b.patterns.msg.alreadyread&&(a.guuid=b.panels.gui.getMsgZone())}};a.demodata=null;a.guuid=null;return a};
function ProChart_InitActions(a){var c={},h=a.api.debug.getLogger("prochart.gui.actions"),c={action:function(g,b,c,k){!0==a.bi.status&&a.bi.addt2BI(g);switch(g){case "pointer":a.chart.StopDrawing();break;case "delete_selected":a.chart.DeleteSelected();break;case "delete_allshapes":a.chart.DeleteAllShapes();break;case "delete_allstudies":a.chart.DeleteAllStudies();break;case "draw_tradebuy":a.chart.StartDrawing("tradebuy");break;case "draw_tradesell":a.chart.StartDrawing("tradesell");break;case "duplicate_delected":a.chart.DuplicateSelected();
break;case "draw_rayline":a.chart.StartDrawing("line",{ExtendLeft:!0});break;case "draw_raylineright":a.chart.StartDrawing("line",{ExtendRight:!0});break;case "draw_hline":a.chart.StartDrawing("hline");break;case "draw_vline":a.chart.StartDrawing("vline");break;case "draw_extendedline":a.chart.StartDrawing("line",{ExtendLeft:!0,ExtendRight:!0});break;case "draw_arrow":a.chart.StartDrawing("arrow");break;case "draw_line":a.chart.StartDrawing("line");break;case "draw_measure":a.chart.StartDrawing("measure");
break;case "draw_parallel":a.chart.StartDrawing("parallel");break;case "draw_rect":a.chart.StartDrawing("rect");break;case "draw_arc":a.chart.StartDrawing("arc");break;case "draw_ellipse":a.chart.StartDrawing("ellipse");break;case "draw_circle":a.chart.StartDrawing("circle");break;case "draw_triangle":a.chart.StartDrawing("triangle");break;case "draw_polygon":a.chart.StartDrawing("polygon");break;case "draw_text":a.chart.StartDrawing("text",{LabelText:"Type text.."});break;case "draw_fork":a.chart.StartDrawing("fork");
break;case "draw_fibretrace":a.chart.StartDrawing("fibretrace");break;case "draw_fibtimezones":a.chart.StartDrawing("fibtimezones");break;case "draw_fibfan":a.chart.StartDrawing("fibfan");break;case "draw_fibarc":a.chart.StartDrawing("fibarc");break;case "draw_ganfan":a.chart.StartDrawing("ganfan");break;case "draw_fibextension":a.chart.StartDrawing("fibextension");break;case "draw_fibtimeextension":a.chart.StartDrawing("fibtimeextension");break;case "draw_gansquare":a.chart.StartDrawing("gansquare");
break;case "draw_linearreg":a.chart.StartDrawing("linearreg");break;case "draw_cycleline":a.chart.StartDrawing("cycleline");break;case "zoom_in":case "zoom-in":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomIn();break;case "zoom_out":case "zoom-out":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomOut();break;case "zoom_left":case "zoom-left":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomLeft();break;case "zoom_right":case "zoom-right":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomRight();
break;case "zoom-all":case "zoom_all":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomAll();break;case "zoom_default":case "zoom-default":if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onZoomRestore();break;case "about":"undefined"!=typeof a.menuobj&&a.menuobj.gui.about();break;case "signal_config":"undefined"!=typeof a.signals&&a.signals.gui.viewSignalProviders();break;case "signal_test":"undefined"!=typeof a.signals&&a.signals.gui.stopWaitSignal("tradingcentral_bo");break;case "help":"undefined"!=
typeof a.menu&&a.menuobj.gui.help();break;case "system-get":"undefined"!=typeof a.systems&&a.systems.gui.viewSystems();break;case "system-set":"undefined"!=typeof a.systems&&a.systems.gui.saveSystems();break;case "full-screen":a.gui.fullScreen();break;case "global-props":"undefined"!=typeof a.props&&a.props.gui.viewProps();break;case "screen-shot":"undefined"!=typeof a.community&&a.community.gui.viewScreenShot();break;case "signals":"undefined"!=typeof a.signals&&a.signals.gui.viewSignals();break;
case "menu-majorform":"undefined"!=typeof a.compares&&a.compares.gui.viewMajors();break;case "menu-indicatorform":"undefined"!=typeof a.indicators&&a.indicators.gui.viewIndicators();break;case "open-indicators-list":"undefined"!=typeof a.apiactions&&a.apiactions.indicators.openWizardIndicators();break;case "open-indicators-favorites":"undefined"!=typeof a.apiactions&&a.apiactions.indicators.openWizardFavorites();break;case "open-indicators-smart":"undefined"!=typeof a.apiactions&&a.apiactions.indicators.openWizardSmart();
break;case "open-majors-list":"undefined"!=typeof a.apiactions&&a.apiactions.ta.openMajorsSearch();break;case "open-majors-favorites":"undefined"!=typeof a.apiactions&&a.apiactions.ta.openMajorsFavorites();break;case "open-majors-smart":"undefined"!=typeof a.apiactions&&a.apiactions.ta.openMajorsSmart();break;case "open-compares-list":"undefined"!=typeof a.apiactions&&a.apiactions.ta.openCompareSearch();break;case "open-compares-favorites":"undefined"!=typeof a.apiactions&&a.apiactions.ta.openCompareFavorites();
break;case "open-compares-smart":"undefined"!=typeof a.apiactions&&a.apiactions.ta.openCompareSmart();break;case "menu-compareform":"undefined"!=typeof a.compares&&a.compares.gui.viewCompares();break;case "menu-headersymbolsearch":"undefined"!=typeof a.header&&a.header.gui.openSearch();break;case "slide-toleft":"undefined"!=typeof a.panels&&a.panels.gui.slideToLeft();break;case "slide-toright":"undefined"!=typeof a.panels&&a.panels.gui.slideToRight();break;case "autotimescale":if("undefined"!=typeof a.chart&&
"undefined"!=typeof b&&"undefined"!=typeof a.init.autotimescale&&null!=a.init.autotimescale)for(var e=0;e<a.init.autotimescale.length;e++)try{var d=a.init.autotimescale[e];if(d.id==b){a.chart.SetDateRange(d);return}}catch(l){}break;case "eval":if("undefined"!=typeof b)try{for(d=0;d<f.length;d++)if(f[d].key==b){this.tempobjChartMain=a;e=f[d].code.replace(/objChartMain/g,"this['tempobjChartMain']");eval(e);delete this.tempobjChartMain;break}}catch(m){}break;case "add-indicator":if("undefined"!=typeof a.chart&&
"undefined"!=typeof b){"undefined"!=typeof a.chart.AddStudy&&"undefined"!=typeof a.indicators&&a.indicators.gui.appendIndicator(b);break}break;case "legend-collapse":"undefined"!=typeof a.panels&&a.panels.gui.collapselegend(b,c);break;case "viewalert":case "viewalertbar":try{"undefined"!=typeof a.apiinit.guipart.enabled.alert&&(a.apiinit.guipart.enabled.alert=!a.apiinit.guipart.enabled.alert),"undefined"!=typeof a.panels&&a.panels.gui.viewPriceAlert(),"undefined"!=typeof a.panels&&a.panels.gui.refreshPriceWithInfoBars()}catch(n){}break;
case "viewmsgbar":h.debug("viewmsgbar");try{"undefined"!=typeof a.currenlayout.chart_panels.price.axisxmsg&&(a.currenlayout.chart_panels.price.axisxmsg.view=!a.currenlayout.chart_panels.price.axisxmsg.view),"undefined"!=typeof a.panels&&a.panels.gui.refreshPriceWithInfoBars()}catch(p){}}try{if(typeof a.events.actions.onActionRun==typeof Function)a.events.actions.onActionRun(g,b,c)}catch(q){}},addEvelCode:function(c){var b=a.commonutils.func.returnShortUniqID();f.push({key:b,code:c});return b},delEvelCode:function(){}},
f=[];return c};
(function(y,e,ra){function fa(k,d,e){for(var r=[],u=0;u<k.length;u++){var s=tinycolor(k[u]),p=.5>s.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light",p=p+(tinycolor.equals(d,k[u])?" sp-thumb-active":""),l=sa?"background-color:"+s.toRgbString():"filter:"+s.toFilter();r.push('<span title="'+s.toRgbString()+'" data-color="'+s.toRgbString()+'" class="'+p+'"><span class="sp-thumb-inner" style="'+l+';" /></span>')}return"<div class='sp-cf "+e+"'>"+r.join("")+"</div>"}function Fa(k,d){var q=
e.extend({},Z,k);q.callbacks={move:A(q.move,d),change:A(q.change,d),show:A(q.show,d),hide:A(q.hide,d),beforeShow:A(q.beforeShow,d)};return q}function ga(k,d){function q(){n.toggleClass("sp-flat",c);n.toggleClass("sp-input-disabled",!a.showInput);n.toggleClass("sp-alpha-enabled",a.showAlpha);n.toggleClass("sp-buttons-disabled",!a.showButtons);n.toggleClass("sp-palette-disabled",!a.showPalette);n.toggleClass("sp-palette-only",a.showPaletteOnly);n.toggleClass("sp-initial-disabled",!a.showInitial);n.addClass(a.className);
G()}function r(a){if(b){a=tinycolor(a).toRgbString();if(-1===e.inArray(a,H))for(H.push(a);H.length>Z;)H.shift();if(m&&y.localStorage)try{y.localStorage[m]=H.join(";")}catch(c){}}}function u(){var b=[],c=H,m={},d;if(a.showPalette){for(var f=0;f<$.length;f++)for(var h=0;h<$[f].length;h++)d=tinycolor($[f][h]).toRgbString(),m[d]=!0;for(f=0;f<c.length;f++)d=tinycolor(c[f]).toRgbString(),m.hasOwnProperty(d)||(b.push(c[f]),m[d]=!0)}return b.reverse().slice(0,a.maxSelectionSize)}function s(){var a=g(),b=
e.map($,function(b,c){return fa(b,a,"sp-palette-row sp-palette-row-"+c)});H&&b.push(fa(u(),a,"sp-palette-row sp-palette-row-selection"));ta.html(b.join(""))}function p(){if(a.showInitial){var b=I,c=g();ua.html(fa([b,c],c,"sp-palette-row-initial"))}}function l(){(0>=F||0>=O||0>=aa)&&G();n.addClass(va);J=null}function z(){n.removeClass(va)}function B(){var a=tinycolor(K.val());a.ok?t(a):K.addClass("sp-validation-error")}function wa(){R?C():ha()}function ha(){var b=e.Event("beforeShow.spectrum");if(R)G();
else if(v.trigger(b,[g()]),!1!==h.beforeShow(g())&&!b.isDefaultPrevented()){for(b=0;b<P.length;b++)P[b]&&P[b].hide();R=!0;e(ia).bind("click.spectrum",C);e(y).bind("resize.spectrum",f);Q.addClass("sp-active");n.removeClass("sp-hidden");a.showPalette&&s();G();w();I=g();p();h.show(I);v.trigger("show.spectrum",[I])}}function C(a){a&&"click"==a.type&&2==a.button||!R||c||(R=!1,e(ia).unbind("click.spectrum",C),e(y).unbind("resize.spectrum",f),Q.removeClass("sp-active"),n.addClass("sp-hidden"),tinycolor.equals(g(),
I)||(ga&&"cancel"!==a?L(!0):t(I,!0)),h.hide(g()),v.trigger("hide.spectrum",[g()]))}function t(a,b){if(!tinycolor.equals(a,g())){var c=tinycolor(a),d=c.toHsv();S=d.h%360/360;T=d.s;U=d.v;M=d.a;w();c.ok&&!b&&(V=ja||c.format)}}function g(a){a=a||{};return tinycolor.fromRatio({h:S,s:T,v:U,a:Math.round(100*M)/100},{format:a.format||V})}function x(){w();h.move(g());v.trigger("move.spectrum",[g()])}function w(){K.removeClass("sp-validation-error");xa();var b=tinycolor.fromRatio({h:S,s:1,v:1});ba.css("background-color",
b.toHexString());b=V;1>M&&("hex"===b||"hex3"===b||"hex6"===b||"name"===b)&&(b="rgb");var c=g({format:b}),d=c.toHexString(),m=c.toRgbString();sa||1===c.alpha?ka.css("background-color",m):(ka.css("background-color","transparent"),ka.css("filter",c.toFilter()));if(a.showAlpha){m=c.toRgb();m.a=0;var m=tinycolor(m).toRgbString(),f="linear-gradient(left, "+m+", "+d+")";W?X.css("filter",tinycolor(m).toFilter({gradientType:1},d)):(X.css("background","-webkit-"+f),X.css("background","-moz-"+f),X.css("background",
"-ms-"+f),X.css("background",f))}a.showInput&&K.val(c.toString(b));a.showPalette&&s();p()}function xa(){var a=T*O,b=F-U*F,a=Math.max(-N,Math.min(O-N,a-N)),b=Math.max(-N,Math.min(F-N,b-N));ya.css({top:b,left:a});za.css({left:M*la-A/2});Aa.css({top:S*aa-D})}function L(a){var b=g();if(ma)try{v.val(b.toString(V)).change()}catch(c){}var d=!tinycolor.equals(b,I);I=b;r(b);a&&d&&(h.change(b),v.trigger("change.spectrum",[b]))}function G(){O=ba.width();F=ba.height();N=ya.height();na.width();aa=na.height();
D=Aa.height();la=Ba.width();A=za.width();c||(n.css("position","absolute"),n.offset(Ga(n,Y)));xa()}function E(){C();oa=!0;v.attr("disabled",!0);Y.addClass("sp-disabled")}var a=Fa(d,k),c=a.flat,b=a.showSelectionPalette,m=a.localStorageKey,Ca=a.theme,h=a.callbacks,f=Ha(G,10),R=!1,O=0,F=0,N=0,aa=0,la=0,A=0,D=0,S=0,T=0,U=0,M=1,pa=a.palette.slice(0),$=e.isArray(pa[0])?pa:[pa],H=a.selectionPalette.slice(0),Z=a.maxSelectionSize,va="sp-dragging",J=null,ia=k.ownerDocument,v=e(k),oa=!1,n=e(Ia,ia).addClass(Ca),
ba=n.find(".sp-color"),ya=n.find(".sp-dragger"),na=n.find(".sp-hue"),Aa=n.find(".sp-slider"),X=n.find(".sp-alpha-inner"),Ba=n.find(".sp-alpha"),za=n.find(".sp-alpha-handle"),K=n.find(".sp-input"),ta=n.find(".sp-palette"),ua=n.find(".sp-initial"),Da=n.find(".sp-cancel"),Ea=n.find(".sp-choose"),ma=v.is("input"),qa=ma&&!c,Q=qa?e(Ja).addClass(Ca).addClass(a.className):e([]),Y=qa?Q:v,ka=Q.find(".sp-preview-inner"),ca=a.color||ma&&v.val(),I=!1,ja=a.preferredFormat,V=ja,ga=!a.showButtons||a.clickoutFiresChange;
(function(){function b(a){a.data&&a.data.ignore?(t(e(this).data("color")),x()):(t(e(this).data("color")),L(!0),x(),C());return!1}W&&n.find("*:not(input)").attr("unselectable","on");q();qa&&v.after(Q).hide();if(c)v.after(n).hide();else{var d="parent"===a.appendTo?v.parent():e(a.appendTo);1!==d.length&&(d=e("body"));d.append(n)}if(m&&y.localStorage){try{var f=y.localStorage[m].split(",#");1<f.length&&(delete y.localStorage[m],e.each(f,function(a,b){r(b)}))}catch(h){}try{H=y.localStorage[m].split(";")}catch(g){}}Y.bind("click.spectrum touchstart.spectrum",
function(a){oa||wa();a.stopPropagation();e(a.target).is("input")||a.preventDefault()});(v.is(":disabled")||!0===a.disabled)&&E();n.click(Ka);K.change(B);K.bind("paste",function(){setTimeout(B,1)});K.keydown(function(a){13==a.keyCode&&B()});Da.text(a.cancelText);Da.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();C("cancel")});Ea.text(a.chooseText);Ea.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();K.hasClass("sp-validation-error")||(L(!0),C())});da(Ba,
function(a,b,c){M=a/la;c.shiftKey&&(M=Math.round(10*M)/10);x()});da(na,function(a,b){S=parseFloat(b/aa);x()},l,z);da(ba,function(a,b,c){c.shiftKey?J||(c=F-U*F,J=Math.abs(a-T*O)>Math.abs(b-c)?"x":"y"):J=null;c=!J||"y"===J;J&&"x"!==J||(T=parseFloat(a/O));c&&(U=parseFloat((F-b)/F));x()},l,z);ca?(t(ca),w(),V=ja||tinycolor(ca).format,r(ca)):w();c&&ha();d=W?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ta.delegate(".sp-thumb-el",d,b);ua.delegate(".sp-thumb-el:nth-child(1)",d,{ignore:!0},b)})();
var ea={show:ha,hide:C,toggle:wa,reflow:G,option:function(b,c){if(b===ra)return e.extend({},a);if(c===ra)return a[b];a[b]=c;q()},enable:function(){oa=!1;v.attr("disabled",!1);Y.removeClass("sp-disabled")},disable:E,set:function(a){t(a);L()},get:g,destroy:function(){v.show();Y.unbind("click.spectrum touchstart.spectrum");n.remove();Q.remove();P[ea.id]=null},container:n};ea.id=P.push(ea)-1;return ea}function Ga(k,d){var q=k.outerWidth(),r=k.outerHeight(),u=d.outerHeight(),s=k[0].ownerDocument,p=s.documentElement,
l=p.clientWidth+e(s).scrollLeft(),s=p.clientHeight+e(s).scrollTop(),p=d.offset();p.top+=u;p.left-=Math.min(p.left,p.left+q>l&&l>q?Math.abs(p.left+q-l):0);p.top-=Math.min(p.top,p.top+r>s&&s>r?Math.abs(r+u-0):0);return p}function D(){}function Ka(k){k.stopPropagation()}function A(k,d){var e=Array.prototype.slice,r=e.call(arguments,2);return function(){return k.apply(d,r.concat(e.call(arguments)))}}function da(k,d,q,r){function u(d){d.stopPropagation&&d.stopPropagation();d.preventDefault&&d.preventDefault();
d.returnValue=!1}function s(g){if(z){if(W&&9>document.documentMode&&!g.button)return p();var e=g.originalEvent.touches,l=e?e[0].pageY:g.pageY,e=Math.max(0,Math.min((e?e[0].pageX:g.pageX)-B.left,D)),l=Math.max(0,Math.min(l-B.top,A));C&&u(g);d.apply(k,[e,l,g])}}function p(){z&&(e(l).unbind(t),e(l.body).removeClass("sp-dragging"),r.apply(k,arguments));z=!1}d=d||function(){};q=q||function(){};r=r||function(){};var l=k.ownerDocument||document,z=!1,B={},A=0,D=0,C="ontouchstart"in y,t={};t.selectstart=u;
t.dragstart=u;t["touchmove mousemove"]=s;t["touchend mouseup"]=p;e(k).bind("touchstart mousedown",function(d){(d.which?3==d.which:2==d.button)||z||!1===q.apply(k,arguments)||(z=!0,A=e(k).height(),D=e(k).width(),B=e(k).offset(),e(l).bind(t),e(l.body).addClass("sp-dragging"),C||s(d),u(d))})}function Ha(e,d,q){var r;return function(){var u=this,s=arguments,p=function(){r=null;e.apply(u,s)};q&&clearTimeout(r);if(q||!r)r=setTimeout(p,d)}}var Z={beforeShow:D,move:D,change:D,show:D,hide:D,color:!1,flat:!1,
showInput:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:!1,className:"",showAlpha:!1,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:!1},P=[],W=!!/msie/i.exec(y.navigator.userAgent),sa=function(){var e=document.createElement("div").style;e.cssText="background-color:rgba(0,0,0,.5)";return!!~(""+e.backgroundColor).indexOf("rgba")||
!!~(""+e.backgroundColor).indexOf("hsla")}(),Ja="<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div><div class='sp-range-box'><div class='sp-range'></div></div></div></div>",Ia=function(){var e="";if(W)for(var d=1;6>=d;d++)e+="<div class='sp-"+d+"'></div>";return["<div class='sp-container sp-hidden'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'></div></div></div></div><div class='sp-hue'><div class='sp-slider'></div>",
e,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button class='sp-choose'></button></div></div></div>"].join("")}();e.fn.spectrum=function(k,d){if("string"==typeof k){var q=this,r=Array.prototype.slice.call(arguments,
1);this.each(function(){var d=P[e(this).data("spectrum.id")];if(d){var s=d[k];if(!s)throw Error("Spectrum: no such method: '"+k+"'");"get"==k?q=d.get():"container"==k?q=d.container:"option"==k?q=d.option.apply(d,r):"destroy"==k?(d.destroy(),e(this).removeData("spectrum.id")):s.apply(d,r)}});return q}return this.spectrum("destroy").each(function(){var d=ga(this,k);e(this).data("spectrum.id",d.id)})};e.fn.spectrum.load=!0;e.fn.spectrum.loadOpts={};e.fn.spectrum.draggable=da;e.fn.spectrum.defaults=Z;
e.spectrum={};e.spectrum.localization={};e.spectrum.palettes={};e.fn.spectrum.processNativeColorInputs=function(){var k=e("<input type='color' />")[0];"color"===k.type&&"!"!=k.value||e("input[type=color]").spectrum({preferredFormat:"hex6"})};(function(e){function d(a,c){a=a?a:"";c=c||{};if("object"==typeof a&&a.hasOwnProperty("_tc_id"))return a;var b=q(a),m=b.r,e=b.g,h=b.b,f=b.a,k=g(100*f)/100,t=c.format||b.format;1>m&&(m=g(m));1>e&&(e=g(e));1>h&&(h=g(h));return{ok:b.ok,format:t,_tc_id:C++,alpha:f,
toHsv:function(){var a=s(m,e,h);return{h:360*a.h,s:a.s,v:a.v,a:f}},toHsvString:function(){var a=s(m,e,h),b=g(360*a.h),c=g(100*a.s),a=g(100*a.v);return 1==f?"hsv("+b+", "+c+"%, "+a+"%)":"hsva("+b+", "+c+"%, "+a+"%, "+k+")"},toHsl:function(){var a=r(m,e,h);return{h:360*a.h,s:a.s,l:a.l,a:f}},toHslString:function(){var a=r(m,e,h),b=g(360*a.h),c=g(100*a.s),a=g(100*a.l);return 1==f?"hsl("+b+", "+c+"%, "+a+"%)":"hsla("+b+", "+c+"%, "+a+"%, "+k+")"},toHex:function(a){return p(m,e,h,a)},toHexString:function(a){return"#"+
p(m,e,h,a)},toRgb:function(){return{r:g(m),g:g(e),b:g(h),a:f}},toRgbString:function(){return 1==f?"rgb("+g(m)+", "+g(e)+", "+g(h)+")":"rgba("+g(m)+", "+g(e)+", "+g(h)+", "+k+")"},toPercentageRgb:function(){return{r:g(100*l(m,255))+"%",g:g(100*l(e,255))+"%",b:g(100*l(h,255))+"%",a:f}},toPercentageRgbString:function(){return 1==f?"rgb("+g(100*l(m,255))+"%, "+g(100*l(e,255))+"%, "+g(100*l(h,255))+"%)":"rgba("+g(100*l(m,255))+"%, "+g(100*l(e,255))+"%, "+g(100*l(h,255))+"%, "+k+")"},toName:function(){return G[p(m,
e,h,!0)]||!1},toFilter:function(a){var b=p(m,e,h),g=b,k=Math.round(255*parseFloat(f)).toString(16),l=k,q=c&&c.gradientType?"GradientType = 1, ":"";a&&(a=d(a),g=a.toHex(),l=Math.round(255*parseFloat(a.alpha)).toString(16));return"progid:DXImageTransform.Microsoft.gradient("+q+"startColorstr=#"+z(k)+b+",endColorstr=#"+z(l)+g+")"},toString:function(a){a=a||this.format;var b=!1;"rgb"===a&&(b=this.toRgbString());"prgb"===a&&(b=this.toPercentageRgbString());if("hex"===a||"hex6"===a)b=this.toHexString();
"hex3"===a&&(b=this.toHexString(!0));"name"===a&&(b=this.toName());"hsl"===a&&(b=this.toHslString());"hsv"===a&&(b=this.toHsvString());return b||this.toHexString()}}}function q(a){var c={r:0,g:0,b:0},b=1,d=!1,e=!1;if("string"==typeof a)a:{a=a.replace(A,"").replace(D,"").toLowerCase();var h=!1;if(L[a])a=L[a],h=!0;else if("transparent"==a){a={r:0,g:0,b:0,a:0};break a}var f;a=(f=E.rgb.exec(a))?{r:f[1],g:f[2],b:f[3]}:(f=E.rgba.exec(a))?{r:f[1],g:f[2],b:f[3],a:f[4]}:(f=E.hsl.exec(a))?{h:f[1],s:f[2],l:f[3]}:
(f=E.hsla.exec(a))?{h:f[1],s:f[2],l:f[3],a:f[4]}:(f=E.hsv.exec(a))?{h:f[1],s:f[2],v:f[3]}:(f=E.hex6.exec(a))?{r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16),format:h?"name":"hex"}:(f=E.hex3.exec(a))?{r:parseInt(f[1]+""+f[1],16),g:parseInt(f[2]+""+f[2],16),b:parseInt(f[3]+""+f[3],16),format:h?"name":"hex"}:!1}if("object"==typeof a){if(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b"))c=a.g,d=a.b,c={r:255*l(a.r,255),g:255*l(c,255),b:255*l(d,255)},d=!0,e="%"===String(a.r).substr(-1)?
"prgb":"rgb";else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")){a.s=B(a.s);a.v=B(a.v);var e=a.h,h=a.s,c=a.v,e=6*l(e,360),h=l(h,100),c=l(c,100),d=t.floor(e),g=e-d,e=c*(1-h);f=c*(1-g*h);h=c*(1-(1-g)*h);d%=6;c={r:255*[c,f,e,e,h,c][d],g:255*[h,c,c,f,e,e][d],b:255*[e,e,h,c,c,f][d]};d=!0;e="hsv"}else a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")&&(a.s=B(a.s),a.l=B(a.l),c=u(a.h,a.s,a.l),d=!0,e="hsl");a.hasOwnProperty("a")&&(b=a.a)}b=parseFloat(b);if(isNaN(b)||
0>b||1<b)b=1;return{ok:d,format:a.format||e,r:x(255,w(c.r,0)),g:x(255,w(c.g,0)),b:x(255,w(c.b,0)),a:b}}function r(a,c,b){a=l(a,255);c=l(c,255);b=l(b,255);var d=w(a,c,b),e=x(a,c,b),h,f=(d+e)/2;if(d==e)h=e=0;else{var g=d-e,e=.5<f?g/(2-d-e):g/(d+e);switch(d){case a:h=(c-b)/g+(c<b?6:0);break;case c:h=(b-a)/g+2;break;case b:h=(a-c)/g+4}h/=6}return{h:h,s:e,l:f}}function u(a,c,b){function d(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}a=l(a,360);c=l(c,100);b=l(b,
100);if(0===c)b=c=a=b;else{var e=.5>b?b*(1+c):b+c-b*c,h=2*b-e;b=d(h,e,a+1/3);c=d(h,e,a);a=d(h,e,a-1/3)}return{r:255*b,g:255*c,b:255*a}}function s(a,c,b){a=l(a,255);c=l(c,255);b=l(b,255);var d=w(a,c,b),e=x(a,c,b),h,f=d-e;if(d==e)h=0;else{switch(d){case a:h=(c-b)/f+(c<b?6:0);break;case c:h=(b-a)/f+2;break;case b:h=(a-c)/f+4}h/=6}return{h:h,s:0===d?0:f/d,v:d}}function p(a,c,b,d){a=[z(g(a).toString(16)),z(g(c).toString(16)),z(g(b).toString(16))];return d&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==
a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function l(a,c){var b=a;"string"==typeof b&&-1!=b.indexOf(".")&&1===parseFloat(b)&&(a="100%");b="string"===typeof a&&-1!=a.indexOf("%");a=x(c,w(0,parseFloat(a)));b&&(a=parseInt(a*c,10)/100);return 1E-6>t.abs(a-c)?1:a%c/parseFloat(c)}function z(a){return 1==a.length?"0"+a:""+a}function B(a){1>=a&&(a=100*a+"%");return a}var A=/^[\s,#]+/,D=/\s+$/,C=0,t=Math,g=t.round,x=t.min,w=t.max,y=t.random;d.fromRatio=
function(a,c){if("object"==typeof a){var b={},e;for(e in a)a.hasOwnProperty(e)&&(b[e]="a"===e?a[e]:B(a[e]));a=b}return d(a,c)};d.equals=function(a,c){return a&&c?d(a).toRgbString()==d(c).toRgbString():!1};d.random=function(){return d.fromRatio({r:y(),g:y(),b:y()})};d.desaturate=function(a,c){var b=d(a).toHsl();b.s-=(c||10)/100;b.s=x(1,w(0,b.s));return d(b)};d.saturate=function(a,c){var b=d(a).toHsl();b.s+=(c||10)/100;b.s=x(1,w(0,b.s));return d(b)};d.greyscale=function(a){return d.desaturate(a,100)};
d.lighten=function(a,c){var b=d(a).toHsl();b.l+=(c||10)/100;b.l=x(1,w(0,b.l));return d(b)};d.darken=function(a,c){var b=d(a).toHsl();b.l-=(c||10)/100;b.l=x(1,w(0,b.l));return d(b)};d.complement=function(a){a=d(a).toHsl();a.h=(a.h+180)%360;return d(a)};d.triad=function(a){var c=d(a).toHsl(),b=c.h;return[d(a),d({h:(b+120)%360,s:c.s,l:c.l}),d({h:(b+240)%360,s:c.s,l:c.l})]};d.tetrad=function(a){var c=d(a).toHsl(),b=c.h;return[d(a),d({h:(b+90)%360,s:c.s,l:c.l}),d({h:(b+180)%360,s:c.s,l:c.l}),d({h:(b+270)%
360,s:c.s,l:c.l})]};d.splitcomplement=function(a){var c=d(a).toHsl(),b=c.h;return[d(a),d({h:(b+72)%360,s:c.s,l:c.l}),d({h:(b+216)%360,s:c.s,l:c.l})]};d.analogous=function(a,c,b){c=c||6;b=b||30;var e=d(a).toHsl();b=360/b;a=[d(a)];for(e.h=(e.h-(b*c>>1)+720)%360;--c;)e.h=(e.h+b)%360,a.push(d(e));return a};d.monochromatic=function(a,c){c=c||6;for(var b=d(a).toHsv(),e=b.h,g=b.s,b=b.v,h=[],f=1/c;c--;)h.push(d({h:e,s:g,v:b})),b=(b+f)%1;return h};d.readability=function(a,c){var b=d(a).toRgb(),e=d(c).toRgb(),
g=(299*b.r+587*b.g+114*b.b)/1E3,h=(299*e.r+587*e.g+114*e.b)/1E3,b=Math.max(b.r,e.r)-Math.min(b.r,e.r)+Math.max(b.g,e.g)-Math.min(b.g,e.g)+Math.max(b.b,e.b)-Math.min(b.b,e.b);return{brightness:Math.abs(g-h),color:b}};d.readable=function(a,c){var b=d.readability(a,c);return 125<b.brightness&&500<b.color};d.mostReadable=function(a,c){for(var b=null,e=0,g=!1,h=0;h<c.length;h++){var f=d.readability(a,c[h]),k=125<f.brightness&&500<f.color,f=f.brightness/125*3+f.color/500;if(k&&!g||k&&g&&f>e||!k&&!g&&f>
e)g=k,e=f,b=d(c[h])}return b};var L=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",
darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",
gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",
lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",
olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",
slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=d.hexNames=function(a){var c={},b;for(b in a)a.hasOwnProperty(b)&&(c[a[b]]=b);return c}(L),E={rgb:RegExp("rgb[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
rgba:RegExp("rgba[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsl:RegExp("hsl[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hsla:RegExp("hsla[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),
hsv:RegExp("hsv[\\s|\\(]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))[,|\\s]+((?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?))\\s*\\)?"),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};e.tinycolor=d})(this);e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})})(window,jQuery);
function ProChart_InitDraw(ea){function N(a,c){v=fa(c.ShapeType);"undefined"!=typeof e.preloadobj&&e.preloadobj.startPreload();try{switch(c.ShapeType){case "polygon":case "rect":case "ellipse":case "triangle":case "shape":case "circle":case "sketch":case "arc":O(c);break;case "fibfan":case "ganfan":b=c;w("fan",v);ga(e.patterns.draw.fanform);break;case "fibtimezones":case "fibtimeextension":P(c);break;case "cycleline":Q(c);break;case "gansquare":R(c);break;case "fibretrace":case "fibextension":S(c);
break;case "fibarc":T(c);break;case "fork":U(c);break;case "linearreg":V(c);break;case "arrow":case "line":W(c);break;case "parallel":X(c);break;case "text":Y(c);break;case "hline":case "measure":case "vline":Z(c);break;default:u()}}catch(d){u()}}function fa(a){function b(a,c){return"undefined"!=typeof e.localizationobj?e.localizationobj.gui.returnLocalizationString(a,c):c}var d="";switch(a){case "polygon":d=b("dialogs.titles."+a,"Polygon");break;case "rect":d=b("dialogs.titles."+a,"Rectangle");break;
case "ellipse":d=b("dialogs.titles."+a,"Ellipse");break;case "triangle":d=b("dialogs.titles."+a,"Triangle");break;case "circle":d=b("dialogs.titles."+a,"Circle");break;case "sketch":d=b("dialogs.titles."+a,"Sketch");break;case "arc":d=b("dialogs.titles."+a,"Acr");break;case "fibfan":d=b("dialogs.titles."+a,"Fan");break;case "ganfan":d=b("dialogs.titles."+a,"Gann Fan");break;case "fibtimeextension":d=b("dialogs.titles."+a,"Fibo Time Zone Extension ");break;case "fibtimezones":d=b("dialogs.titles."+
a,"Fibo Time Zone");break;case "cycleline":d=b("dialogs.titles."+a,"Circle Line");break;case "gansquare":d=b("dialogs.titles."+a,"Gan Square");break;case "fibretrace":d=b("dialogs.titles."+a,"Fib Retracement");break;case "fibextension":d=b("dialogs.titles."+a,"Fib Extension");break;case "fibarc":d=b("dialogs.titles."+a,"Fib Arcs");break;case "fork":d=b("dialogs.titles."+a,"Pitchfork");break;case "linearreg":d=b("dialogs.titles."+a,"Regression Trend");break;case "arrow":d=b("dialogs.titles."+a,"Arrow");
break;case "line":d=b("dialogs.titles."+a,"Line");break;case "parallel":d=b("dialogs.titles."+a,"Parallel Channel");break;case "text":d=b("dialogs.titles."+a,"Text Label");break;case "hline":d=b("dialogs.titles."+a,"Horizontal Line");break;case "measure":d=b("dialogs.titles."+a,"Measure Line");break;case "vline":d=b("dialogs.titles."+a,"Vertical Line")}return d}function V(a){b=a;w("shape",v);var c=e.patterns.draw.linearregform;a=b;$("#chart-dialog").html(c);try{var d=$("#tbody-levels"),k=e.patterns.draw.linereg_trendline.replace(/%border_style_pattern%/g,
e.patterns.draw.border_style);$(d).append(k);0==b.Levels.length&&(b.Levels.push(0),b.Levels.push(0),b.Levels.push(0));var g=a.MainLineStyle;z(g,"#trendline-width","#color-trendline","#line-select-trendline");A(g,"#trendline-width","#color-trendline","#line-select-trendline");var h=e.patterns.draw.linereg_levels,k=[];k.push({name:"topline",caption:"Top Line"});k.push({name:"middleline",caption:"Middle Line"});k.push({name:"bottomline",caption:"Bottom Line"});for(g=0;3>g;g++){var p=h.replace(/%order%/g,
g).replace(/%levelindex%/g,g).replace(/%linename%/g,k[g].name).replace(/%border_style_pattern%/g,e.patterns.draw.border_style).replace(/%linecaption%/g,k[g].caption);$(d).append(p);var l=a.LevelsStyle["level"+g],m=a.LevelFillsStyle["level"+g];C(l,"#slider-5-level-"+g);D(l,m,"#color-background-level-"+g);E(l,"#line-select-level-"+g);!1==a.LevelsView[g]&&($("#control-background-level-"+g).prop("checked",!1),$("#slider-5-level-"+g).slider("disable"),$("#color-background-level-"+g).spectrum("disable"),
$("#input-level-"+g).prop("disabled",!0),$("#line-select-level-"+g).prop("disabled",!0))}F(a.MainLineStyle,"#slider-100",a.LevelFillsStyle);G("#control-background","#slider-100");!0!=a.MainLineStyle.viewFill&&($("#control-background").prop("checked",!1),$("#slider-100").slider("disable"));x(a.Coordinations,a.TimeScale,a);y();$("#chart-dialog").dialog("open")}catch(H){u()}}function O(a){b=a;w("shape",v);a=e.patterns.draw.shapeform;$("#chart-dialog").html(a);try{var c=b.MainLineStyle;z(c,"#border-width",
"#color-border","#linedesign-select");aa(c,"#control-background","#color-background","#slider-100");A(c,"#border-width","#color-border","#linedesign-select");ba(c,"#control-background","#color-background","#slider-100");x(b.Coordinations,b.TimeScale,b);y();$("#chart-dialog").dialog("open")}catch(d){u()}}function W(a){b=a;w("line",v);a=e.patterns.draw.lineform;$("#chart-dialog").html(a);try{var c=b.MainLineStyle;z(c,"#line-width","#line-color","#linedesign-select");A(c,"#line-width","#line-color",
"#linedesign-select");ca(b,"#line-extendleft","#line-extendright");x(b.Coordinations,b.TimeScale,b);y();$("#chart-dialog").dialog("open")}catch(d){u()}}function Q(a){b=a;w("circleline",v);a=e.patterns.draw.circlelineform;$("#chart-dialog").html(a);try{var c=b.MainLineStyle;z(c,"#line-width","#line-color","#linedesign-select");A(c,"#line-width","#line-color","#linedesign-select");x(b.Coordinations,b.TimeScale,b);y();$("#chart-dialog").dialog("open")}catch(d){u()}}function P(a){b=a;w("timezone",v);
a=e.patterns.draw.timezoneform;$("#chart-dialog").html(a);try{var c=b.MainLineStyle;z(c,"#line-width","#line-color","#linedesign-select");A(c,"#line-width","#line-color","#linedesign-select");x(b.Coordinations,b.TimeScale,b);B(b);y();$("#chart-dialog").dialog("open")}catch(d){u()}}function X(a){b=a;w("parallel",v);a=e.patterns.draw.parallelform;$("#chart-dialog").html(a);try{var c=b.MainLineStyle,d=b.MainLineStyle;z(c,"#line-width","#line-color","#linedesign-select");aa(d,"#control-background","#color-background",
"#slider-100");A(c,"#line-width","#line-color","#linedesign-select");ba(d,"#control-background","#color-background","#slider-100");ca(b,"#line-extendleft","#line-extendright");x(b.Coordinations,b.TimeScale,b);y();$("#chart-dialog").dialog("open")}catch(k){u()}}function Z(a){b=a;w("line",v);a=e.patterns.draw.vlineform;$("#chart-dialog").html(a);try{var c=b.MainLineStyle;z(c,"#line-width","#line-color","#linedesign-select");A(c,"#line-width","#line-color","#linedesign-select");x(b.Coordinations,b.TimeScale,
b);switch(b.ShapeType){case "hline":var d=$("#tbody-coordinates td");$(d[2]).css("display","none");$(d[3]).css("display","none");$(d[4]).css("display","none");break;case "vline":var k=$("#tbody-coordinates td");$(k[0]).css("display","none");$(k[1]).css("display","none")}B(b);y();$("#chart-dialog").dialog("open")}catch(g){u()}}function Y(a){b=a;w("text",v);ha(e.patterns.draw.textform)}function ha(a){$("#chart-dialog").html(a);try{$("#input-text").val(b.Label),$("#input-text").on("change",function(){b.Label=
$(this).val();b.Refresh()}),B(b),x(b.Coordinations,b.TimeScale,b),y(),$("#chart-dialog").dialog("open")}catch(c){u()}}function ga(a){$("#chart-dialog").html(a);try{var c=e.patterns.draw.fan.replace(/%border_style_pattern%/g,e.patterns.draw.border_style),d=b.Levels,k=$("#tbody-levels");if(null!=d)for(a=0;a<d.length;a++){var g=c.replace(/%order%/g,a).replace(/%levelindex%/g,a).replace(/%input-value%/g,d[a]).replace(/%border_style_pattern%/g,e.patterns.draw.border_style);$(k).append(g);var h=b.LevelsStyle["level"+
a],p=b.LevelFillsStyle["level"+a];C(h,"#slider-5-level-"+a);D(h,p,"#color-background-level-"+a);E(h,"#line-select-level-"+a);!1==b.LevelsView[a]&&($("#control-background-level-"+a).prop("checked",!1),$("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0))}F(b.MainLineStyle,"#slider-100",b.LevelFillsStyle);!0!=b.MainLineStyle.viewFill&&($("#control-background").prop("checked",
!1),$("#slider-100").slider("disable"));!0!=b.LabelsStyle.view&&$("#control-labels").prop("checked",!1);I();$(".control-background-level").on("click",function(a){a=$(".control-background-level").index(this);$(this).is(":checked")?($("#slider-5-level-"+a).slider("enable"),$("#color-background-level-"+a).spectrum("enable"),$("#input-level-"+a).prop("disabled",!1),$("#line-select-level-"+a).prop("disabled",!1),b.LevelsView[a]=!0):($("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+
a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0),b.LevelsView[a]=!1);b.Refresh()});G("#control-background","#slider-100");$(".class-input-level").on("change",function(){var a=$(".class-input-level").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),d[a]=$(this).val(),b.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=
$(this).val()&&$.isNumeric($(this).val())&&(d[a]=$(this).val(),b.Refresh()))});x(b.Coordinations,b.TimeScale,b);B(b);y();$("#chart-dialog").dialog("open")}catch(l){u()}}function R(a){b=a;w("square",v);a=e.patterns.draw.squareform;$("#chart-dialog").html(a);try{var c=$("#tbody-levels"),d=e.patterns.draw.square_trendline.replace(/%border_style_pattern%/g,e.patterns.draw.border_style);$(c).append(d);var k=b.MainLineStyle;z(k,"#trendline-width","#color-trendline","#line-select-trendline");A(k,"#trendline-width",
"#color-trendline","#line-select-trendline");var g=e.patterns.draw.square_levels,h=b.Levels;if(null!=h)for(d=0;d<h.length;d++){var p=g.replace(/%order%/g,d).replace(/%levelindex%/g,d).replace(/%border_style_pattern%/g,e.patterns.draw.border_style).replace(/%input-value%/g,h[d]);$(c).append(p);var l=b.LevelsStyle["level"+d],m=b.LevelsStyle["level"+d];C(l,"#slider-5-level-"+d);D(l,m,"#color-background-level-"+d);E(l,"#line-select-level-"+d)}x(b.Coordinations,b.TimeScale,b);B(b);y();$("#chart-dialog").dialog("open")}catch(H){u()}}
function T(a){b=a;w("fiboarc",v);ia(e.patterns.draw.fiboform)}function ia(a){$("#chart-dialog").html(a);try{var c=$("#tbody-levels"),d=e.patterns.draw.fiboarc_trendline.replace(/%border_style_pattern%/g,e.patterns.draw.border_style);$(c).append(d);var k=b.MainLineStyle;z(k,"#trendline-width","#color-trendline","#line-select-trendline");A(k,"#trendline-width","#color-trendline","#line-select-trendline");var g=e.patterns.draw.fiboarc_levels.replace(/%border_style_pattern%/g,e.patterns.draw.border_style),
h=b.Levels;if(null!=h)for(a=0;a<h.length;a++){var p=g.replace(/%order%/g,a).replace(/%levelindex%/g,a).replace(/%border_style_pattern%/g,e.patterns.draw.border_style).replace(/%input-value%/g,h[a]);$(c).append(p);var l=b.LevelsStyle["level"+a],m=b.LevelFillsStyle["level"+a];C(l,"#slider-5-level-"+a);D(l,m,"#color-background-level-"+a);E(l,"#line-select-level-"+a);!1==b.LevelsView[a]&&($("#control-background-level-"+a).prop("checked",!1),$("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+
a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0))}F(b.MainLineStyle,"#slider-100",b.LevelFillsStyle);!0!=b.MainLineStyle.viewFill&&($("#control-background").prop("checked",!1),$("#slider-100").slider("disable"));!0!=b.LabelsStyle.view&&$("#control-labels").prop("checked",!1);I();$(".control-background-level").on("click",function(a){a=$(".control-background-level").index(this);$(this).is(":checked")?($("#slider-5-level-"+a).slider("enable"),
$("#color-background-level-"+a).spectrum("enable"),$("#input-level-"+a).prop("disabled",!1),$("#line-select-level-"+a).prop("disabled",!1),b.LevelsView[a]=!0):($("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0),b.LevelsView[a]=!1);b.Refresh()});G("#control-background","#slider-100");$(".class-input-level").on("change",function(){var a=$(".class-input-level").index(this);
""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),h[a]=$(this).val(),b.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=$(this).val()&&$.isNumeric($(this).val())&&(h[a]=$(this).val(),b.Refresh()))});x(b.Coordinations,b.TimeScale,b);B(b);y();$("#chart-dialog").dialog("open")}catch(H){u()}}function S(a){b=a;a=!1==e.guiinit.cache?"?"+e.version.gui.name+(new Date).getTime():"?"+e.version.gui.name;
w("gannfan",v);a=e.guiinit.rootpath+"/ChartUI/gui/draw/fibo.htm"+a;if(e.navigator.XMLHttpRequest()){var c=new XMLHttpRequest,d=$.Deferred();c.open("get",a);c.onload=function(){var a=c.responseText;da($(a).find("#dlg-fibo"));d.resolve(a)};c.send();return d}return $.ajax({type:"GET",async:!0,dataType:"html",url:a,success:function(a){da($(a).find("#dlg-fibo"))}})}function da(a){$("#chart-dialog").html(a);try{var c=$("#tbody-levels"),d=e.patterns.draw.fibo_trendline.replace(/%border_style_pattern%/g,
e.patterns.draw.border_style);$(c).append(d);var k=b.MainLineStyle;z(k,"#trendline-width","#color-trendline","#line-select-trendline");A(k,"#trendline-width","#color-trendline","#line-select-trendline");var g=e.patterns.draw.fibo_levels.replace(/%border_style_pattern%/g,e.patterns.draw.border_style),h=b.Levels;if(null!=h)for(a=0;a<h.length;a++){var p=g.replace(/%order%/g,a).replace(/%levelindex%/g,a).replace(/%border_style_pattern%/g,e.patterns.draw.border_style).replace(/%input-value%/g,h[a]);$(c).append(p);
var l=b.LevelsStyle["level"+a],m=b.LevelFillsStyle["level"+a];C(l,"#slider-5-level-"+a);D(l,m,"#color-background-level-"+a);E(l,"#line-select-level-"+a);!1==b.LevelsView[a]&&($("#control-background-level-"+a).prop("checked",!1),$("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0))}F(b.MainLineStyle,"#slider-100",b.LevelFillsStyle);!0!=b.MainLineStyle.viewFill&&($("#control-background").prop("checked",
!1),$("#slider-100").slider("disable"));!0!=b.LabelsStyle.view&&$("#control-labels").prop("checked",!1);I();$(".control-background-level").on("click",function(a){a=$(".control-background-level").index(this);$(this).is(":checked")?($("#slider-5-level-"+a).slider("enable"),$("#color-background-level-"+a).spectrum("enable"),$("#input-level-"+a).prop("disabled",!1),$("#line-select-level-"+a).prop("disabled",!1),b.LevelsView[a]=!0):($("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+
a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0),b.LevelsView[a]=!1);b.Refresh()});G("#control-background","#slider-100");$(".class-input-level").on("change",function(){var a=$(".class-input-level").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),h[a]=$(this).val(),b.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=
$(this).val()&&$.isNumeric($(this).val())&&(h[a]=$(this).val(),objshapeinfo.Refresh()))});x(b.Coordinations,b.TimeScale,b);B(b);y();$("#chart-dialog").dialog("open")}catch(H){u()}}function U(a){b=a;w("gannfan",v);ja(e.patterns.draw.forkform)}function ja(a){var c=b;$("#chart-dialog").html(a);try{var d=$("#tbody-levels"),k=e.patterns.draw.fork_trendline.replace(/%border_style_pattern%/g,e.patterns.draw.border_style);$(d).append(k);var g=c.MainLineStyle;z(g,"#median-width","#color-median","#line-select-median");
A(g,"#median-width","#color-median","#line-select-median");var h=e.patterns.draw.fork_levels,p=c.Levels;if(null!=p)for(a=0;a<p.length;a++){var l=h.replace(/%order%/g,a).replace(/%levelindex%/g,a).replace(/%border_style_pattern%/g,e.patterns.draw.border_style).replace(/%input-value%/g,p[a]);$(d).append(l);var m=c.LevelsStyle["level"+a],H=c.LevelFillsStyle["level"+a];C(m,"#slider-5-level-"+a);D(m,H,"#color-background-level-"+a);E(m,"#line-select-level-"+a);!1==c.LevelsView[a]&&($("#control-background-level-"+
a).prop("checked",!1),$("#slider-5-level-"+a).slider("disable"),$("#color-background-level-"+a).spectrum("disable"),$("#input-level-"+a).prop("disabled",!0),$("#line-select-level-"+a).prop("disabled",!0))}F(c.MainLineStyle,"#slider-100",c.LevelFillsStyle);!0!=c.MainLineStyle.viewFill&&($("#control-background").prop("checked",!1),$("#slider-100").slider("disable"));I();$(".control-background-level").on("click",function(a){a=$(this).is(":checked");var c=$(".control-background-level").index(this);a?
($("#slider-5-level-"+c).slider("enable"),$("#color-background-level-"+c).spectrum("enable"),$("#input-level-"+c).prop("disabled",!1),$("#line-select-level-"+c).prop("disabled",!1),b.LevelsView[c]=!0):($("#slider-5-level-"+c).slider("disable"),$("#color-background-level-"+c).spectrum("disable"),$("#input-level-"+c).prop("disabled",!0),$("#line-select-level-"+c).prop("disabled",!0),b.LevelsView[c]=!1);b.Refresh()});G("#control-background","#slider-100");$(".class-input-level").on("change",function(){var a=
$(".class-input-level").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),p[a]=$(this).val(),c.Refresh())});$(".class-input-level").on("keydown",function(a){13==a.keyCode&&(a=$(".class-input-level").index(this),""!=$(this).val()&&$.isNumeric($(this).val())&&(p[a]=$(this).val(),c.Refresh()))});x(c.Coordinations,c.TimeScale,c);y();$("#chart-dialog").dialog("open")}catch(v){u()}}function B(a){a=a.LabelsStyle;var c=e.commonutils.func.parseColorString(a.backgroundColor),
d="rgb(%r%, %g%, %b%)".replace("%r%",c[0]).replace("%g%",c[1]).replace("%b%",c[2]),c=c[3];J($("#background-labelcolor"),d);J($("#color-font"),a.fill);$("#label-bk-coloropacity").slider({min:0,max:100});$("#label-bk-coloropacity .gradient").css("background-image","linear-gradient(to left, #000 0%, transparent 100% )");c*=100;$("#label-bk-coloropacity").slider("option","value",c);!0!=a.viewBackground&&($("#label-background").prop("checked",!1),$("#label-bk-coloropacity").slider("disable"),$("#background-labelcolor").spectrum("disable"));
switch("bold"==a.fontWeight){case !0:$("#button_fontbold").removeClass("active").addClass("active");break;case !1:$("#button_fontbold").removeClass("active")}switch("italic"==a.fontStyle){case !0:$("#button_fontitalic").removeClass("active").addClass("active");break;case !1:$("#button_fontitalic").removeClass("active")}$("#dialog-fontsize-select").val(a.fontSize);$("#dialog-fontname-select").val(a.fontName);$("#button_fontbold").on("click",function(){$(this).toggleClass("active");$(this).hasClass("active")?
b.LabelsStyle.fontWeight="bold":b.LabelsStyle.fontWeight="normal";b.Refresh()});$("#button_fontitalic").on("click",function(){$(this).toggleClass("active");$(this).hasClass("active")?b.LabelsStyle.fontStyle="italic":b.LabelsStyle.fontStyle="normal";b.Refresh()});$("#dialog-fontsize-select").on("change",function(){b.LabelsStyle.fontSize=$(this).val();b.Refresh()});$("#dialog-fontname-select").on("change",function(){b.LabelsStyle.fontName=$(this).val();b.Refresh()});$("#label-background").on("click",
function(a){$(this).is(":checked")?($("#label-bk-coloropacity").slider("enable"),$("#background-labelcolor").spectrum("enable"),b.LabelsStyle.viewBackground=!0):($("#label-bk-coloropacity").slider("disable"),$("#background-labelcolor").spectrum("disable"),b.LabelsStyle.viewBackground=!1);b.Refresh()});$("#label-bk-coloropacity").on("slide slidechange",function(){var a=$(this).slider("option","value")/100,c=e.commonutils.func.parseColorString(b.LabelsStyle.backgroundColor),a="rgba(%r%, %g%, %b%, %o%)".replace("%r%",
c[0]).replace("%g%",c[1]).replace("%b%",c[2]).replace("%o%",a);b.LabelsStyle.backgroundColor=a;b.Refresh()});$("#control-labels").on("click",function(a){$(this).is(":checked")?b.LabelsStyle.view=!0:b.LabelsStyle.view=!1;b.Refresh()});$("#color-font").on("change",function(){var a=$(this).spectrum("get").toHexString(),a=e.commonutils.func.parseColorString(a),a="rgba(%r%, %g%, %b%, %o%)".replace("%r%",a[0]).replace("%g%",a[1]).replace("%b%",a[2]).replace("%o%","1");b.LabelsStyle.fill=a;b.Refresh()});
$("#background-labelcolor").on("change",function(){var a=$(this).spectrum("get").toHexString(),c=e.commonutils.func.parseColorString(b.LabelsStyle.backgroundColor)[3],a=e.commonutils.func.parseColorString(a),c="rgba(%r%, %g%, %b%, %o%)".replace("%r%",a[0]).replace("%g%",a[1]).replace("%b%",a[2]).replace("%o%",c);b.LabelsStyle.backgroundColor=c;b.Refresh()})}function x(a,b,d){var k=$("#tbody-coordinates"),g=e.patterns.draw.coordinates,h=/%id%/g,p=/%pricevalue%/g,l=/%datevalue%/g;K=[];if(null!=a)for(var m=
0;m<a.length;m++){var u=g.replace(h,m).replace(p,a[m].yData).replace(l,e.chart.formatDate(a[m].xData));K.push(a[m].xData);$(k).append(u);$("#date-spinner-"+m).spinner({spin:function(g,k){$(this).attr("id").toString().replace("-spinner","");var h=$(this).attr("idx"),p=$("#date-"+h),n=K[h];$(this).spinner("value");var f=0;if($(this).val()>k.value)f=-1;else if($(this).val()<k.value)f=1;else return;var n=n.replace(/-/g,"-").replace(/:/g,"-").replace(/ /g,"-").split("-"),l=parseInt(n[0]),m=parseInt(n[1])-
1,q=parseInt(n[2]),r=parseInt(n[3]),s=parseInt(n[4]),t=parseInt(n[5]),n=new Date(l,m,q,r,s,t);switch(b){case "tick":case "Tick":case "TICK":case "1T":case "1t":f*=1;case "1m":case "1M":n=new Date(l,m,q,r,s+1*f,t);break;case "5m":case "5M":f*=5;n=new Date(l,m,q,r,s+f,t);break;case "10M":case "10m":f*=10;n=new Date(l,m,q,r,s+f,t);break;case "15M":case "15m":f*=15;n=new Date(l,m,q,r,s+f,t);break;case "30M":case "30m":f*=30;n=new Date(l,m,q,r,s+f,t);break;case "60M":case "60m":f*=1;n=new Date(l,m,q,r+
f,s,t);break;case "2H":case "2h":f*=2;n=new Date(l,m,q,r+f,s,t);break;case "4H":case "4h":f*=4;n=new Date(l,m,q,r+f,s,t);break;case "6H":case "6h":f*=6;n=new Date(l,m,q,r+f,s,t);break;case "8H":case "8h":f*=8;n=new Date(l,m,q,r+f,s,t);break;case "10H":case "10h":f*=10;n=new Date(l,m,q,r+f,s,t);break;case "12H":case "12h":f*=12;n=new Date(l,m,q,r+f,s,t);break;case "14H":case "14h":f*=14;n=new Date(l,m,q,r+f,s,t);break;case "1D":case "1d":f*=1;n=new Date(l,m,q+f,r,s,t);break;case "1W":case "1w":f*=
7;n=new Date(l,m,q+f,r,s,t);break;case "1MON":case "1mon":case "1N":case "1n":f*=1;n=new Date(l,m+f,q,r,s,t);break;case "1Q":case "1q":case "3N":case "3n":f*=3;n=new Date(l,m+f,q,r,s,t);break;case "6MON":case "6mon":case "6N":case "6n":f*=6;n=new Date(l,m+f,q,r,s,t);break;case "1Y":case "1y":f*=1,n=new Date(l+f,m,q,r,s,t)}f=n.getFullYear().toString();l=("0"+(n.getMonth()+1).toString()).slice(-2);m=("0"+n.getDate().toString()).slice(-2);q=("0"+n.getHours().toString()).slice(-2);r=("0"+n.getMinutes().toString()).slice(-2);
n=("0"+n.getSeconds().toString()).slice(-2);n=f+"-"+l+"-"+m+" "+q+":"+r+":"+n;p.val(e.chart.formatDate(n));K[h]=n;a[h].xData=n;d.Refresh()}})}$(".inputprice").on("change",function(){var b=$(".inputprice").index(this);""!=$(this).val()&&$.isNumeric($(this).val())&&($(this).attr("prevvalue",$(this).val()),a[b].yData=$(this).val(),d.Refresh())});$(".inputprice").on("keydown",function(b){13==b.keyCode&&(b=$(".inputprice").index(this),""!=$(this).val()&&$.isNumeric($(this).val())&&(a[b].yData=$(this).val(),
d.Refresh()))});I()}function w(a,b){function d(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function k(a){var b=e.patterns.common.eye_orange.replace(/%icon-source%/g,L.icon_source).replace(/%icon-prefix%/g,L.icon_prefix);$(a).find(".ui-dialog-buttonset").prepend(b).on("click",function(){var a=$(".chart-ui-dialog.draw-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.draw-dialog").css("opacity",a);$(this).css("opacity",b)})}$('<div id="chart-dialog" title="'+
b+'"></div>').insertAfter("body");var g="Close",h="";"undefined"!=typeof e.localizationobj&&(g=e.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"));"undefined"!=typeof e.init.TemplateName&&(h=e.init.TemplateName);var p="";"rtl"==e.localizationobj.gui.returnCurrentLanguage().direction&&(p="dir-rtl");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog draw-dialog "+h+" "+p,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,
b){k($(this).parent());$(".ui-widget-overlay").last().addClass("chart-ui-widget-overlay");if(e.api.props){var c=e.api.props.chart.gui.layout.zindex_dialog;$(".chart-ui-widget-overlay").css({"z-index":c});$(".chart-ui-dialog").css({"z-index":c})}"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang($(this).parent());$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});u()},close:function(a,b){d($(this).parent());$("#chart-dialog").remove();
$("div.chart-ui-dialog.draw-dialog  adv-buttons."+L.icon_prefix+"eye-orange").off().remove();$("div.chart-ui-dialog.draw-dialog").off().remove();$(this).off().empty().remove();return!1},buttons:[{id:"btn-dialogs-close",text:g,click:function(){$(this).dialog("close")}}]})}function J(a,b,d){$(a).spectrum({color:b,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:["rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"),
"rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"),"rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"),"rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"),
"rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"),"rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"),"rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"),
"rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{")]})}function y(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).index();$(".main-properties").each(function(){$(this).css("display","none")});$(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(".main-properties").eq(a).css("display","block");$(this).addClass("active")})}function I(){$(".chart-ui-dialog .onlynumeric").prochart_numeric()}
function z(a,b,d,k,g,h){"undefined"==typeof g&&(g=1);"undefined"==typeof h&&(h=6);var p=e.commonutils.func.parseColorString(a.stroke),p="rgb(%r%, %g%, %b%)".replace("%r%",p[0]).replace("%g%",p[1]).replace("%b%",p[2]);J($(d),p);d=a.strokeWidth;$(b).slider({min:g,max:h});$(b).slider("option","value",d);a=a.dashArray;repx=/px/g;"undefined"!=typeof a&&$(k).val(a)}function aa(a,b,d,k){var g=e.commonutils.func.parseColorString(a.fill),g="rgb(%r%, %g%, %b%)".replace("%r%",g[0]).replace("%g%",g[1]).replace("%b%",
g[2]);J($(d),g,k+" div.gradient");$(k+" div.gradient").css("background-image","linear-gradient(to left, "+g+" 0%, transparent 100% )");$(k).slider({min:0,max:100});g=a.fillOpacity;g*=100;$(k).slider("option","value",g);!0!=a.viewFill?($(b).prop("checked",!1),$(d).spectrum("disable"),$(k).slider("disable")):($(b).prop("checked",!0),$(d).spectrum("enable"),$(k).slider("enable"))}function A(a,c,d,e){$(d).on("change",function(){$(this).spectrum("get").toHexString();var a=$(this).spectrum("get").toRgb(),
a="rgba(%r%, %g%, %b%, %a%)".replace("%r%",a.r).replace("%g%",a.g).replace("%b%",a.b).replace("%a%",1);b.MainLineStyle.stroke=a;b.MainLineStyle.strokeOpacity=0;b.Refresh()});$(c).on("slidechange",function(){var c=$(this).slider("option","value");a.strokeWidth=c;b.Refresh()});$(e).on("change",function(){var a=$(this).val();b.MainLineStyle.dashArray=a;b.Refresh()})}function ba(a,c,d,k){$(d).on("change",function(){var c=$(this).spectrum("get").toHexString(),d=$(this).spectrum("get").toRgb();$(k+" div.gradient").css("background-image",
"linear-gradient(to left, "+c+" 0%, transparent 100% )");c="rgba(%r%, %g%, %b%, %a%)".replace("%r%",d.r).replace("%g%",d.g).replace("%b%",d.b).replace("%a%",a.fillOpacity);a.fill=c;b.Refresh()});$(k).on("slide slidechange",function(){var c=$(this).slider("option","value")/100;b.MainLineStyle.fillOpacity=c;c=e.commonutils.func.parseColorString(b.MainLineStyle.fill);c="rgba(%r%, %g%, %b%, %a%)".replace("%r%",c[0]).replace("%g%",c[1]).replace("%b%",c[2]).replace("%a%",a.fillOpacity);b.MainLineStyle.fill=
c;b.Refresh()});$(c).on("click",function(a){$(this).is(":checked")?($(k).slider("enable"),$(d).spectrum("enable"),$(d).trigger("change"),b.MainLineStyle.viewFill=!0):($(k).slider("disable"),$(d).spectrum("disable"),b.MainLineStyle.viewFill=!1);b.Refresh()})}function ca(a,c,d){null!=a.Settings&&(!0!=a.Settings.ExtendLeft&&$(c).prop("checked",!1),!0!=a.Settings.ExtendRight&&$(d).prop("checked",!1));$(d).on("click",function(c){c=$(this).is(":checked");null==a.Settings&&(a.Settings={});b.Settings.ExtendRight=
c;b.Refresh()});$(c).on("click",function(a){a=$(this).is(":checked");b.Settings.ExtendLeft=a;b.Refresh()})}function C(a,c){var d=a.strokeWidth;$(c).slider({min:1,max:6});$(c).slider("option","value",d);$(c).on("slidechange",function(){var c=$(this).slider("option","value");a.strokeWidth=c;b.Refresh()})}function D(a,c,d){c=a.stroke;a=e.commonutils.func.parseColorString(a.stroke);"rgb(%r%, %g%, %b%)".replace("%r%",a[0]).replace("%g%",a[1]).replace("%b%",a[2]);J($(d),c);$(d).on("change",function(){var a=
$(d).attr("levelindex"),c=$(this).spectrum("get").toHexString(),h=1;null!=b.LevelFillsStyle&&(h=e.commonutils.func.parseColorString(b.LevelFillsStyle["level"+a].fill)[3]);var c=e.commonutils.func.parseColorString(c),p="rgba(%r%, %g%, %b% ,%o%)".replace("%r%",c[0]).replace("%g%",c[1]).replace("%b%",c[2]).replace("%o%",1);b.LevelsStyle["level"+a].stroke=p;h="rgba(%r%, %g%, %b%, %o%)".replace("%r%",c[0]).replace("%g%",c[1]).replace("%b%",c[2]).replace("%o%",h);null!=b.LevelFillsStyle&&(b.LevelFillsStyle["level"+
a].fill=h);b.Refresh()})}function E(a,c){var d=a.dashArray;"undefined"!=typeof d&&$(c).val(d);$(c).on("change",function(){var a=$(c).attr("levelindex");d=$(this).val();b.LevelsStyle["level"+a].dashArray=d;b.Refresh()})}function F(a,c,d){$(c).slider({min:0,max:100});$(c+" div.gradient").css("background-image","linear-gradient(to left, #000 0%, transparent 100% )");a=a.fillOpacity;"undefined"!=typeof a&&(a*=100,$(c).slider("option","value",a));$(c).on("slide slidechange",function(){var a=$(this).slider("option",
"value")/100;$(d).css("fill-opacity",a);for(var c=b.Levels.length,h=0;h<c;h++){var p=b.LevelFillsStyle["level"+h];"undefined"!=typeof p&&(p=e.commonutils.func.parseColorString(p.fill),p="rgba(%r%, %g%, %b%, %o%)".replace("%r%",p[0]).replace("%g%",p[1]).replace("%b%",p[2]).replace("%o%",a),b.LevelFillsStyle["level"+h].fill=p)}b.MainLineStyle.fillOpacity=a;b.Refresh()})}function G(a,c){$(a).on("click",function(a){a=0;$(this).is(":checked")?($(c).slider("enable"),a=$(c).slider("option","value")/100,
b.MainLineStyle.viewFill=!0):($(c).slider("disable"),a=0,b.MainLineStyle.viewFill=!1);for(var k=b.Levels.length,g=0;g<k;g++){var h=b.LevelFillsStyle["level"+g];"undefined"!=typeof h&&(h=e.commonutils.func.parseColorString(h.fill),h="rgba(%r%, %g%, %b%, %o%)".replace("%r%",h[0]).replace("%g%",h[1]).replace("%b%",h[2]).replace("%o%",a),b.LevelFillsStyle["level"+g].fill=h)}b.Refresh()})}function u(){"undefined"!=typeof e.preloadobj&&e.preloadobj.endPreload()}var M={},e=ea,b=null,v="",K=[];e.api.debug.getLogger("prochart.gui.draw");
var L=e.api.layout.getbuttonStyle();e.drawobj=M;M.gui={openDialog:N,drawShape:O,drawTimezone:P,drawCircleLine:Q,drawSquare:R,drawFibo:S,drawFiboArc:T,drawFork:U,drawLinereg:V,drawLine:W,drawParallel:X,drawText:Y,drawVHLine:Z};e.chart.UI.funcOnShapeDblClicked=N;return M};
function ProChart_Initindicators(A){function Y(){for(var a=jQuery.extend({},null,f.objParams),c=a.id,b=e.apiinit.savedIndicatorsSetting,d=0;d<b.length;d++)if(b[d].id==c){b.splice(d,1);break}d=e.chart.StudiesById[c];d.hasOwnProperty("panel")&&(a.panel=d.panel);a.hasOwnProperty("UID")&&delete a.UID;a.hasOwnProperty("group")&&delete a.group;b.push(a);if(typeof e.events.study.onChangeDefaultSettings==typeof Function)e.events.study.onChangeDefaultSettings(b,c)}function Z(){for(var a=f.objParams.UID,c=
f.objParams.id,b=e.chart.Studies,d=0;d<b.length;d++)if(b[d].id==c){for(var h=Object.keys(f.objParams),k=0;k<h.length;k++)"UID"!=h[k]&&"group"!=h[k]&&"panel"!=h[k]&&delete f.objParams[h[k]];f.objParams=jQuery.extend(!0,f.objParams,b[d]);if(typeof e.events.study.onReset==typeof Function)e.events.study.onReset(c);break}B({change:!0});C({change:!0});D();R();H({change:!0});S({change:!0});E();"undefined"!=typeof a&&e.chart.UpdateStudyAll(f.objParams)}function aa(){e.chart.IsVolumeEnabled()?$(".properties-tabs").find(".volume-category-tab").css("display",
""):$(".properties-tabs").find(".volume-category-tab").css("display","none")}function ka(a){$("#chart-dialog").html(a);a=e.chart.Studies;for(var c=0;c<a.length;c++){var b=e.patterns.indicators.indicatorsform_row.replace(/%icon-prefix%/g,n.icon_prefix).replace(/%icon-source%/g,n.icon_source).replace(/%id%/g,a[c].id).replace(/%caption%/g,a[c].caption),d=a[c].category;ba(a[c].id)&&(b=b.replace(n.icon_prefix+"stardisabled-icon",n.icon_prefix+"startenabled-icon"));$("#indicatorsgroup-"+d+" > ul.indicators-list").append(b)}$(".indicators-list .openindicator").on("click",
function(){var a=$(this).attr("idx").replace("indicator-",""),b=w(a);e.chart.AddStudyWithParams(a,b);if(typeof e.events.study.onDialogAddStudy==typeof Function)e.events.study.onDialogAddStudy(a,$("#chart-dialog"))});$(".indicators-list .li-indicator .a-property-favorite").on("click",function(){var a=$(this).parent().attr("id"),b=$(this).parent().find("span").html();T(a,b)});$(".indicators-list .li-indicator .star-button").on("click",function(){var a=$(this).parent().attr("id"),b=$(this).parent().find("span").html(),
d=$(this).parent().find("a").attr("title");$(this).hasClass(n.icon_prefix+"stardisabled-icon")?($(this).addClass(n.icon_prefix+"startenabled-icon").removeClass("stardisabled-icon"),ca(a.replace("indicator-",""),b,d)):($(this).removeClass(n.icon_prefix+"startenabled-icon").addClass(n.icon_prefix+"stardisabled-icon"),U(a.replace("indicator-","")))});$(".indicators-list .li-indicator .a-add-favorite").on("click",function(){var a=$(this).parent().attr("id").replace("indicator-",""),b=w(a);e.chart.AddStudyWithParams(a,
b);if(typeof e.events.study.onDialogAddStudy==typeof Function)e.events.study.onDialogAddStudy(a,$("#chart-dialog"))});F();I();da();$("#button-add-indicator").button();$("#button-add-indicator-to").button();$("#button-reset-settings-indicator").button();$("#button-save-settings-indicator").button();ea();aa();$("#chart-dialog").dialog("open");"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang($("#chart-dialog"))}function la(a){var c=1;"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,
d){return(b[a]<d[a]?-1:b[a]>d[a]?1:0)*c}}function ma(a){$("#chart-dialog").html(a);a=e.chart.Studies;e.chart.Studies.sort(la("caption"));for(var c=0;c<a.length;c++){var b=e.patterns.indicators.indicatorsform_row.replace(/%icon-prefix%/g,n.icon_prefix).replace(/%icon-source%/g,n.icon_source).replace(/%id%/g,a[c].id).replace(/%caption%/g,a[c].caption);ba(a[c].id)&&(b=b.replace(n.icon_prefix+"stardisabled-icon",n.icon_prefix+"startenabled-icon"));$("#indicatorsgroup-trend > ul.indicators-list").append(b)}$(".indicators-list .li-indicator").on("click",
function(){var a=$(this).attr("id").replace("indicator-",""),b=w(a);e.chart.AddStudyWithParams(a,b);if(typeof e.events.study.onDialogAddStudy==typeof Function)e.events.study.onDialogAddStudy(a,$("#chart-dialog"))});$(".indicators-list .li-indicator .a-property-favorite").on("click",function(){var a=$(this).parent().attr("id"),b=$(this).parent().find("span").html();T(a,b)});$(".indicators-list .li-indicator .star-button").on("click",function(){var a=$(this).parent().attr("id"),b=$(this).parent().find("span").html(),
c=$(this).parent().find("a").attr("title");$(this).hasClass(n.icon_prefix+"stardisabled-icon")?($(this).addClass(n.icon_prefix+"startenabled-icon").removeClass("stardisabled-icon"),ca(a.replace("indicator-",""),b,c)):($(this).removeClass(n.icon_prefix+"startenabled-icon").addClass(n.icon_prefix+"stardisabled-icon"),U(a.replace("indicator-","")))});$(".indicators-list .li-indicator .a-add-favorite").on("click",function(){var a=$(this).parent().attr("id").replace("indicator-",""),b=w(a);e.chart.AddStudyWithParams(a,
b);if(typeof e.events.study.onDialogAddStudy==typeof Function)e.events.study.onDialogAddStudy(a,$("#chart-dialog"))});F();I();da();$("#button-add-indicator").button();$("#button-add-indicator-to").button();ea();aa();$("#chart-dialog").dialog("open");"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang($("#chart-dialog"))}function T(a,c){(function(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")});$("#dialog-indicator-page #indicator-inner").empty()})($("#dialog-indicator-page #indicator-inner"));
na(e.patterns.indicators.indicatorform,c,a)}function na(a,c,b){a=a.replace(/%panels%/g,"<tr><td>set panel data here</td></td>").replace(/%style-link-panels%/g,"display:none;");$("#dialog-indicator-page #indicator-inner").html(a);$("#indicators-page > .dialog_level").css("display","none");$("#dialog-indicator-page").css("display","block");F();V(1,c);f.id="";f.objStudyInfo=null;f.objParams=null;f.editStatus=!1;a=b.replace("indicator-","");switch(a){case "rsi1":c=w(a);f.objParams=c;B();C();D();H();S(c.lines);
E();break;case "macd1":c=w(a);f.objParams=c;B();C();D();b=null;b=c.param1;J("#in-fastema",b.min,b.max,1,b.values[0]);K("#in-fastema","param1",0);b=c.param2;J("#in-slowema",b.min,b.max,1,b.values[0]);K("#in-slowema","param2",0);b=c.param3;J("#in-macdsma",b.min,b.max,1,b.values[0]);K("#in-macdsma","param3",0);L("#histogram-line","renderitem3");L("#macd-line","renderitem1");L("#signal-line","renderitem2");E();break;case "gator1":c=w(a);f.objParams=c;B();C();D();R();H();E();break;default:fa(w(a))}oa(a);
$("#li-browser-indicators").trigger("click");"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang($("#dialog-indicator-page #indicator-inner"))}function oa(a){f.id=a;$("#button-add-indicator").off();$("#button-add-indicator").button({disabled:!1});$("#button-add-indicator").on("click",function(){f.objStudyInfo=e.chart.AddStudyWithParams(f.id,f.objParams);null!=f.objStudyInfo&&(f.objParams=f.objStudyInfo,f.editStatus=!0,$(this).button({disabled:!0}))});$("#button-add-indicator-to").off();
$("#button-add-indicator-to").button({disabled:!1});$("#button-add-indicator-to").on("click",function(){y.debug("Add to button click");var c=void 0;"undefined"==typeof c&&(c="Panels");var b=e.patterns.indicators.panelsform,b=b.replace(/%style-link-panels%/g,""),d="";if("undefined"!=typeof e.panels){for(var h=e.panels.core.returnPanels(),k="",g=e.chart.GetLegendInfo(),d=d+e.patterns.indicators.panelstr.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,"new").replace(/%legends%/g,"").replace(/%button-title%/g,
"Add here").replace(/%button%/g,"add-button").replace(/%panel-action-style%/g,"").replace(/%tid%/g,a).replace(/%tguiid%/g,"").replace(/%position%/g,"panel-top").replace(/%tpanelid%/g,"").replace(/%css%/g,"paneltype-new"),f=0;f<h.length;f++){switch(h[f].type){case "price":k="Price panel";break;case "study":k="Study panel"}for(var p="",m=ga(h[f].id,g),q=0;q<m.length;q++)p+="<span>%legend-title%</span>; ".replace(/%legend-title%/g,m[q]);d+=e.patterns.indicators.panelstr.replace(/%panel-type-title%/g,
k).replace(/%panel-type%/g,h[f].type).replace(/%legends%/g,p).replace(/%button-title%/g,"Add here").replace(/%button%/g,"add-button").replace(/%tid%/g,a).replace(/%tguiid%/g,"").replace(/%panel-action-style%/g,"").replace(/%position%/g,"").replace(/%tpanelid%/g,h[f].id).replace(/%css%/g,"paneltype-"+h[f].type)}d+=e.patterns.indicators.panelstr.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,"new").replace(/%legends%/g,"").replace(/%button-title%/g,"Add here").replace(/%button%/g,
"add-button").replace(/%panel-action-style%/g,"").replace(/%tid%/g,a).replace(/%tguiid%/g,"").replace(/%tpanelid%/g,"").replace(/%position%/g,"panel-bottom").replace(/%css%/g,"paneltype-new");b=b.replace(/%panels%/g,d)}$("#dialog-panels-page #panels-inner").html(b);$("#indicators-page > .dialog_level").css("display","none");$("#dialog-panels-page").css("display","block");F();M();V(1,c,2);$("#li-browser-indicators").trigger("click");"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang($("#dialog-indicator-page #indicator-inner"))});
$("#button-reset-settings-indicator").off();$("#button-reset-settings-indicator").on("click",function(){y.debug("Reset settings");Z()});$("#button-save-settings-indicator").off();$("#button-save-settings-indicator").on("click",function(){y.debug("Save as default settings");Y()})}function ha(a,c,b){ia();z=c.caption;f.id=c.id;f.objStudyInfo=c;f.objParams=c;f.editStatus=!0;e.commonutils.func.detectmob()?pa("",z):qa("",z);a=e.patterns.indicators.indicatorform;a=a.replace(/%style-link-panels%/g,"");var d=
W(a,c,b);a=a.replace(/%panels%/g,d);$("#chart-dlgindicator #indicator-inner").html(a);F();M(b);fa(c);$("#button-reset-settings-indicator").button();$("#button-save-settings-indicator").button();"undefined"!=typeof e.localizationobj&&e.localizationobj.gui.updateFromDataLang($("#chart-dlgindicator #indicator-inner"));$("#chart-dlgindicator").dialog("open")}function ga(a,c){for(var b=[],d=0;d<c.length;d++){var e=c[d];if(a==e.id){for(d=0;d<e.fields.length;d++)"study"==e.fields[d].type&&b.push(e.fields[d].name);
break}}return b}function W(a,c,b){a="";if("undefined"!=typeof e.panels){var d=e.panels.core.returnPanels(),h="",f=e.chart.GetLegendInfo();a+=e.patterns.indicators.panelstr.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,"new").replace(/%tid%/g,c.id).replace(/%tguiid%/g,c.UID).replace(/%legends%/g,"").replace(/%button-title%/g,"Move here").replace(/%tpanelid%/g,"").replace(/%panel-action-style%/g,"").replace(/%button%/g,"move-button").replace(/%position%/g,"panel-top").replace(/%css%/g,
"paneltype-new");for(var g=0;g<d.length;g++){switch(d[g].type){case "price":h="Price panel";break;case "study":h="Study panel"}for(var l="",p="",m=ga(d[g].id,f),q=0;q<m.length;q++)l+="<span>%legend-title%</span>; ".replace(/%legend-title%/g,m[q]);a:{for(q=0;q<f.length;q++)if(m=f[q],d[g].id==m.id){for(q=0;q<m.fields.length;q++)if(m.fields[q].uid==b){m=!0;break a}m=!1;break a}m=!1}m&&(p="display:none;");a+=e.patterns.indicators.panelstr.replace(/%panel-type-title%/g,h).replace(/%panel-type%/g,d[g].type).replace(/%legends%/g,
l).replace(/%button-title%/g,"Move here").replace(/%button%/g,"move-button").replace(/%tid%/g,c.id).replace(/%tguiid%/g,c.UID).replace(/%position%/g,"").replace(/%tpanelid%/g,d[g].id).replace(/%panel-action-style%/g,p).replace(/%css%/g,"paneltype-"+d[g].type)}a+=e.patterns.indicators.panelstr.replace(/%panel-type-title%/g,"New panel").replace(/%panel-type%/g,"new").replace(/%legends%/g,"").replace(/%tid%/g,c.id).replace(/%tguiid%/g,c.UID).replace(/%button-title%/g,"Move here").replace(/%tpanelid%/g,
"").replace(/%panel-action-style%/g,"").replace(/%button%/g,"move-button").replace(/%position%/g,"panel-bottom").replace(/%css%/g,"paneltype-new")}return a}function w(a){var c=a;(a=a.endsWith("+"))&&(c=c.slice(0,c.length-1));var b;a:{b=c;for(var d=e.apiinit.savedIndicatorsSetting,h=0;h<d.length;h++)if(d[h].id==b){b=jQuery.extend(!0,{},d[h]);break a}b=null}if(b)return a&&(b.panel=""),b;b=e.chart.Studies;for(d=0;d<b.length;d++)if(b[d].id==c)return c=jQuery.extend(!0,{},b[d]),a&&(c.panel=""),c;return null}
function D(){if(null!=f.objParams)for(var a=f.objParams.renderitems,c=f.objParams.id,b=0;b<a;b++){var d=f.objParams["renderitem"+(b+1)],h={};"undefined"==typeof d.style?(d.style=[],d.style.push(h)):h=d.style[0];if("undefined"!=typeof e.chart.StyleObject[c+"_item"+(b+1)]){var k=e.chart.StyleObject[c+"_item"+(b+1)];switch(d.drawtype){case "columns":ja(k,h);for(var d={visible:!0},g=Object.keys(d),l=0;l<g.length;l++){var p=g[l];"undefined"==typeof h[p]&&(h[p]="undefined"!==typeof k[p]?k[p]:d[p])}break;
default:for(d={stroke:"rgb(0,0,0)",strokeWidth:"1",strokeOpacity:"1",fill:"rgb(0,0,0)",fillOpacity:"1",visible:!0},g=Object.keys(d),l=0;l<g.length;l++)p=g[l],"undefined"==typeof h[p]&&(h[p]="undefined"!==typeof k[p]?k[p]:d[p])}}}}function R(){if(null!=f.objParams&&"undefined"!=typeof f.objParams.levels&&null!=f.objParams.levels)for(var a=f.objParams.levels,c=a.length,b=f.objParams.id,d=0;d<c;d++){var h=a[d];try{if("undefined"==typeof e.chart.StyleObject.indicators[b].levels[d])continue}catch(k){continue}var g=
e.chart.StyleObject.indicators[b].levels[d];"undefined"!=typeof g.stroke&&(h.stroke=g.stroke);"undefined"!=typeof g.strokeOpacity&&(h.strokeOpacity=g.strokeOpacity);"undefined"!=typeof g.strokeWidth&&(h.strokeWidth=g.strokeWidth);"undefined"!=typeof g.strokeDasharray&&(h.strokeDasharray=g.strokeDasharray);"undefined"==typeof h.visible&&(h.visible=!0)}}function fa(a){f.objParams=a;B();C();D();R();H();S();a=$("#indicator-inner .properties-tabs a");for(var c=$("#indicator-inner .main-properties"),b=
0;b<a.length;b++)if("none"!=$(a[b]).css("display")){$(a[b]).addClass("active");$(c[b]).css("display","block");break}E()}function B(a){var c=$("#tbody-parameters");$(c).html("");var b=[];b.push('<td data-localize="dialogs.indicator.parameters.%capid%">%caption%</td><td><input id="%inputid%" class="param-spinner onlynumeric"/></td>');b.push('<td data-localize="dialogs.indicator.parameters.%capid%">%caption2%</td><td><input id="%inputid2%" class="param-spinner onlynumeric"/></td>');var d=/%caption%/g,
e=/%inputid%/g,k=/%caption2%/g,g=/%inputid2%/g,l=/%capid%/g,p=f.objParams.parameters;a=[];for(var m=0;m<p;m++){for(var q=f.objParams["param"+(m+1)],n="param"+(m+1),r=$("<tr></tr>"),s=q.values.length,v=0;v<s;v++){var t="param"+(m+1)+"_"+v,x="";switch(v){case 0:x=q.caption.toLowerCase().replace(/\s+/g,"");x=b[v].replace(d,q.caption).replace(e,t).replace(l,x);$(r).append(x);break;case 1:x=q.caption2.toLowerCase().replace(/\s+/g,""),x=b[v].replace(k,q.caption2).replace(g,t).replace(l,x),$(r).append(x)}}a.push(!1!=
q.editable);if(!1!=q.editable)for($(c).append(r),r=0;r<s;r++){var v="param"+(m+1)+"_"+r,t=1,x=0,X=99999,u=0;try{u=q.values[r]}catch(w){u=0}try{t=q.steps[r]}catch(y){t=1}try{x=q.min[r]}catch(z){x=0}try{X=q.max[r]}catch(A){X=99999}J("#"+v,x,X,t,u);K("#"+v,n,r)}}c=!1;for(m=0;m<a.length;m++)c=c||a[m];!1==c&&$("#tab-param").css("display","none")}function C(){var a=f.objParams.sourceEditable;if("undefined"!=typeof a&&!1!=a){a=$("#tbody-sources");a.html("");$(a).append(e.patterns.indicators.indicator_source);
for(var a=f.objParams.parameters,c=0;c<a;c++)for(var b=f.objParams["param"+(c+1)],d=b.source.length,h=0;h<d;h++)if("value"!=b.source[h]){$("#select-source").val(b.source[h]);break}$("#select-source").on("change",function(){for(var a=$(this).val(),b=f.objParams.parameters,c=0;c<b;c++)for(var d=f.objParams["param"+(c+1)],e=d.source.length,h=0;h<e;h++)"value"!=d.source[h]&&(d.source[h]=a);t(r.Value)})}}function H(){var a=$("#tbody-styles");$(a).html("");for(var c=f.objParams.renderitems,b=0;b<c;b++){var d=
f.objParams["renderitem"+(b+1)],h="renderitem"+(b+1),k="";switch(d.drawtype){case "columns":k=e.patterns.indicators.indicator_style.replace(/%indicator_style_adv%/g,e.patterns.indicators.indicator_style_columns);break;default:k=e.patterns.indicators.indicator_style.replace(/%indicator_style_adv%/g,e.patterns.indicators.indicator_style_default)}d=k.replace(/%caption%/g,d.caption).replace(/%renderitem%/g,h);$(a).append(d);L("#"+h,h)}}function ba(a){if("undefined"!=typeof e.init.indicators)for(var c=
e.init.indicators,b=0;b<c.length;b++)if(c[b].id==a)return!0;return!1}function ca(a,c,b){"undefined"!=typeof e.init.indicators&&(e.init.gui.indicatorsAdd(a,c,b),I())}function U(a){"undefined"!=typeof e.init.indicators&&(e.init.gui.indicatorsRemove(a),I())}function sa(){$("ul.favorite-indicators-list .openindicator").on("click",function(){var a=$(this).parent().attr("idx").replace("indicator-",""),c=w(a);e.chart.AddStudyWithParams(a,c);if(typeof e.events.study.onDialogAddStudy==typeof Function)e.events.study.onDialogAddStudy(a,
$("#chart-dialog"))});$("ul.favorite-indicators-list .li-indicator .a-property-favorite").on("click",function(){var a=$(this).parent().attr("idx"),c=$(this).parent().find("span").html();T(a,c)});$("ul.favorite-indicators-list .li-indicator .star-button").on("click",function(){var a=$(this).parent().attr("idx");U(a.replace("indicator-",""));a=$('ul.indicators-list .li-indicator[id="'+a+'"] .star-button');$(a).removeClass(n.icon_prefix+"startenabled-icon").addClass(n.icon_prefix+"stardisabled-icon")});
$("ul.favorite-indicators-list .li-indicator .add-favorite").on("click",function(){var a=$(this).parent().attr("idx").replace("indicator-",""),c=w(a);e.chart.AddStudyWithParams(a,c);if(typeof e.events.study.onDialogAddStudy==typeof Function)e.events.study.onDialogAddStudy(a,$("#chart-dialog"))})}function I(){var a=$("ul.favorite-indicators-list");$(a).html("");if("undefined"!=typeof e.init.indicators)for(var c=e.init.indicators,b=0;b<c.length;b++){var d=e.patterns.indicators.indicatorsform_favorites_row.replace(/%icon-source%/g,
n.icon_source).replace(/%icon-prefix%/g,n.icon_prefix).replace(/%id%/g,c[b].id).replace(/%caption%/g,c[b].n).replace(/%title%/g,c[b].d);$(a).append(d)}sa();"undefined"!=typeof e.menuobj&&e.menuobj.gui.updateIndicatorFavorites()}function S(){var a=f.objParams.levels;if("undefined"==typeof a||null==a)$("#tab-level").css("display","none");else{var c=a.length,b=$("#tbody-indicatorlevels");$(b).html("");for(var d=0;d<c;d++){var h="level"+d,k=e.patterns.indicators.indicator_level.replace(/%id%/g,d).replace(/%levelvalue%/g,
a[d].value).replace(/%levelitem%/g,h).replace(/%capid%/g,"level"+(d+1)).replace(/%caption%/g,"Level "+(d+1));$(b).append(k);ta("#"+h,d)}}}function t(a){if(null!=f.objStudyInfo&&null!=f.objParams&&""!=f.id&&!0==f.editStatus)switch(a){case r.All:e.chart.UpdateStudyAll(f.objParams);break;case r.Draw:e.chart.UpdateStudyDrawType(f.objParams);break;case r.Value:e.chart.UpdateStudyValues(f.objParams);break;case r.Style:e.chart.UpdateStudyStyle(f.objParams);break;default:e.chart.UpdateStudyAll(f.objParams)}}
function L(a,c){var b="undefined"!=typeof f.objParams.base,d=f.objParams[c],h=d.style[0],k=$(a).find(".line-color"),g=h.stroke;N($(k),g);var l=$(a).find(".line-color-alt"),p=h.stroke;"undefined"!=typeof d.style[1]&&(p=d.style[1].stroke);N($(l),p);var m=$(a).find(".line-width"),p=h.strokeWidth;$(m).slider({min:1,max:6});$(m).slider("option","value",p);var q=$(a).find(".line-opacity");$(q).slider({min:0,max:100});p=100*h.fillOpacity;$(q).slider("option","value",p);$(q).find("div.gradient").css("background-image",
"linear-gradient(to left, "+g+" 0%, transparent 100% )");d=d.drawtype;g="Line Histogram Ch-Histogram C-Histogram Area Dots".split(" ");p="line histogram changehistogram centeredhistogram area dots".split(" ");switch(d){case "channel":g=["Channel"];p=["channel"];break;case "columns":g=["Columns"];p=["columns"];break;default:g="Line Histogram Ch-Histogram C-Histogram Area Dots".split(" "),p="line histogram changehistogram centeredhistogram area dots".split(" ")}for(var n=$(a).find(".linedesign-type"),
w=/%val%/g,y=/%Val%/g,v=0;v<g.length;v++)if(!1!=b||"changehistogram"!=p[v]&&"centeredhistogram"!=p[v]){var ra='<option data-localize="dialogs.indicator.linetype.%val%" value="%val%">%Val%</option>'.replace(w,p[v]).replace(y,g[v]);$(n).append(ra)}"undefined"!=typeof d&&($(n).val(d),$(q).css("display","area"==d||"channel"==d?"block":"none"),$(m).css("display","area"!=d&&"channel"!=d?"block":"none"),$(a).find(".color-alt").css("display","changehistogram"==d||"centeredhistogram"==d?"block":"none"));if("columns"==
d){b=h.opacity;s=[];u=[];d=h.visible;b*=100;g=$("#color-opacity-columns");g.slider({min:0,max:100});g.slider("option","value",b);g.find("div.gradient").css("background-image","linear-gradient(to left, #000000 0%, transparent 100% )");g.slider(d?"enable":"disable");g="true"==h.borderVisible||!0==h.borderVisible;s.push({ctr:"color-columns-up-column",json:"up.fill",opacity:b,status:d?"enable":"disable",borderprop:0},{ctr:"color-columns-down-column",json:"down.fill",opacity:b,status:d?"enable":"disable",
borderprop:0},{ctr:"color-columns-up-border",json:"up.stroke",opacity:b,status:d&&g?"enable":"disable",borderprop:1},{ctr:"color-columns-down-border",json:"down.stroke",opacity:b,status:d&&g?"enable":"disable",borderprop:1},{ctr:"color-columns-flat-column",json:"flat.fill",opacity:b,status:d?"enable":"disable",borderprop:0},{ctr:"color-columns-flat-border",json:"flat.stroke",opacity:b,status:d&&g?"enable":"disable",borderprop:1});u.push({ctr:"control-columns-border",json:"borderVisible",status:d?
!0:!1});for(b=0;b<s.length;b++)d=e.commonutils.func.parseColorString(O(h,s[b].json)),d="rgb(%r%, %g%, %b%)".replace("%r%",d[0]).replace("%g%",d[1]).replace("%b%",d[2]),N($("#"+s[b].ctr),d),$("#"+s[b].ctr).spectrum(s[b].status);for(b=0;b<u.length;b++){d=O(h,u[b].json);if(null==d)break;$("#"+u[b].ctr).attr("disabled",!u[b].status);"true"==d.toLowerCase()?$("#"+u[b].ctr).attr("checked","true"==d.toLowerCase()):$("#"+u[b].ctr).removeAttr("checked")}ua()}b=$(a).find(".line-visible");$(b).prop("checked",
h.visible);$(q).slider(h.visible?"enable":"disable");$(k).spectrum(h.visible?"enable":"disable");$(m).slider(h.visible?"enable":"disable");$(n).prop("disabled",h.visible?!1:!0);$(l).spectrum(h.visible?"enable":"disable");$(k).attr("ritem",c);$(n).attr("ritem",c);$(m).attr("ritem",c);$(q).attr("ritem",c);$(b).attr("ritem",c);$(l).attr("ritem",c);$(n).on("change",function(){var b=$(this).val();$(a).find(".linedesign-type").val(b);$(a).find(".line-opacity").css("display","area"==b?"block":"none");$(a).find(".line-width").css("display",
"area"!=b?"block":"none");$(a).find(".color-alt").css("display","changehistogram"==b||"centeredhistogram"==b?"block":"none");var c=$(this).attr("ritem");f.objParams[c].drawtype=b;t(r.Draw)});$(b).on("change",function(a){a=$(this).is(":checked");$(q).slider(a?"enable":"disable");$(k).spectrum(a?"enable":"disable");$(m).slider(a?"enable":"disable");$(n).prop("disabled",a?!1:!0);$(l).spectrum(a?"enable":"disable");for(var b=$(this).attr("ritem"),c=0;c<f.objParams[b].style.length;c++)f.objParams[b].style[c].visible=
a;try{var d="true"==f.objParams[b].style[0].borderVisible||!0==f.objParams[b].style[0].borderVisible;if("columns"==f.objParams[b].drawtype){for(b=0;b<u.length;b++)$("#"+u[b].ctr).attr("disabled",!a);for(b=0;b<s.length;b++)s[b].status=0==s[b].borderprop?a?"enable":"disable":a&&d?"enable":"disable",$("#"+s[b].ctr).spectrum(s[b].status);$("#color-opacity-columns").slider(a?"enable":"disable")}}catch(e){}t(r.Style)});$(k).on("change",function(){var a=$(this).spectrum("get").toHexString();$(q).find("div.gradient").css("background-image",
"linear-gradient(to left, "+a+" 0%, transparent 100% )");var b=$(this).attr("ritem");f.objParams[b].style[0].stroke=a;f.objParams[b].style[0].fill=a;t(r.Style)});$(l).on("change",function(){var a=$(this).spectrum("get").toHexString(),b=$(this).attr("ritem");f.objParams[b].style[1].stroke=a;t(r.Style)});$(m).on("slidechange",function(){for(var a=$(this).slider("option","value"),b=$(this).attr("ritem"),c=0;c<f.objParams[b].style.length;c++)f.objParams[b].style[c].strokeWidth=a;t(r.Style)});$(q).on("slidechange",
function(){var a=$(this).slider("option","value")/100,b=$(this).attr("ritem");f.objParams[b].style[0].fillOpacity=a;t(r.Style)})}function ua(){va("#control-columns-border","#color-columns-up-border","#color-columns-down-border","#color-columns-flat-border",null,null);$(".class-columns-study-color").on("change",function(){var a=$(this).spectrum("get").toRgbString();$(this).spectrum("get").toHexString();for(var c=$(this).attr("id"),b=$(this).attr("ritem"),d=0;d<s.length;d++)if(s[d].ctr==c){var h=s[d].opacity,
k=e.commonutils.func.parseColorString(a),h="rgba(%r%, %g%, %b%, %a%)".replace("%r%",k[0]).replace("%g%",k[1]).replace("%b%",k[2]).replace("%a%",h);G(f.objParams[b].style[0],s[d].json,h);t(r.Style);y.debug("style",f.objParams[b].style)}});$("#color-opacity-columns").on("slidechange",function(){var a=$(this).slider("option","value"),c=$(this).attr("ritem");G(f.objParams[c].style[0],"opacity",a/100);for(var b=0;b<s.length;b++){s[b].opacity=a/100;var d=e.commonutils.func.parseColorString(O(f.objParams[c].style[0],
s[b].json)),d="rgba(%r%, %g%, %b%, %a% )".replace("%r%",d[0]).replace("%g%",d[1]).replace("%b%",d[2]).replace("%a%",a/100);G(f.objParams[c].style[0],s[b].json,d)}t(r.Style)})}function va(a,c,b,d,e,k){$(a).on("click",function(a){var l=$(this);a=$(this).attr("id");l.is(":checked")?(null!=k&&$(k).slider("enable"),null!=e&&$(e).slider("enable"),null!=c&&$(c).spectrum("enable"),null!=b&&$(b).spectrum("enable"),null!=d&&$(d).spectrum("enable")):(null!=k&&$(k).slider("disable"),null!=e&&$(e).slider("disable"),
null!=c&&$(c).spectrum("disable"),null!=b&&$(b).spectrum("disable"),null!=d&&$(d).spectrum("disable"));for(var l=l.is(":checked"),p=$(this).attr("ritem"),m=0;m<u.length;m++)u[m].ctr==a&&(G(f.objParams[p].style[0],u[m].json,l?"true":"false"),t(r.Style))})}function ta(a,c){var b=f.objParams.levels[c],d=$(a).find(".line-color"),e=b.stroke;N($(d),e);var k=$(a).find(".line-width"),g=b.strokeWidth;$(k).slider({min:1,max:6});$(k).slider("option","value",g);var l=$(a).find(".line-opacity");$(l).slider({min:0,
max:100});g=100*b.fillOpacity;$(l).slider("option","value",g);$(l).find("div.gradient").css("background-image","linear-gradient(to left, "+e+" 0%, transparent 100% )");for(var e=b.strokeDasharray,g=["Solid","Doted","Dashed"],p=["solid","doted","dashed"],m=$(a).find(".linedesign-type"),q=/%val%/g,n=/%Val%/g,s=0;s<g.length;s++){var u='<option <option data-localize="dialogs.common.linetype.%val%" value="%val%">%Val%</option>'.replace(q,p[s]).replace(n,g[s]);$(m).append(u)}"undefined"!=typeof e&&$(m).val(e);
e=$(a).find(".levelinput");g=$(a).find(".line-visible");$(g).prop("checked",b.visible);$(l).slider(b.visible?"enable":"disable");$(d).spectrum(b.visible?"enable":"disable");$(k).slider(b.visible?"enable":"disable");$(m).prop("disabled",b.visible?!1:!0);$(e).prop("disabled",b.visible?!1:!0);$(d).attr("rlevel",c);$(m).attr("rlevel",c);$(k).attr("rlevel",c);$(l).attr("rlevel",c);$(g).attr("rlevel",c);$(e).attr("rlevel",c);$(m).on("change",function(){var b=$(this).val();$(a).find(".linedesign-type").val(b);
$(a).find(".line-opacity").css("display","area"==b?"block":"none");$(a).find(".line-width").css("display","area"!=b?"block":"none");var c=$(this).attr("rlevel");f.objParams.levels[c].strokeDasharray=b;t(r.Draw)});$(g).on("change",function(a){a=$(this).is(":checked");$(l).slider(a?"enable":"disable");$(d).spectrum(a?"enable":"disable");$(k).slider(a?"enable":"disable");$(m).prop("disabled",a?!1:!0);var b=$(this).attr("rlevel");f.objParams.levels[b].visible=a;t(r.Style)});$(d).on("change",function(){var a=
$(this).spectrum("get").toHexString();$(l).find("div.gradient").css("background-image","linear-gradient(to left, "+a+" 0%, transparent 100% )");var b=$(this).attr("rlevel");f.objParams.levels[b].stroke=a;t(r.Style)});$(k).on("slidechange",function(){var a=$(this).slider("option","value"),b=$(this).attr("rlevel");f.objParams.levels[b].strokeWidth=a;t(r.Style)});$(l).on("slidechange",function(){var a=$(this).slider("option","value")/100,b=$(this).attr("rlevel");f.objParams.levels[b].fillOpacity=a;t(r.Style)});
$(e).on("change",function(){if(""!=$(this).val()&&$.isNumeric($(this).val())){$(this).attr("prevvalue",$(this).val());var a=$(this).attr("rlevel");f.objParams.levels[a].value=$(this).val();t(r.Style)}else $(this).val($(this).attr("prevvalue"))});$(e).on("keydown",function(a){13==a.keyCode&&(""!=$(this).val()&&$.isNumeric($(this).val())?(a=$(this).attr("rlevel"),f.objParams.levels[a].value=$(this).val(),t(r.Style)):$(this).val($(this).attr("prevvalue")))})}function J(a,c,b,d,e){$(a).spinner({min:c,
max:b,step:d});$(a).spinner("value",e)}function K(a,c,b){$(a).spinner({stop:function(a,e){var k=$(this).spinner("value");f.objParams[c].values[b]=k;t(r.Value)}})}function wa(a,c){function b(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function d(a){var b=e.patterns.common.eye_orange.replace(/%icon-source%/g,n.icon_source).replace(/%icon-prefix%/g,n.icon_prefix);$(a).find(".ui-dialog-buttonset").prepend(b).on("click",function(){var a=$(".chart-ui-dialog.indicators-dialog").css("opacity"),
a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.indicators-dialog").css("opacity",a);$(this).css("opacity",b)})}var h="Close",f=c,g="";"undefined"!=typeof e.localizationobj&&(h=e.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),f=e.localizationobj.gui.returnLocalizationString("dialogs.indicators.title",c));"undefined"!=typeof e.init.TemplateName&&(g=e.init.TemplateName);var l="";"rtl"==e.localizationobj.gui.returnCurrentLanguage().direction&&(l="dir-rtl");$('<div id="chart-dialog" title="'+
f+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog indicators-dialog "+g+" "+l,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,b){d($(this).parent());$(".ui-widget-overlay").last().addClass("chart-ui-widget-overlay");if(e.api.props){var c=e.api.props.chart.gui.layout.zindex_dialog;$(".chart-ui-widget-overlay").css({"z-index":c});$(".chart-ui-dialog").css({"z-index":c})}$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});
P()},close:function(a,c){$(".ui-widget-overlay").removeClass("chart-ui-widget-overlay");b($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.indicators-dialog  adv-buttons."+n.icon_prefix+"eye-orange").off().remove();$("div.chart-ui-dialog.indicators-dialog").off().remove();$(this).off().empty().remove()},buttons:[{id:"btn-dialogs-close",text:h,click:function(){$(this).dialog("close")}}]})}function xa(a,c){function b(){Q.trigger()}function d(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}
function h(a,b){var c=this;c.wait=!1;c.delta=200;c.end=a;c.trigger=function(a){c.wait||(c.wait=!0,setTimeout(function(){c.end&&c.end.call(a);c.wait=!1},c.delta))}}var f="Close",g=c,l="";"undefined"!=typeof e.localizationobj&&(f=e.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),g=e.localizationobj.gui.returnLocalizationString("dialogs.indicators.title",c));"undefined"!=typeof e.init.TemplateName&&(l=e.init.TemplateName);var p="";"rtl"==e.localizationobj.gui.returnCurrentLanguage().direction&&
(p="dir-rtl");$('<div id="chart-dialog" title="'+g+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog chart-ui-mob-dialog indicators-dialog "+l+" "+p,draggable:!1,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:window.innerWidth?window.innerWidth:$(window).width(),height:window.innerHeight?window.innerHeight:$(window).height(),modal:!0,open:function(a,c){$(".ui-widget-overlay").last().addClass("chart-ui-widget-overlay");if(e.api.props){var d=e.api.props.chart.gui.layout.zindex_dialog;
$(".chart-ui-widget-overlay").css({"z-index":d});$(".chart-ui-dialog").css({"z-index":d})}$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});Q=new h(function(){$("#chart-dialog").dialog({width:window.innerWidth?window.innerWidth:$(window).width(),height:window.innerHeight?window.innerHeight:$(window).height()})},600);$(window).off("resize",b);$(window).on("resize",b);P()},close:function(a,c){$(".ui-widget-overlay").removeClass("chart-ui-widget-overlay");d($(this).parent());
$("#chart-dialog").remove();$("div.chart-ui-dialog.indicators-dialog  adv-buttons."+n.icon_prefix+"eye-orange").off().remove();$("div.chart-ui-dialog.indicators-dialog").off().remove();$(this).off().empty().remove();$(window).off("resize",b)},buttons:[{id:"btn-dialogs-close",text:f,click:function(){$(this).dialog("close")}}]})}function qa(a,c,b){function d(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function h(a){var b=e.patterns.indicators.indicator_button_settings;
a=$(a).find(".ui-dialog-buttonset").prepend(b);$(a).find("#button-reset-settings-indicator").button().on("click",function(){y.debug("button-reset-settings-indicator");Z()});$(a).find("#button-save-settings-indicator").button().on("click",function(){y.debug("button-save-settings-indicator");Y()})}function f(a){var b=e.patterns.common.eye_orange.replace(/%icon-source%/g,n.icon_source).replace(/%icon-prefix%/g,n.icon_prefix);a=$(a).find(".ui-dialog-buttonset").prepend(b);$(a).find(".eye-orange").on("click",
function(){var a=$(".chart-ui-dialog.indicator-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":1;$(".chart-ui-dialog.indicator-dialog").css("opacity",a);$(this).css("opacity",b)})}a="Close";b="";"undefined"!=typeof e.localizationobj&&(a=e.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),e.localizationobj.gui.returnLocalizationString("dialogs.common.button-cancel","Cancel"));"undefined"!=typeof e.init.TemplateName&&(b=e.init.TemplateName);var g="";"rtl"==e.localizationobj.gui.returnCurrentLanguage().direction&&
(g="dir-rtl");$('<div id="chart-dlgindicator" title="'+c+'"><div id="indicator-inner" class="dialog_level"></div></div>').insertAfter("body");$("#chart-dlgindicator").dialog({dialogClass:"chart-ui-dialog indicator-dialog "+b+" "+g,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(a,b){f($(this).parent());h($(this).parent());$(".ui-widget-overlay").last().addClass("chart-ui-widget-overlay");if(e.api.props){var c=e.api.props.chart.gui.layout.zindex_dialog;$(".chart-ui-widget-overlay").css({"z-index":c});
$(".chart-ui-dialog").css({"z-index":c})}$(".ui-widget-overlay").bind("click",function(){$("#chart-dlgindicator").dialog("close")});P()},close:function(a,b){d($(this).parent());$("div.chart-ui-dialog.indicator-dialog  adv-buttons."+n.icon_prefix+"eye-orange").off().remove();$("#chart-dlgindicator").remove();$(this).off().empty().remove()},buttons:[{id:"btn-order-ok",text:a,click:function(){$(this).dialog("close")}}]})}function pa(a,c,b){function d(a,b){var c=this;c.wait=!1;c.delta=200;c.end=a;c.trigger=
function(a){c.wait||(c.wait=!0,setTimeout(function(){c.end&&c.end.call(a);c.wait=!1},c.delta))}}function h(){Q.trigger()}function f(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function g(a){var b=e.patterns.common.eye_orange.replace(/%icon-source%/g,n.icon_source).replace(/%icon-prefix%/g,n.icon_prefix);$(a).find(".ui-dialog-buttonset").prepend(b).on("click",function(){var a=$(".chart-ui-dialog.indicator-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":1;$(".chart-ui-dialog.indicator-dialog").css("opacity",
a);$(this).css("opacity",b)})}a="Close";b="";"undefined"!=typeof e.localizationobj&&(a=e.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),e.localizationobj.gui.returnLocalizationString("dialogs.common.button-cancel","Cancel"));"undefined"!=typeof e.init.TemplateName&&(b=e.init.TemplateName);var l="";"rtl"==e.localizationobj.gui.returnCurrentLanguage().direction&&(l="dir-rtl");$('<div id="chart-dlgindicator" title="'+c+'"><div id="indicator-inner" class="dialog_level"></div></div>').insertAfter("body");
$("#chart-dlgindicator").dialog({dialogClass:"chart-ui-dialog indicator-dialog chart-ui-mob-dialog  "+b+" "+l,draggable:!1,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:window.innerWidth?window.innerWidth:$(window).width(),height:window.innerHeight?window.innerHeight:$(window).height(),modal:!0,open:function(a,b){g($(this).parent());$(".ui-widget-overlay").last().addClass("chart-ui-widget-overlay");if(e.api.props){var c=e.api.props.chart.gui.layout.zindex_dialog;$(".chart-ui-widget-overlay").css({"z-index":c});
$(".chart-ui-dialog").css({"z-index":c})}$(".ui-widget-overlay").bind("click",function(){$("#chart-dlgindicator").dialog("close")});P();Q=new d(function(){$("#chart-dlgindicator").dialog({width:window.innerWidth?window.innerWidth:$(window).width(),height:window.innerHeight?window.innerHeight:$(window).height()})},600);$(window).off("resize",h);$(window).on("resize",h)},close:function(a,b){f($(this).parent());$("div.chart-ui-dialog.indicator-dialog  adv-buttons."+n.icon_prefix+"eye-orange").off().remove();
$("#chart-dlgindicator").remove();$(this).off().empty().remove();$(window).off("resize",h)},buttons:[{id:"btn-order-ok",text:a,click:function(){$(this).dialog("close")}}]})}function N(a,c,b){$(a).spectrum({color:c,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:["rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"),"rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"),
"rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"),"rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"),"rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"),
"rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"),"rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"),"rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{")]})}
function F(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).parents(".dialog_level"),c=$(a).find(".properties-tabs a").index(this);$(a).find(".main-properties").each(function(){$(this).css("display","none")});$(a).find(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(a).find(".main-properties").eq(c).css("display","block");$(this).addClass("active")})}function M(a){$(".action-move-button-indicator").off();$(".action-move-button-indicator").on("click",
function(){var c=$(this),b=c.attr("tid"),d=c.attr("tpanelid"),h="";""==d&&(d=null,c.hasClass("panel-top")?h="top":c.hasClass("panel-bottom")&&(h="bottom"));c=c.attr("tguiid");y.debug("Move indicator",b,d,c);a:{for(var b=e.chart.GetLegendInfo(),k=0;k<b.length;k++)for(var g=b[k],l=0;l<g.fields.length;l++)if(g.fields[l].uid==a){b=g.id;break a}b=null}null==b&&(b=e.chart.GetPanelIDByDefID(a));e.chart.MoveStudyToOtherPanel(c,b,d,h);d=W(null,f.objStudyInfo,a);$("#tbody-indicatorpanels").html(d);M(a)});$(".action-add-button-indicator").off();
$(".action-add-button-indicator").on("click",function(){var a=$(this),b=a.attr("tid"),d=a.attr("tpanelid"),h=a.attr("tguiid");y.debug("Add indicator",b,d,h);$("#button-add-indicator").button({disabled:!0});$("#button-add-indicator-to").button({disabled:!0});$("#dialog-panels-page").css("display","none");$("#dialog-indicator-page").css("display","block");$("#tab-panels").css("display","");h=1;"undefined"==typeof h&&(h=1);for(var k=$("#dlg-indicators .main-page").eq(1).find(".title_level"),g=0;g<k.length;g++)$(k[g]).removeClass("active"),
g>h&&$(k[g]).css("display","none");$(k[h]).css("display","block").addClass("active");h="";""==d&&(d=null,a.hasClass("panel-top")?h="top":a.hasClass("panel-bottom")&&(h="bottom"));f.id=b;f.objStudyInfo=e.chart.AddStudyWithParams(f.id,f.objParams,d,h);null!=f.objStudyInfo&&(f.objParams=f.objStudyInfo,f.editStatus=!0);a=e.chart.GetLegendIDByDefID(f.objStudyInfo.UID);b=W(null,f.objStudyInfo,a);$("#tbody-indicatorpanels").html(b);M(a)})}function V(a,c,b){"undefined"==typeof b&&(b=a);a=$("#dlg-indicators .main-page").eq(a).find(".title_level");
for(var d=0;d<a.length;d++)$(a[d]).removeClass("active"),d>b&&$(a[d]).css("display","none");$(a[b]).find("a").html(c);$(a[b]).css("display","block").addClass("active")}function da(){$(" .title_level").delegate("a","click",function(){for(var a=$(this).parents(".main-page"),c=$(a).find(".title_level a").index(this),b=$(a).find(".dialog_level"),d=0;d<b.length;d++){var e=d==c?"block":"none";$(b[d]).css("display",e)}a=$(a).find(".title_level");for(d=c+1;d<a.length;d++)$(a[d]).css("display","none").removeClass("active");
$(a[c]).addClass("active")})}function ea(){$("#main-indicator-browser > li").on("click",function(){var a=$("#main-indicator-browser > li").index(this),c=$(this).attr("id");$("#main-indicator-browser > li").removeClass("browser-item-selected");$("#main-indicator-browser #"+c).addClass("browser-item-selected");for(var c=$("#chart-dialog .main-page"),b=0;b<c.length;b++){var d=b==a?"block":"none";$(c[b]).css("display",d)}a=$(this).html();V(0,a)})}function O(a,c){var b=c.split(".");return 1==b.length?
a[b[0]]:"undefined"!=typeof a[b[0]]?O(a[b[0]],b.slice(1).join(".")):null}function G(a,c,b){c=c.split(".");1==c.length&&(a[c[0]]=b);"undefined"!=typeof a[c[0]]&&G(a[c[0]],c.slice(1).join("."),b)}function ja(a,c){for(var b=Object.keys(a),d=0;d<b.length;d++){var e=b[d];"undefined"==typeof c[e]&&(typeof a[e]==Object?(c[e]={},ja(a[e],c[e])):c[e]=a[e])}}function E(){$(".chart-ui-dialog .onlynumeric").prochart_numeric()}function ia(){"undefined"!=typeof e.preloadobj&&e.preloadobj.startPreload()}function P(){"undefined"!=
typeof e.preloadobj&&e.preloadobj.endPreload()}var e=A;A={};e.indicators=A;var y=e.api.debug.getLogger("prochart.gui.indicators"),z="",r={All:0,Style:1,Draw:2,Value:3},n=e.api.layout.getbuttonStyle(),Q=null,s=[],u=[],f={id:"",objStudyInfo:null,objParams:null,editStatus:!1};A.gui={viewIndicators:function(a){"undefined"==typeof a&&(a="indicators");ia();z="Indicators form";var c=e.commonutils.func.detectmob();c?xa("gannfan",z):wa("gannfan",z);a=e.patterns.indicators.indicatorsform.replace(/%favorites-selected%/g,
"favorites"==a?"browser-item-selected":"").replace(/%indicators-selected%/g,"favorites"==a?"":"browser-item-selected").replace(/%indicatorsfavorite-visible%/g,"favorites"==a?"block":"none").replace(/%indicatorslist-visible%/g,"indicators"==a?"block":"none");c?ma(a):ka(a)},viewIndicator:function(a,c){ha(c)},getIndicatorObjectParam:function(a){for(var c=w(a),b=c.renderitems,d=0;d<b;d++){var f=c["renderitem"+(d+1)],k={};"undefined"==typeof f.style&&(f.style=[],f.style.push(k));if("undefined"!=typeof e.chart.StyleObject[a+
"_item"+(d+1)]){var g=e.chart.StyleObject[a+"_item"+(d+1)];"undefined"==typeof k.stroke&&(k.stroke="undefined"!==typeof g.stroke?g.stroke:"rgb(0,0,0)");"undefined"==typeof k.strokeWidth&&(k.strokeWidth="undefined"!=typeof g.strokeWidth?g.strokeWidth:"1");"undefined"==typeof k.strokeOpacity&&(k.strokeOpacity="undefined"!=typeof g.strokeOpacity?g.strokeOpacity:"1");"undefined"==typeof k.fill&&"undefined"!=typeof g.fill&&(k.fill=g.fill);"undefined"==typeof k.fillOpacity&&(k.fillOpacity="undefined"!=
typeof g.fillOpacity?g.fillOpacity:"1");"undefined"==typeof k.visible&&(k.visible=!0);"undefined"!=typeof c.base&&(g={},g.stroke=k.stroke,g.strokeWidth=k.strokeWidth,g.strokeOpacity=k.strokeOpacity,g.visible=k.visible,g.fill=k.fill,g.fillOpacity=k.fillOpacity,f.style.push(g))}}if(null!=c&&"undefined"!=typeof c.levels&&null!=c.levels)for(b=c.levels,d=b.length,f=0;f<d;f++){k=b[f];try{if("undefined"==typeof e.chart.StyleObject.indicators[a].levels[f])continue}catch(l){continue}g=e.chart.StyleObject.indicators[a].levels[f];
"undefined"!=typeof g.stroke&&(k.stroke=g.stroke);"undefined"!=typeof g.strokeOpacity&&(k.strokeOpacity=g.strokeOpacity);"undefined"!=typeof g.strokeWidth&&(k.strokeWidth=g.strokeWidth);"undefined"!=typeof g.strokeDasharray&&(k.strokeDasharray=g.strokeDasharray)}return c},appendIndicator:function(a){var c=w(a);e.chart.AddStudyWithParams(a,c)},deleteFromDefaultSetting:function(a){for(var c=e.apiinit.savedIndicatorsSetting,b=0;b<c.length;b++)if(c[b].id==a){c.splice(b,1);break}}};e.chart.UI.funcOnStudyEdit=
ha;return A};
function ProChart_InitProps(n){function x(){$("#borderwidth-area-line").slider({min:1,max:6});$("#borderwidth-line-line").slider({min:1,max:6});$("#borderwidth-histogram-line").slider({min:1,max:6});$("#color-opacity-area").slider({min:0,max:100})}function y(){var b=[];b.push('<option value="%charttypeid%" data-localize="dialogs.indicator.%charttypeid%">%charttypename%</option>');var d=$("#tbody-charttype-select").find("select"),c=/%charttypeid%/g,h=/%charttypename%/g;if(null!=d)for(var l=0;l<a.init.charttype.length;l++){var g=
a.init.charttype[l],g=b[0].replace(c,g.id).replace(h,a.localizationobj.gui.returnLocalizationString("dialogs.props."+g.id,g.n));d.append(g)}b=a.chart.GetPriceProperties().GetDrawType();$(d).val(b);$(".charttype-block").css("display","none");$("#charttype-block-"+b).css("display","block");b=a.chart.GetRTLineVisible();$("#control-priceline-visible").prop("checked",Boolean(b));$(d).on("change",function(){var b=$(this).val();$(".charttype-block").css("display","none");$("#charttype-block-"+b).css("display",
"block");a.chart.GetPriceProperties().SetDrawType(b);a.chart.Redraw();u();var c=a.chart.GetPriceProperties().GetStyle();try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceType(b)}catch(d){}if(typeof a.events.globprop.onPriceTypeChange==typeof Function)a.events.globprop.onPriceTypeChange(b,c);m.debug(b,c)});$("#control-priceline-visible").on("click",function(b){b=!0;$(this).is(":checked")?(a.chart.SetRTLineVisible(!0),b=!0):(a.chart.SetRTLineVisible(!1),b=!1);a.chart.Redraw();try{"undefined"!=
typeof a.api.localstorage&&a.api.localstorage.setPriceLine(b)}catch(c){}if(typeof a.events.globprop.onPriceLineChange==typeof Function)a.events.globprop.onPriceLineChange(b);m.debug("SetRTLineVisible",b)})}function z(){f("#control-candlesticks-border","#color-candlesticks-up-border","#color-candlesticks-down-border","#color-candlesticks-flat-border",null,null);f("#control-candlesticks-wick","#color-candlesticks-wick",null,null,null,null);f("#control-columns-border","#color-columns-up-border","#color-columns-down-border",
"#color-columns-flat-border",null,null);f("#control-hollowcandlesticks-border","#color-hollowcandlesticks-up-border","#color-hollowcandlesticks-down-border","#color-hollowcandlesticks-flat-border",null,null);f("#control-hollowcandlesticks-wick","#color-hollowcandlesticks-wick",null,null,null,null);f("#control-ohlc-border","#color-ohlc-up-border","#color-ohlc-down-border","#color-ohlc-flat-border",null,null);f("#control-ohlc-wick","#color-ohlc-wick",null,null,null,null);f("#control-hlc-border","#color-hlc-up-border",
"#color-hlc-down-border","#color-hlc-flat-border",null,null);f("#control-hlc-wick","#color-hlc-wick","#color-hlc-border-flat",null,null,null);f("#control-dots-border","#color-dots-up-border","#color-dots-down-border","#color-dots-flat-border",null,null);f("#control-heikinashi-border","#color-heikinashi-up-border","#color-heikinashi-down-border","#color-heikinashi-flat-border",null,null);f("#control-heikinashi-wick","#color-heikinashi-wick",null,null,null,null);$(".class-price-color").on("change",
function(){for(var b=$(this).spectrum("get").toRgbString(),d=$(this).attr("id"),c=0;c<e.length;c++)if(e[c].ctr==d){var h=a.chart.GetPriceProperties(),l=h.GetStyle();t(l,e[c].json,b);h=h.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(h,l);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(h,l);m.debug(h,l);a.chart.Redraw();switch(d){case "color-area-up":var l=$("#color-area-up").spectrum("get").alpha,h=$("#color-area-up").spectrum("get").toHexString(),
g=100;isNaN(parseFloat(l))||(g=100*l);$("#color-opacity-area").slider("option","value")!=g&&$("#color-opacity-area").slider("option","value",g);$("#"+e[c].opacityctr+" div.gradient").css("background-image","linear-gradient(to left, "+h+" 0%, transparent 100% )")}}});$("#borderwidth-line-line").on("slidechange",function(){var b=$(this).slider("option","value"),d=a.chart.GetPriceProperties(),c=d.GetStyle();c.strokeWidth=b;a.chart.Redraw();b=d.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(b,
c);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(b,c);m.debug(b,c)});$("#borderwidth-histogram-line").on("slidechange",function(){var b=$(this).slider("option","value"),d=a.chart.GetPriceProperties(),c=d.GetStyle();c.strokeWidth=b;b=d.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(b,c);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(b,c);m.debug(b,c);
a.chart.Redraw()});$("#borderwidth-area-line").on("slidechange",function(){var b=$(this).slider("option","value"),d=a.chart.GetPriceProperties(),c=d.GetStyle();c.strokeWidth=b;b=d.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(b,c);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(b,c);m.debug(b,c);a.chart.Redraw()});$("#color-opacity-area").on("slidechange",function(){var a=$(this).slider("option","value"),
d=$("#color-area-up").spectrum("get").toRgb(),a="rgba(%r%, %g%, %b%, %a%)".replace("%r%",d.r).replace("%g%",d.g).replace("%b%",d.b).replace("%a%",a/100);$("#color-area-up").spectrum("set",a)})}function u(){var b=a.chart.GetPriceProperties(),d=b.GetDrawType();e=[];k=[];switch(d){case "candlesticks":e.push({ctr:"color-candlesticks-up-candles",json:"up.fill"},{ctr:"color-candlesticks-down-candles",json:"down.fill"},{ctr:"color-candlesticks-up-border",json:"up.stroke"},{ctr:"color-candlesticks-down-border",
json:"down.stroke"},{ctr:"color-candlesticks-flat-candles",json:"flat.fill"},{ctr:"color-candlesticks-flat-border",json:"flat.stroke"},{ctr:"color-candlesticks-wick",json:"wick.stroke"});k.push({ctr:"control-candlesticks-border",json:"borderVisible"},{ctr:"control-candlesticks-wick",json:"wick.visible"});break;case "columns":e.push({ctr:"color-columns-up-column",json:"up.fill"},{ctr:"color-columns-down-column",json:"down.fill"},{ctr:"color-columns-up-border",json:"up.stroke"},{ctr:"color-columns-down-border",
json:"down.stroke"},{ctr:"color-columns-flat-column",json:"flat.fill"},{ctr:"color-columns-flat-border",json:"flat.stroke"},{ctr:"color-columns-wick",json:"wick.stroke"});k.push({ctr:"control-columns-border",json:"borderVisible"});break;case "hollowcandlesticks":e.push({ctr:"color-hollowcandlesticks-up-candles",json:"up.fill"},{ctr:"color-hollowcandlesticks-down-candles",json:"down.fill"},{ctr:"color-hollowcandlesticks-up-border",json:"up.stroke"},{ctr:"color-hollowcandlesticks-down-border",json:"down.stroke"},
{ctr:"color-hollowcandlesticks-flat-candles",json:"flat.fill"},{ctr:"color-hollowcandlesticks-flat-border",json:"flat.stroke"},{ctr:"color-hollowcandlesticks-wick",json:"wick.stroke"});k.push({ctr:"control-hollowcandlesticks-border",json:"borderVisible"},{ctr:"control-hollowcandlesticks-wick",json:"wick.visible"});break;case "ohlc":e.push({ctr:"color-ohlc-up-border",json:"up.stroke"},{ctr:"color-ohlc-down-border",json:"down.stroke"},{ctr:"color-ohlc-flat-border",json:"flat.stroke"});break;case "hlc":e.push({ctr:"color-hlc-up-border",
json:"up.stroke"},{ctr:"color-hlc-down-border",json:"down.stroke"},{ctr:"color-hlc-flat-border",json:"flat.stroke"});break;case "histogram":e.push({ctr:"color-histogram-up-border",json:"up.stroke"},{ctr:"color-histogram-down-border",json:"down.stroke"},{ctr:"color-histogram-flat-border",json:"flat.stroke"});break;case "dots":e.push({ctr:"color-dots-up-candles",json:"up.fill"},{ctr:"color-dots-down-candles",json:"down.fill"},{ctr:"color-dots-up-border",json:"up.stroke"},{ctr:"color-dots-down-border",
json:"down.stroke"},{ctr:"color-dots-flat-candles",json:"flat.fill"},{ctr:"color-dots-flat-border",json:"flat.stroke"});break;case "heikinashi":e.push({ctr:"color-heikinashi-up-candles",json:"up.fill"},{ctr:"color-heikinashi-down-candles",json:"down.fill"},{ctr:"color-heikinashi-up-border",json:"up.stroke"},{ctr:"color-heikinashi-down-border",json:"down.stroke"},{ctr:"color-heikinashi-flat-candles",json:"flat.stroke"},{ctr:"color-heikinashi-wick",json:"wick.stroke"},{ctr:"color-heikinashi-flat-border",
json:"flat.fill"});k.push({ctr:"control-heikinashi-border",json:"borderVisible"},{ctr:"control-heikinashi-wick",json:"wick.visible"});break;case "line":e.push({ctr:"color-line-line",json:"stroke"});break;case "area":e.push({ctr:"color-area-line",json:"stroke"},{ctr:"color-area-up",json:"fill",opacityctr:"color-opacity-area"})}for(var b=b.GetStyle(),c=0;c<e.length;c++)A($("#"+e[c].ctr),v(b,e[c].json),!0);for(c=0;c<k.length;c++){var h=v(b,k[c].json);if(null==h)break;"true"==h.toString().toLowerCase()?
$("#"+k[c].ctr).attr("checked",!0):$("#"+k[c].ctr).removeAttr("checked")}switch(d){case "line":d=b.strokeWidth;$("#borderwidth-line-line").slider("option","value",d);break;case "histogram":d=b.strokeWidth;$("#borderwidth-histogram-line").slider("option","value",d);break;case "area":d=b.strokeWidth,$("#borderwidth-area-line").slider("option","value",d),d=$("#color-area-up").spectrum("get").alpha,b=100,isNaN(parseFloat(d))||(b=100*d),$("#color-opacity-area").slider("option","value")!=b&&$("#color-opacity-area").slider("option",
"value",b)}}function f(b,d,c,h,l,g){$(b).on("click",function(b){var e=$(this);b=$(this).attr("id");e.is(":checked")?(null!=g&&$(g).slider("enable"),null!=l&&$(l).slider("enable"),null!=d&&$(d).spectrum("enable"),null!=c&&$(c).spectrum("enable"),null!=h&&$(h).spectrum("enable")):(null!=g&&$(g).slider("disable"),null!=l&&$(l).slider("disable"),null!=d&&$(d).spectrum("disable"),null!=c&&$(c).spectrum("disable"),null!=h&&$(h).spectrum("disable"));for(var e=e.is(":checked"),p=0;p<k.length;p++)if(k[p].ctr==
b){var f=a.chart.GetPriceProperties(),q=f.GetStyle();t(q,k[p].json,e?"true":"false");f=f.GetDrawType();"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setPriceStyle(f,q);if(typeof a.events.globprop.onPriceStyleChange==typeof Function)a.events.globprop.onPriceStyleChange(f,q);m.debug(f,q);a.chart.Redraw()}for(p=0;p<w.length;p++)if(w[p].ctr==b){q=a.chart.GetVolumeInfo().GetStyle();t(q,w[p].json,e?"true":"false");if(typeof a.events.globprop.onVolumeStyleChange==typeof Function)a.events.globprop.onVolumeStyleChange(q);
m.debug(q);a.chart.Redraw()}})}function F(){var b=(new Date).getTimezoneOffset(),d=a.chart.GetTimeZone(),c=" UTC "+(0<b?"-":"+")+Math.abs(d/60);$("#current-time-zone-span").html(c);$("#button-update-timezone").button();$("#button-update-timezone").on("click",function(){var b=$("#select-timezone").val(),d=$("#control-daylight-time").is(":checked")?1:0,g=-60*(parseFloat(b)+d);a.chart.SetTimeZone(g);if(typeof a.events.globprop.onVolumeStyleChange==typeof Function)a.events.globprop.onTimeZoneChange(g);
m.debug(g);a.chart.Redraw();c=" UTC "+(0<g?"-":"+")+Math.abs(parseFloat(b)+d);$("#current-time-zone-span").html(c)})}function B(b,d){function c(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function h(b){var c=a.patterns.common.eye_orange.replace(/%icon-source%/g,r.icon_source).replace(/%icon-prefix%/g,r.icon_prefix);$(b).find(".ui-dialog-buttonset").prepend(c).on("click",function(){var a=$(".chart-ui-dialog.props-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.props-dialog").css("opacity",
a);$(this).css("opacity",b)})}var e="Close",g=d,f="";"undefined"!=typeof a.localizationobj&&(e=a.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),g=a.localizationobj.gui.returnLocalizationString("dialogs.props.generalproperties-title",d));"undefined"!=typeof a.init.TemplateName&&(f=a.init.TemplateName);var k="";"rtl"==a.localizationobj.gui.returnCurrentLanguage().direction&&(k="dir-rtl");$('<div id="chart-dialog" title="'+g+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog props-dialog "+
f+" "+k,draggable:!0,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:"auto",modal:!0,open:function(b,c){h($(this).parent());$(".ui-widget-overlay").last().addClass("chart-ui-widget-overlay");if(a.api.props){var d=a.api.props.chart.gui.layout.zindex_dialog;$(".chart-ui-widget-overlay").css({"z-index":d});$(".chart-ui-dialog").css({"z-index":d})}$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});if(typeof a.events.globprop.onOpenDialog==typeof Function)a.events.globprop.onOpenDialog();
m.debug("Open dialog global properies");C()},close:function(b,d){c($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.systems-dialog  adv-buttons."+r.icon_prefix+"eye-orange").off().remove();$("div.chart-ui-dialog.systems-dialog").off().remove();$(this).off().empty().remove();if(typeof a.events.globprop.onCloseDialog==typeof Function)a.events.globprop.onCloseDialog();m.debug("Close dialog global properies")},buttons:[{id:"btn-dialogs-close",text:e,click:function(){$(this).dialog("close")}}]})}
function D(b,d){function c(a){$(a).find(".spectrum-color").each(function(){$(this).spectrum("destroy")})}function e(b){var c=a.patterns.common.eye_orange.replace(/%icon-source%/g,r.icon_source).replace(/%icon-prefix%/g,r.icon_prefix);$(b).find(".ui-dialog-buttonset").prepend(c).on("click",function(){var a=$(".chart-ui-dialog.props-dialog").css("opacity"),a=1==a?.5:1,b=1==a?"":2;$(".chart-ui-dialog.props-dialog").css("opacity",a);$(this).css("opacity",b)})}var f="Close",g=d,k="";"undefined"!=typeof a.localizationobj&&
(f=a.localizationobj.gui.returnLocalizationString("dialogs.common.button-close","Close"),g=a.localizationobj.gui.returnLocalizationString("dialogs.props.generalproperties-title",d));"undefined"!=typeof a.init.TemplateName&&(k=a.init.TemplateName);var n="";"rtl"==a.localizationobj.gui.returnCurrentLanguage().direction&&(n="dir-rtl");$('<div id="chart-dialog" title="'+g+'"></div>').insertAfter("body");$("#chart-dialog").dialog({dialogClass:"chart-ui-dialog props-dialog chart-ui-mob-dialog   "+k+" "+
n,draggable:!1,autoOpen:!1,resizable:!1,closeOnEscape:!0,width:window.innerWidth?window.innerWidth:$(window).width(),height:window.innerHeight?window.innerHeight:$(window).height(),modal:!0,open:function(b,c){e($(this).parent());$(".ui-widget-overlay").last().addClass("chart-ui-widget-overlay");if(a.api.props){var d=a.api.props.chart.gui.layout.zindex_dialog;$(".chart-ui-widget-overlay").css({"z-index":d});$(".chart-ui-dialog").css({"z-index":d})}$(".ui-widget-overlay").bind("click",function(){$("#chart-dialog").dialog("close")});
if(typeof a.events.globprop.onOpenDialog==typeof Function)a.events.globprop.onOpenDialog();m.debug("Open dialog global properies");C()},close:function(b,d){c($(this).parent());$("#chart-dialog").remove();$("div.chart-ui-dialog.systems-dialog  adv-buttons."+r.icon_prefix+"eye-orange").off().remove();$("div.chart-ui-dialog.systems-dialog").off().remove();$(this).off().empty().remove();if(typeof a.events.globprop.onCloseDialog==typeof Function)a.events.globprop.onCloseDialog();m.debug("Close dialog global properies")},
buttons:[{id:"btn-dialogs-close",text:f,click:function(){$(this).dialog("close")}}]})}function G(){$(".properties-tabs").delegate("a","click",function(){var a=$(this).index();$(".main-properties").each(function(){$(this).css("display","none")});$(".properties-tabs-label").each(function(){$(this).removeClass("active")});$(".main-properties").eq(a).css("display","block");$(this).addClass("active")})}function E(){"undefined"!=typeof a.preloadobj&&a.preloadobj.startPreload()}function C(){"undefined"!=
typeof a.preloadobj&&a.preloadobj.endPreload()}function v(a,d){var c=d.split(".");return 1==c.length?a[c[0]]:"undefined"!=typeof a[c[0]]?v(a[c[0]],c.slice(1).join(".")):null}function t(a,d,c){d=d.split(".");1==d.length&&(a[d[0]]=c);"undefined"!=typeof a[d[0]]&&t(a[d[0]],d.slice(1).join("."),c)}function A(a,d,c,e){"undefined"==typeof e&&(e=!1);c=[];e&&c.push("rgba(0, 0, 0, 0);{rgba(0, 0, 0, 0.1);{rgba(0, 0, 0, 0.2);{rgba(0, 0, 0, 0.3);{rgba(0, 0, 0, 0.4);{rgba(0, 0, 0, 0.5);{rgba(0, 0, 0, 0.6);{rgba(0, 0, 0, 0.7);{rgba(0, 0, 0, 0.8);{rgba(0, 0, 0, 0.9);".split("{"));
c.push("rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"));c.push("rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"));c.push("rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"));
c.push("rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"));c.push("rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"));c.push("rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"));
c.push("rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"));c.push("rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{"));$(a).spectrum({color:d,showAlpha:e,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:c})}
var a=n;n={};a.props=n;var m=a.api.debug.getLogger("prochart.gui.props"),s="",e=[],k=[],w=[],r=a.api.layout.getbuttonStyle();n.gui={viewProps:function(){E();s="General Properties";a.commonutils.func.detectmob()?D("test",s):B("test",s);var b=a.patterns.props.form;$("#chart-dialog").html(b);x();y();u();z();$("#color-opacity-volume").slider({min:0,max:100});b=[];b.push("color-grid-vertical","color-grid-hotizontal","color-watermark");for(var d=0;d<b.length;d++)A($("#"+b[d]),"#225437");f("#control-grid-vertical",
"#color-grid-vertical",null,null,null);f("#control-grid-hotizontal","#color-grid-hotizontal",null,null,null);$("#color-opacity-watermark").slider({min:0,max:100});F();G();a.chart.IsVolumeEnabled()||$(".properties-tabs").find(".volume-property-tab").css("display","none");"undefined"!=typeof a.localizationobj&&a.localizationobj.gui.updateFromDataLang($("#chart-dialog"));$("#chart-dialog").dialog("open")},viewPriceOnly:function(b,d){E();s=d.GetSymbol();a.commonutils.func.detectmob()?D("test",s):B("test",
s);var c=a.patterns.props.priceonlyform;$("#chart-dialog").html(c);x();y();u();z();"undefined"!=typeof a.localizationobj&&a.localizationobj.gui.updateFromDataLang($("#chart-dialog"));$("#chart-dialog").dialog("open")},viewVolumeOnly:function(){}};n.init={};return n};
function ProChart_InitToolbarAdv(U){function y(a){var d="";if("undefined"!=typeof a.buttonalign)switch(a.buttonalign){case "left":d+=" fl-l";break;case "right":d+=" fl-r"}return d}function V(){"undefined"!=typeof g.chart.TimeFrame&&(g.chart.TimeFrame.toUpperCase(),g.chart.TimeFrame.toLowerCase());for(var a=g.currenlayout.toolbars,d=0;d<a.length;d++){var b=a[d],c=g.commonutils.func.returnShortUniqID(),f="",l="";b.guiid=c;"undefined"!=typeof b.location&&(f=f+" loc-"+b.location);l=c;"undefined"!=typeof b.id&&
(l=b.id);var k="";"undefined"!=typeof b.style&&(k=b.style);c=g.patterns.toolbar.toolbar.replace(C,"").replace(/%style%/g,k).replace(/%css%/g,f).replace(/%tid%/g,l).replace(/%id%/g,c);f="";void 0!=b.more&&(f=g.patterns.toolbar.toolbar_more);var e="",l=void 0;void 0!=b.more&&"undefined"!=typeof b.more.closebyclick&&!0==b.more.closebyclick&&(l=" tlb-more-a-closebyclick");k="a-bottom";void 0!=b.more&&"undefined"!=typeof b.more.possition&&(k="a-"+b.more.possition);e=g.api.layout.getbuttonStyle();f=f.replace(/%icon-source%/g,
e.icon_source).replace(/%icon-more%/g,e.icon_prefix+"icon-more").replace(/%css-more-items%/g," "+k);for(k=0;k<b.items.length;k++)switch(e=b.items[k],W.debug(e.type),e.type){case "button-group-charttype":e=I(void 0,l,e);c=c.replace(/%html%/g,e.toolbar+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"));break;case "button-group-indicator":e=J(void 0,l,e);c=c.replace(/%html%/g,e.toolbar+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"));break;case "button-group-timeframe":e=
K(void 0,l,e);c=c.replace(/%html%/g,e.toolbar+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"));break;case "caption":e=L(e);c=c.replace(/%html%/g,e+"%html%");break;case "space":e=M(e);c=c.replace(/%html%/g,e+"%html%");break;case "button":e=N(e,void 0,l);c=c.replace(/%html%/g,e.button+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.buttonmore+"%html%"));break;case "button-custom":e=X(e,void 0,l);c=c.replace(/%html%/g,e.button+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,
e.buttonmore+"%html%"));break;case "item":e=O(e,void 0,l);c=c.replace(/%html%/g,e.button+"%html%");void 0!=b.more&&(f=f.replace(/%html%/g,e.buttonmore+"%html%"));break;case "button-group":e=P(e),c=c.replace(/%html%/g,e.toolbargroup+"%html%"),void 0!=b.more&&(f=f.replace(/%html%/g,e.toolbarmore+"%html%"))}void 0!=b.more&&(f=f.replace(/%html%/g,""));c=c.replace(/\n|\r/g,"").replace(/%html%/g,f);if(b.parent&&$.prochartcache.get(h.parent,"#"+b.parent)){b=$.prochartcache.get(h.parent,"#"+b.parent);b.append(c);
var m={};$.prochartcache.update(b,".tlb-more-item");$.prochartcache.get(b,".tlb-more-item")&&$.prochartcache.get(b,".tlb-more-item").each(function(){var a=$(this).find("button").attr("tid");null==m[a]?m[a]=!0:$(this).remove()})}}if($.prochartcache.get(h.parent,"button.change-typechart"))$.prochartcache.get(h.parent,"button.change-typechart").on("click",function(){var a=$(this).attr("tid");$.prochartcache.get(h.parent,"button.change-typechart")&&$.prochartcache.get(h.parent,"button.change-typechart").removeClass("button-selected");
"undefined"!=typeof g.chart.ChangePriceType&&(g.chart.ChangePriceType(a),!0==g.bi.status&&g.bi.addt2BI("change price type: "+a));$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this));$(this).addClass("button-selected");return!1});if($.prochartcache.get(h.parent,"button.change-timeframe"))$.prochartcache.get(h.parent,"button.change-timeframe").on("click",function(){var a=$(this).attr("tid");$.prochartcache.get(h.parent,
"button.change-timeframe")&&$.prochartcache.get(h.parent,"button.change-timeframe").removeClass("button-selected");"undefined"!=typeof g.chart.ChangeTimeScale&&(g.chart.ChangeTimeScale(a),!0==g.bi.status&&g.bi.addt2BI("change timescale: "+a));$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this));$(this).addClass("button-selected");return!1});if($.prochartcache.get(h.parent,"button.button-action"))$.prochartcache.get(h.parent,
"button.button-action").on("click",function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof g.actions){var b=$(this).attr("action");"undefined"!=typeof b&&""!=b?g.actions.action(b,a):g.actions.action(a);$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this))}return!1});if($.prochartcache.get(h.parent,"button.button-action-custom"))$.prochartcache.get(h.parent,"button.button-action-custom").on("click",
function(){var a=$(this).attr("tid");if("undefined"!=typeof a&&"undefined"!=typeof g.actions){if(typeof g.events.toolbar.onCustomButtonClick==typeof Function)g.events.toolbar.onCustomButtonClick(a);$(this).hasClass("tlb-a-closebyclick")&&E($(this));$(this).hasClass("tlb-more-a-closebyclick")&&D($(this));$(this).hasClass("tlb-a-changeicongroup")&&F($(this))}return!1});if($.prochartcache.get(h.parent,"button.button-more"))$.prochartcache.get(h.parent,"button.button-more").on("click",function(){"none"==
$(this).parent().find(".tlb-more-items").css("display")?($.prochartcache.get(h.parent,".tlb-button-groups")&&$.prochartcache.get(h.parent,".tlb-button-groups").css("display","none"),$.prochartcache.get(h.parent,".tlb-more-items")&&$.prochartcache.get(h.parent,".tlb-more-items").css("display","none"),Q($(this)),"undefined"!=typeof g.menuobj&&g.menuobj.gui.hidemenus()):D($(this))});if($.prochartcache.get(h.parent,"button.button-group"))$.prochartcache.get(h.parent,"button.button-group").on("click",
function(){"none"==$(this).parent().find(">.tlb-button-groups").css("display")?($(this).parent().find(">.tlb-button-groups").css("visibility","hidden").css("display","block"),$.prochartcache.get(h.parent,">.tlb-button-groups")&&$.prochartcache.get(h.parent,">.tlb-button-groups").css("display","none"),$.prochartcache.get(h.parent,".tlb-more-items")&&$.prochartcache.get(h.parent,".tlb-more-items").css("display","none"),1>=$(this).parents(".tlb-item-group").length&&$.prochartcache.get(h.parent,".tlb-button-groups")&&
$.prochartcache.get(h.parent,".tlb-button-groups").css("display","none"),$(this).closest("ul").find("li >.tlb-button-groups").css("display","none"),$.prochartcache.get(g.toolbaradvobj.parent,"button.button-group")&&$.prochartcache.get(g.toolbaradvobj.parent,"button.button-group").removeClass("highlightedIconGroup"),$(this).parents(".tlb-item-group").each(function(){$(this).find(">.button-group").addClass("highlightedIconGroup")}),R($(this).parent()),"undefined"!=typeof g.menuobj&&g.menuobj.gui.hidemenus()):
S($(this).parent());"undefined"!=typeof g.menuobj&&g.menuobj.gui.hidemenus()});z()}function J(a,d,b){var c=b="",f="";"undefined"!=typeof a&&(f=a);a="";"undefined"!=typeof d&&(a=d);d=g.init.indicators;for(var l=0;l<d.length;l++){var k=d[l],e=g.patterns.toolbar.item_noicon.replace(/%id%/g,k.id).replace(/%localization%/g,k.localize).replace(/%css%/g,"undefined"!=typeof k.css?k.css+f:f).replace(/%icon%/g,"undefined"!=typeof k.icon?k.icon:"").replace(/%action%/g,"undefined"!=typeof k.action?k.action:"add-indicator").replace(/%caption%/g,
k.d);b+=e;k=g.patterns.toolbar.toolbar_more_item.replace(/%id%/g,k.id).replace(/%localization%/g,k.localize).replace(/%css%/g,"undefined"!=typeof k.css?k.css+" button-action "+a:" button-action "+a).replace(/%icon%/g,"undefined"!=typeof k.icon&&""!=k.icon?k.icon:"no-icon").replace(/%caption%/g,k.caption);c+=k}return{toolbar:b,toolbarmore:c}}function I(a,d,b){var c=b="",f="";"undefined"!=typeof g.chart.PriceChartType&&(f=g.chart.PriceChartType);var l="";"undefined"!=typeof a&&(l=a);a="";"undefined"!=
typeof d&&(a=d);d="icon-button";var k="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":d="icon-button";break;case "fonticon":d="font-icon";k="iconfont-";break;default:d="icon-button"}}catch(e){}for(var m=g.init.charttype,p=0;p<m.length;p++){var n=m[p],h=g.patterns.toolbar.button_charttype.replace(/%icon-source%/g,d).replace(C,"").replace(/%id%/g,n.id).replace(/%css%/g,"undefined"!=typeof n.css?n.css+l:l).replace(/%icon%/g,k+n.id).replace(/%caption%/g,
n.n).replace(/%hide%/g,1==n.f?"":"hideobj").replace(/%selected%/g,null==f||n.id!=f?"":"button-selected");b+=h;h=g.patterns.toolbar.toolbar_more_item.replace(C,"").replace(/%icon-source%/g,d).replace(/%id%/g,n.id).replace(/%css%/g,("undefined"!=typeof n.css?n.css+a:a)+"  change-typechart "+(1==n.f?"":"hideobj")).replace(/%icon%/g,k+n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,"menu.charttype."+n.id).replace(/%selected%/g,null==f||n.id!=f?"":"button-selected");c+=h}return{toolbar:b,toolbarmore:c}}
function K(a,d,b){var c="",f="",l="",k="",e="";"undefined"!=typeof a&&(e=a);a="";"undefined"!=typeof d&&(a=d);"undefined"!=typeof g.chart.TimeFrame&&(l=g.chart.TimeFrame.toUpperCase(),k=g.chart.TimeFrame.toLowerCase());d=!1;"undefined"!=typeof b&&"undefined"!=typeof b.captionview&&(d=b.captionview,!0==d&&(e+=" onlycaption-view onlycaption-timeframe"));var m=!1;"undefined"!=typeof b&&"undefined"!=typeof b.viewall&&(m=b.viewall);b=g.init.timeframe;for(var p=0;p<b.length;p++){var n=b[p],h="",v=g.api.timeframes.getTimeframeView(),
q="icon-button",r="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":q="icon-button";break;case "fonticon":q="font-icon";r="iconfont-";break;default:q="icon-button"}}catch(w){}switch(v){case "icon":h=g.patterns.toolbar.button_timeframe.replace(/%icon-source%/g,q).replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%icon%/g,r+G(n.id)).replace(/%hide%/g,1==n.f||!0==m?"":"hideobj").replace(/%css%/g,"undefined"==typeof n.css?e+" timeframe-icon-type":
n.css+e+" timeframe-icon-type").replace(/%selected%/g,n.id==l||n.id==k?"button-selected":"");x.icons[n.id]=g.patterns.toolbar.button_timeframe_inner.replace(/%icon%/g,r+G(n.id));break;case "text":h=g.patterns.toolbar.button_timeframe_text.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%caption2%/g,!0==d?n.n:"").replace(/%title1%/g,!0==d?"":n.t1).replace(/%title2%/g,!0==d?"":n.t2).replace(/%hide%/g,1==n.f||!0==m?"":"hideobj").replace(/%css%/g,"undefined"==typeof n.css?e+(!0!=d?" timeframe-text-type":
"timeframe-caption-type"):n.css+e+(!0!=d?" timeframe-text-type":"timeframe-caption-type")).replace(/%selected%/g,n.id==l||n.id==k?"button-selected":""),!0==d?x.captions[n.id]=g.patterns.toolbar.button_timeframe_text_inner.replace(/%caption2%/g,!0==d?n.n:"").replace(/%title1%/g,!0==d?"":n.t1).replace(/%title2%/g,!0==d?"":n.t2):x.texts[n.id]=g.patterns.toolbar.button_timeframe_text_inner.replace(/%caption2%/g,!0==d?n.n:"").replace(/%title1%/g,!0==d?"":n.t1).replace(/%title2%/g,!0==d?"":n.t2)}c+=h;switch(v){case "icon":h=
g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,q).replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,"menu.timescale."+n.id).replace(/%css%/g," change-timeframe "+(1==n.f?"":"hideobj")).replace(/%css%/g,"undefined"==typeof n.css?a:n.css+a).replace(/%icon%/g,r+G(n.id)).replace(/%selected%/g,n.id==l||n.id==k?"button-selected":"");break;case "text":h=g.patterns.toolbar.toolbar_more_item_timeframe_text.replace(/%id%/g,n.id).replace(/%caption%/g,n.n).replace(/%localization%/g,
"menu.timescale."+n.id).replace(/%title1%/g,n.t1).replace(/%title2%/g,n.t2).replace(/%css%/g," change-timeframe "+(1==n.f?"":"hideobj")).replace(/%css%/g,"undefined"==typeof n.css?a:n.css+a).replace(/%selected%/g,n.id==l||n.id==k?"button-selected":"")}f+=h}return{toolbar:c,toolbarmore:f}}function N(a,d,b){var c="";"undefined"!=typeof d&&(c=d);d="";"undefined"!=typeof b&&(d=b);b="icon-button";var f="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":b=
"icon-button";break;case "fonticon":b="font-icon";f="iconfont-";break;default:b="icon-button"}}catch(l){}var k=a.id;"undefined"!=typeof a.action&&"eval"==a.action&&"undefined"!=typeof a.evaldata&&""!=a.evaldata&&(k=g.actions.addEvelCode(a.evaldata));c=g.patterns.toolbar.button.replace(/%icon-source%/g,b).replace(/%li-class%/g,y(a)).replace(/%id%/g,k).replace(/%localization%/g,a.localize).replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%css%/g,"undefined"!=typeof a.css?a.css+
c:c).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);a=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,b).replace(/%id%/g,k).replace(/%localization%/g,a.localize).replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%css%/g,"undefined"!=typeof a.css?a.css+" button-action "+d:" button-action"+d).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);return{button:c,buttonmore:a}}function X(a,
d,b){var c="";"undefined"!=typeof d&&(c=d);d="";"undefined"!=typeof b&&(d=b);b="icon-button";var f="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":b="icon-button";break;case "fonticon":b="font-icon";f="iconfont-";break;default:b="icon-button"}}catch(l){}c=g.patterns.toolbar.button_custom.replace(/%li-class%/g,y(a)).replace(/%icon-source%/g,b).replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?
a.css+c:c).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);a=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,b).replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+" button-action-custom "+d:" button-action-custom"+d).replace(/%icon%/g,"undefined"!=typeof a.icon?f+a.icon:"").replace(/%caption%/g,a.caption);return{button:c,buttonmore:a}}function O(a,d,b){var c="";"undefined"!=typeof d&&
(c=d);d="";"undefined"!=typeof b&&(d=b);var f=g.patterns.toolbar.item;"undefined"!=typeof a.icon&&""==a.icon&&(f=g.patterns.toolbar.item_noicon);b="icon-button";var l="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":b="icon-button";break;case "fonticon":b="font-icon";l="iconfont-";break;default:b="icon-button"}}catch(k){}var e=a.id;"undefined"!=typeof a.action&&"eval"==a.action&&"undefined"!=typeof a.evaldata&&""!=a.evaldata&&(e=g.actions.addEvelCode(a.evaldata));
c=f.replace(/%icon-source%/g,b).replace(/%li-class%/g,y(a)).replace(/%id%/g,e).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css+c:c).replace(/%icon%/g,"undefined"!=typeof a.icon?l+a.icon:"").replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%caption%/g,a.caption);a=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,b).replace(/%id%/g,e).replace(/%action%/g,"undefined"!=typeof a.action?a.action:"").replace(/%localization%/g,a.localize).replace(/%css%/g,
"undefined"!=typeof a.css?a.css+" button-action "+d:" button-action "+d).replace(/%icon%/g,"undefined"!=typeof a.icon&&""!=a.icon?l+a.icon:"no-icon").replace(/%caption%/g,a.caption);return{button:c,buttonmore:a}}function M(a){var d="";"undefined"!=typeof a.location&&(d=d+" loc-"+a.location);return g.patterns.toolbar.space.replace(/%li-class%/g,y(a)).replace(/%id%/g,"undefined"!=typeof a.id?a.id:"").replace(/%csstlb%/g,d).replace(/%css%/g,"undefined"!=typeof a.css?a.css:"").replace(/%caption%/g,"undefined"!=
typeof a.caption?a.caption:"")}function L(a){return g.patterns.toolbar.caption.replace(/%li-class%/g,y(a)).replace(/%id%/g,a.id).replace(/%localization%/g,a.localize).replace(/%css%/g,"undefined"!=typeof a.css?a.css:"").replace(/%icon%/g,"undefined"!=typeof a.icon?a.icon:"").replace(/%caption%/g,a.caption)}function P(a){var d="",d="%html%",b="a-top";switch(a.group.possition){case "top":b="a-top";break;case "bottom":b="a-bottom";break;case "left":b="a-left";break;case "right":b="a-right"}var c="a-menu";
switch(a.group.type){case "menu":c="a-menu";break;case "tooltip":c="a-tooltip"}var f="";"undefined"!=typeof a.group.closebyclick&&!0==a.group.closebyclick&&(f+=" tlb-a-closebyclick");"undefined"!=typeof a.group.changegroupicon&&!0==a.group.changegroupicon&&(f+=" tlb-a-changeicongroup");var l="";"undefined"!=typeof a.css&&(l=a.css);"undefined"!=typeof a.group.grouptype&&(l=l+" group-button-"+a.group.grouptype);A.push({id:a.id,group:a.group});var k="icon";"undefined"!=typeof a.group.viewtype&&(k=a.group.viewtype);
var e="";"undefined"!=typeof a.style&&(e=a.style);var m=!1;"undefined"!=typeof a&&"undefined"!=typeof a.captionview&&(m=a.captionview,!0==m&&(l+=" onlycaption-view"));g.api.timeframes.getTimeframeView();var p="",n="icon-button",h="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":n="icon-button";break;case "fonticon":n="font-icon";h="iconfont-";break;default:n="icon-button"}}catch(v){}"timescale"==a.group.grouptype&&("icon"==k?l+=" timeframe-icon-type ":
"text"==k&&(l=!0==m?l+" timeframe-caption-type ":l+" timeframe-text-type "));switch(k){case "icon":p=g.patterns.toolbar.toolbar_button_group.replace(C,"").replace(/%li-class%/g,y(a)).replace(/%icon-source%/g,n).replace(/%localization%/g,a.localize).replace(/%css%/g,l).replace(/%style%/g,e).replace(/%icon%/g,"undefined"!=typeof a.icon?h+a.icon:"").replace(/%cssgroup%/g,a.group.css+""+b+" "+c).replace(/%caption%/g,a.caption).replace(/%id%/g,a.id);break;case "text":p=g.patterns.toolbar.toolbar_button_group_text.replace(C,
"").replace(/%li-class%/g,y(a)).replace(/%localization%/g,a.localize).replace(/%css%/g,l).replace(/%style%/g,e).replace(/%title1%/g,"undefined"!=typeof a.title1?a.title1:"").replace(/%title2%/g,"undefined"!=typeof a.title2?a.title2:"").replace(/%cssgroup%/g,a.group.css+""+b+" "+c).replace(/%caption%/g,a.caption).replace(/%id%/g,a.id)}for(b=0;b<a.items.length;b++)switch(c=a.items[b],l="",c.type){case "button-group-charttype":l=I(f,void 0,c);p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,
l.toolbarmore+"%html%");break;case "menu-group-charttype":e=k=l="";"undefined"!=typeof g.chart.PriceChartType&&(e=g.chart.PriceChartType);m="";"undefined"!=typeof f&&(m=f);n=g.init.charttype;for(h=0;h<n.length;h++){var q=n[h],r="";null!=e&&q.id==e&&(r+=" button-selected ");0==q.f&&(r+="hideobj ");var r=r+" change-typechart "+m,w="icon-button",s="";try{if("undefined"!=typeof g.currenlayout.buttontype)switch(g.currenlayout.buttontype){case "icon":w="icon-button";break;case "fonticon":w="font-icon";
s="iconfont-";break;default:w="icon-button"}}catch(B){}r=g.patterns.toolbar.item.replace(/%icon-source%/g,w).replace(/%id%/g,q.id).replace(/%localization%/g,"menu.charttype."+q.id).replace(/%css%/g,r).replace(/%icon%/g,s+q.id).replace(/%action%/g,"undefined"!=typeof c.action?c.action:"").replace(/%caption%/g,q.n);l+=r;r=g.patterns.toolbar.toolbar_more_item.replace(/%icon-source%/g,w).replace(C,"").replace(/%id%/g,q.id).replace(/%css%/g,("undefined"!=typeof q.css?q.css+"":"")+"  change-typechart "+
(1==q.f?"":"hideobj")).replace(/%icon%/g,s+q.id).replace(/%caption%/g,q.n).replace(/%localization%/g,"menu.charttype."+q.id).replace(/%selected%/g,null==e||q.id!=e?"":"button-selected");k+=r}l={toolbar:l,toolbarmore:k};p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,l.toolbarmore+"%html%");break;case "button-group-indicator":l=J(f,void 0,c);p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,l.toolbarmore+"%html%");break;case "item":l=O(c,f,void 0);p=p.replace(/%html%/g,
l.button+"%html%");d=d.replace(/%html%/g,l.buttonmore+"%html%");break;case "button-group-timeframe":l=K(f,void 0,c);p=p.replace(/%html%/g,l.toolbar+"%html%");d=d.replace(/%html%/g,l.toolbarmore+"%html%");break;case "caption":c=L(c);p=p.replace(/%html%/g,c+"%html%");break;case "space":c=M(c);p=p.replace(/%html%/g,c+"%html%");break;case "button":l=N(c,f);p=p.replace(/%html%/g,l.button+"%html%");d=d.replace(/%html%/g,l.buttonmore+"%html%");break;case "button-group":l=P(c),p=p.replace(/%html%/g,l.toolbargroup+
"%html%"),d=d.replace(/%html%/g,l.toolbarmore+"%html%")}p=p.replace(/%html%/g,"");d=d.replace(/%html%/g,"");return{toolbargroup:p,toolbarmore:d}}function Y(){$.prochartcache.get(h.parent,".toolbar-adv",".tlb-item-group")&&$.prochartcache.get(h.parent,".toolbar-adv",".tlb-item-group").each(function(){var a=$(this);"block"==a.find(".tlb-button-groups").css("display")&&R(a)})}function Z(){$.prochartcache.get(h.parent,".toolbar-adv",".tlb-more")&&$.prochartcache.get(h.parent,".toolbar-adv",".tlb-more").each(function(){var a=
$(this),d=$(this).find("button.button-more");"block"==a.find(".tlb-more-items").css("display")&&Q(d)})}function R(a){var d=a.find(">.button-group"),b=$(d).attr("tid");!0!=$(d).hasClass("highlightedIconGroup")&&$(d).addClass("highlightedIconGroup");for(var d=null,c=0;c<A.length;c++)if(A[c].id==b){d=A[c].group;break}if(null!=d)switch(d.type){case "menu":aa(a,d);break;case "tooltip":ba(a,d)}}function S(a){var d=a.find(">.button-group"),b=$(d).attr("tid");$(d).removeClass("highlightedIconGroup");a.find(".highlightedIconGroup").removeClass("highlightedIconGroup");
for(var d=null,c=0;c<A.length;c++)if(A[c].id==b){d=A[c].group;break}if(null!=d)switch(d.type){case "menu":ca(a,d);break;case "tooltip":da(a,d)}}function E(a){a=a.closest(".tlb-item-group");S(a)}function F(a){var d=a.closest(".tlb-item-group").find("> .button-group"),b=a.attr("data-localize"),c=a.attr("title");d.attr("data-localize",b).attr("title",c);a.hasClass("caption-button")?(a=a.find(">span").attr("class"),d.find(">span").attr("class",a)):d.html(a.html())}function ba(a,d){var b=a.find(">.tlb-button-groups"),
c=b.find(" > ul"),f=b.find(">.tlb-array"),l=a.find(">.button-group");b.css("visibility","hidden").css("display","block");var k=a.closest(".htmlchart"),e=0,m=0,g=2,n=0,h=0,v=0,m=1,q="",r;"undefined"!=typeof d.spacey&&(g=d.spacey);"undefined"!=typeof d.columns&&(m=d.columns);h=l.outerWidth(!0);n=l.outerHeight(!0);v=parseInt(f.css("border-bottom-width"),10);q=l.offset().left-k.offset().left;r=k.outerWidth()-q;var l=l.offset().top-k.offset().top,k=k.outerHeight()-l,w=0;b.find(">ul").children().each(function(){w<
$(this).outerWidth(!0)&&(w=$(this).outerWidth(!0));e+=$(this).outerWidth(!0)});b.find(">ul").children();0!=m&&(e=w*m);var m=b.outerHeight(),s={};s.width=e+"px";switch(d.possition){case "bottom":s.top=n+g+"px";s.bottom="auto";break;case "top":s.top="auto";s.bottom=n+g+"px";break;case "right":s.right="auto";s.left=h+g+"px";s.top="0px";s.bottom="auto";break;case "left":s.right=h+g+"px",s.left="auto",s.top="0px",s.bottom="auto"}b.css(s);c.css({width:s.width});"undefined"==typeof d.alignh&&(d.alignh="auto");
"undefined"==typeof d.alignv&&(d.alignv="auto");c={};g={};if("top"==d.possition||"bottom"==d.possition)switch(q="auto"==d.alignh?q>e/2&&r>e/2?"center":q>e?"left":r>e?"right":"left":d.alignh,q){case "left":c.right="0px";c.left="auto";g.right="5px";g.left="auto";b.css(c);f.css(g);break;case "right":c.left="0px";c.right="auto";g.left="5px";g.right="auto";b.css(c);f.css(g);break;case "center":c.right=-parseInt(e/2-h/2)+"px",c.left="auto",g.left=e/2-v+"px",g.right="auto",b.css(c),f.css(g)}if("left"==d.possition||
"right"==d.possition)switch(m=b.outerHeight(),q="auto"==d.alignv?l>m/2&&k>m/2?"center":l>m?"top":k>m?"bottom":"top":d.alignv,q){case "top":c.bottom="auto";c.top="0px";g.top="5px";g.bottom="auto";b.css(c);f.css(g);break;case "bottom":c.top="auto";c.bottom="0px";g.bottom="5px";g.top="auto";b.css(c);f.css(g);break;case "center":c.top=-parseInt(m/2-n/2)+"px",c.bottom="auto",g.top=m/2-v+"px",g.bottom="auto",b.css(c),f.css(g)}f={opacity:1};b.css("display","none").css("opacity",0).css("visibility","");switch(d.possition){case "top":b.css({bottom:"15px",
top:"auto"});f.bottom=s.bottom;break;case "bottom":b.css({top:"15px",bottom:"auto"});f.top=s.top;break;case "right":b.css({left:"15px",right:"auto"});f.left=s.left;break;case "left":b.css({right:"15px",left:"auto"}),f.right=s.right}b.show().animate(f,200)}function da(a,d){var b=a.find(">.tlb-button-groups"),c={opacity:0};switch(d.possition){case "top":c.bottom="15";break;case "bottom":c.top="15";break;case "right":c.left=15;break;case "left":c.right=15}b.animate(c,200,function(){b.css("display","none")})}
function ca(a,d){var b=a.find(">.tlb-button-groups"),c={opacity:0};switch(d.possition){case "top":c.bottom="15";break;case "bottom":c.top="15";break;case "right":c.left=15;break;case "left":c.right=15}b.animate(c,200,function(){b.css("display","none")})}function aa(a,d){var b=a.find(">.tlb-button-groups"),c=b.find(">.tlb-array"),f=a.find(">.button-group");b.css("visibility","hidden").css("display","block");var l=a.closest(".htmlchart"),k=0,e=0,m=2,h=0,n=e=0,t=0,k=1,v="",q,r;"undefined"!=typeof d.spacey&&
(m=d.spacey);"undefined"!=typeof d.columns&&(k=d.columns);e=f.outerWidth();h=f.outerHeight();n=parseInt(c.css("border-bottom-width"),10);v=f.offset().left-l.offset().left;q=l.outerWidth()-v;var f=f.offset().top-l.offset().top,l=l.outerHeight()-f,w=0,s=0,B=0,x=0,y=0;b.find("ul button").each(function(){$(this).css({width:"auto","min-width":0});s=$(this).width();B=$(this).outerWidth(!0);s>w&&(w=s,x=B)});b.find("ul .toolbar-adv-label").each(function(){s=$(this).width();B=$(this).outerWidth(!0);y=B-s});
t=w;k*=x;switch(d.possition){case "bottom":b.css({top:"30px"});break;case "top":b.css({bottom:"30px"});break;case "right":b.css({left:"30px"});break;case "left":b.css({right:"30px"})}var u=b.find(".tlb-button-groups-ul");u.css({"max-height":"",overflow:""});r=0;r=g.init.chartcontainer;r=r.offset().top+r.outerHeight(!0);var z=b.outerHeight(!0)-b.height();r=r-u.offset().top-5-z;b.css({width:k+"px"});u.css({"max-height":r+"px",overflow:"auto"});b.find("button").css("width",t);b.find(".loc-horizontal > span.toolbar-adv-space").css("width",
t);b.find(".toolbar-adv-label ").css("width",t-y);u.hasScrollBar()&&(k+=u.widthScrollBar(),b.css({width:k+"px"}));t={};switch(d.possition){case "bottom":t.top=h+m+"px";t.bottom="auto";break;case "top":t.top="auto";t.bottom=h+m+"px";break;case "right":t.right="auto";t.left=e+m+"px";t.top="0px";t.bottom="auto";break;case "left":t.right=e+m+"px",t.left="auto",t.top="0px",t.bottom="auto"}b.css(t);"undefined"==typeof d.alignh&&(d.alignh="auto");"undefined"==typeof d.alignv&&(d.alignv="auto");m={};u={};
if("top"==d.possition||"bottom"==d.possition)switch(v="auto"==d.alignh?v+e/2>k/2&&q+e/2>k/2?"center":v+e/2>k?"left":q+e/2>k?"right":"center":d.alignh,v){case "left":m.right="0px";m.left="auto";u.right="5px";u.left="auto";b.css(m);c.css(u);break;case "right":m.left="0px";m.right="auto";u.left="5px";u.right="auto";b.css(m);c.css(u);break;case "center":m.right=-parseInt(k/2-e/2)+"px",m.left="auto",u.left=k/2-n+"px",u.right="auto",b.css(m),c.css(u)}if("left"==d.possition||"right"==d.possition)switch(e=
b.outerHeight(),v="auto"==d.alignv?f>e/2&&l>e/2?"center":f>e?"top":l>e?"bottom":"top":d.alignv,v){case "top":m.bottom="auto";m.top="0px";u.top="5px";u.bottom="auto";b.css(m);c.css(u);break;case "bottom":m.top="auto";m.bottom="0px";u.bottom="5px";u.top="auto";b.css(m);c.css(u);break;case "center":m.top=-parseInt(e/2-h/2)+"px",m.bottom="auto",u.top=e/2-n+"px",u.bottom="auto",b.css(m),c.css(u)}c={opacity:1};switch(d.possition){case "top":b.css({bottom:"15px",top:"auto"});c.bottom=t.bottom;break;case "bottom":c.top=
t.top;b.css({top:"15px",bottom:"auto"});break;case "right":b.css({left:"15px",right:"auto"});c.left=t.left;break;case "left":b.css({right:"15px",left:"auto"}),c.right=t.right}b.css("display","none").css("opacity",0).css("visibility","");b.show().animate(c,200)}function Q(a){var d=a.closest(".toolbar-adv"),b=d.attr("tid"),b=H(b).more,c=d.find(".tlb-more-items");c.css("visibility","hidden").css("display","block");var f=d.closest(".htmlchart"),d=c.find(".tlb-array"),l=0,k=0,e=2,m=2,h=0,n=k=0,t=0,l=1,
v="",q,r,w;"undefined"!=typeof b.spacey&&(e=b.spacey);"undefined"!=typeof b.spacex&&(m=b.spacex);"undefined"!=typeof b.columns&&(l=b.columns);k=a.outerWidth();h=a.outerHeight();n=parseInt(d.css("border-bottom-width"),10);v=a.offset().left-f.offset().left;q=f.outerWidth()-v;r=a.offset().top-f.offset().top;var f=f.outerHeight()-r,s=0,B=0,x=0,y=0;c.find("ul button ").each(function(){$(this).css({width:"auto","min-width":0});B=$(this).outerWidth();x=$(this).outerWidth(!0);B>s&&(s=B,y=x)});t=s;l*=y;c.css("width",
l);switch(b.possition){case "bottom":c.css({top:"30px"});break;case "top":c.css({bottom:"30px"});break;case "right":c.css({left:"30px"});break;case "left":c.css({right:"30px"})}var u=c.find(".tlb-button-groups-ul");u.css({"max-height":"",overflow:"",display:"block"});w=0;w=g.init.chartcontainer;var z=w.offset().top+w.outerHeight(!0),A=c.outerHeight(!0)-c.height();w=b.alignv&&"bottom"==b.alignv?Math.abs(w.offset().top-a.offset().top-5-A):z-u.offset().top-5-A;c.css({width:l+"px"});u.css({"max-height":w+
"px",overflow:"auto"});c.find("button").css({width:t});u.hasScrollBar()&&(l+=u.widthScrollBar(),c.css({width:l+"px"}));a={};"undefined"==typeof b.possition&&(b.possition="bottom");switch(b.possition){case "bottom":a.top=h+e+"px";a.bottom="auto";break;case "top":a.top="auto";a.bottom=h+e+"px";break;case "right":a.right="auto";a.left=k+m+"px";a.top="0px";a.bottom="auto";break;case "left":a.right=k+m+"px",a.left="auto",a.top="0px",a.bottom="auto"}c.css(a);"undefined"==typeof b.alignh&&(b.alignh="auto");
"undefined"==typeof b.alignv&&(b.alignv="auto");e={};m={};if("top"==b.possition||"bottom"==b.possition)switch(v="auto"==b.alignh?v>l/2&&q>l/2?"center":v>l?"left":q>l?"right":"left":b.alignh,v){case "left":e.right="0px";e.left="auto";m.right="5px";m.left="auto";c.css(e);d.css(m);break;case "right":e.left="0px";e.right="auto";m.left="5px";m.right="auto";c.css(e);d.css(m);break;case "center":e.right=-parseInt(l/2-k/2)+"px",e.left="auto",m.left=l/2-n+"px",m.right="auto",c.css(e),d.css(m)}if("left"==b.possition||
"right"==b.possition)switch(k=c.outerHeight(),v="auto"==b.alignv?r>k/2&&f>k/2?"center":r>k?"top":f>k?"bottom":"top":b.alignv,v){case "top":e.bottom="auto";e.top="0px";m.top="5px";m.bottom="auto";c.css(e);d.css(m);break;case "bottom":e.top="auto";e.bottom="0px";m.bottom="5px";m.top="auto";c.css(e);d.css(m);break;case "center":e.top=-parseInt(k/2-h/2)+"px",e.bottom="auto",m.top=k/2-n+"px",m.bottom="auto",c.css(e),d.css(m)}c.find(" >ul").css({width:l});c.find(" >ul >li").css({width:t,overflow:"hidden"});
d={opacity:1};c.css("display","none").css("opacity",0).css("visibility","");switch(b.possition){case "top":c.css({bottom:"15px",top:"auto"});d.bottom=a.bottom;break;case "bottom":c.css({top:"15px",bottom:"auto"});d.top=a.top;break;case "right":c.css({left:"15px",right:"auto"});d.left=a.left;break;case "left":c.css({right:"15px",left:"auto"}),d.right=a.right}c.show().animate(d,200)}function D(a){a=a.closest(".toolbar-adv");var d=a.attr("tid"),d=H(d).more,b=a.find(".tlb-more-items");"undefined"==typeof d.possition&&
(d.possition="bottom");a={opacity:0};switch(d.possition){case "top":a.bottom="15";break;case "bottom":a.top="15";break;case "right":a.left=15;break;case "left":a.right=15}b.animate(a,200,function(){b.css("display","none")})}function ea(a,d){$(h.parent).find(".toolbar-adv").each(function(){"rtl"==d?$(this).hasClass("dir-rtl")||$(this).addClass("dir-rtl"):$(this).removeClass("dir-rtl")})}function z(){$.prochartcache.get(h.parent,".toolbar-adv")&&$.prochartcache.get(h.parent,".toolbar-adv").each(function(a){a=
$.prochartcache.get($(this));var d=a.attr("tid"),d=H(d);if(null!=d)switch(d.location){case "vertical":fa(a,d);break;case "horizontal":T(a,d);default:T(a,d)}})}function T(a,d){for(var b=[],c=a.children(),f=0,l=c.length;f<l;f++){var k=$(c[f]),e;e=k;e=e.hasClass("tlb-caption")?"tlb-caption":e.hasClass("tlb-item")?"tlb-item":e.hasClass("tlb-space")?"tlb-space":e.hasClass("tlb-more")?"tlb-more":"none";var m=!0;k.find(">").hasClass("hideobj")&&(m=!1);"tlb-more"==e&&(m=!1);b.push({li:k,width:k.outerWidth(!0),
type:e,show:m})}f=a.width();e=0;m=d.more;c=!1;"undefined"==typeof m&&(m={captionview:!0,spaceview:!0},c=!0);for(var l=!1,k=c?0:g.apiinit.fn.get("toolbar","iconMoreSizeWidth"),h=0,n=b.length;h<n;h++)c=b[h],e+=c.width;h=e>f&&!1==m.captionview;e=e>f&&!1==m.captionview;m=0;for(n=b.length;m<n;m++)switch(c=b[m],c.type){case "tlb-caption":c.show=h?!1:!0;break;case "tlb-space":c.show=e?!1:!0}m=e=0;for(h=b.length;m<h;m++)c=b[m],c.show&&(e+=c.width);e>f&&(l=!0,f-=k);e=k=0;for(m=b.length;e<m;e++)c=b[e],c.show&&
(k+=c.width,k>f&&(c.show=!1)),"tlb-more"==c.type&&l&&(c.show=!0);f=0;for(l=b.length;f<l;f++)c=b[f],c.tid="tlb-item"==c.type?c.li.find("> button").attr("tid"):null;l=a.find(".tlb-more-item button");f=[];c=0;for(k=l.length;c<k;c++)e=$(l[c]),m=e.attr("tid"),f.push({item:e,tid:m,show:!1});k=0;for(e=b.length;k<e;k++)if(c=b[k],"tlb-item"==c.type&&!1==c.show)for(m=0,h=f.length;m<h;m++)if(f[m].tid==c.tid){f[m].show=!0;break}k=a.parent();$(document.createDocumentFragment()).append(a);e=0;for(m=b.length;e<
m;e++)c=b[e],c.show?$(c.li).removeClass("hide-tlb-item"):$(c.li).addClass("hide-tlb-item");$.prochartcache.get(a,".tlb-more-item")&&$.prochartcache.get(a,".tlb-more-item").addClass("hide-more-item");b=0;for(c=l.length;b<c;b++)!0==f[b].show&&f[b].item.parent().removeClass("hide-more-item");k.append(a)}function fa(a,d){function b(b){$(b).addClass("hide-tlb-item");var c=$(b).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+c+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+
c+"']").parent().removeClass("hide-more-item");$(b).hasClass("tlb-item-group")&&f(b)}function c(b){$(b).removeClass("hide-tlb-item");var c=$(b).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+c+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+c+"']").parent().addClass("hide-more-item");$(b).hasClass("tlb-item-group")&&l(b)}function f(b){$(b).find(".tlb-item").each(function(){var b=$(this).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+
b+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+b+"']").parent().removeClass("hide-more-item")})}function l(b){$(b).find(".tlb-item").each(function(){var b=$(this).find("button").attr("tid");$.prochartcache.get(a,".tlb-more-item button[tid^='"+b+"']")&&$.prochartcache.get(a,".tlb-more-item button[tid^='"+b+"']").parent().addClass("hide-more-item")})}var k=a.parent().outerWidth(),e=a.parent().outerHeight();if("undefined"==typeof k||null==k)k=a.width();if("undefined"==typeof e||null==
e)e=a.height();var h=0,p=0,n=0,t=null,v=0,q=d.more,r=!1;"undefined"==typeof q&&(q={captionview:!0,spaceview:!0},r=!0);var w=g.apiinit.fn.get("toolbar","iconMoreSizeWidth");!0==r&&(w=0);a.find("> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){h+=$(this).outerHeight(!0);p+=$(this).outerWidth(!0);p>k&&(p=0)});p=0;h>e&&!1==q.captionview?$.prochartcache.get(a,"> .tlb-caption")&&$.prochartcache.get(a,"> .tlb-caption").addClass("hide-tlb-item"):$.prochartcache.get(a,"> .tlb-caption")&&$.prochartcache.get(a,
"> .tlb-caption").removeClass("hide-tlb-item");h>e&&!1==q.spaceview?$.prochartcache.get(a,"> .tlb-space")&&$.prochartcache.get(a,"> .tlb-space").addClass("hide-tlb-item"):$.prochartcache.get(a,"> .tlb-space")&&$.prochartcache.get(a,"> .tlb-space").removeClass("hide-tlb-item");$.prochartcache.get(a,"> .tlb-item, > .tlb-caption, > .tlb-space")&&$.prochartcache.get(a,"> .tlb-item, > .tlb-caption, > .tlb-space").each(function(){$(this).hasClass("tlb-caption")&&(h>e&&!1==q.captionview?$(this).addClass("hide-tlb-item"):
(n+=$(this).outerHeight(!0),p=0,$(this).removeClass("hide-tlb-item").css("width",k)));$(this).hasClass("tlb-space")&&($(this).hasClass("loc-horizontal")?!1==q.spaceview?$(this).addClass("hide-tlb-item").css("width",k):(n+=$(this).outerHeight(!0),p=0,n>e?$(this).addClass("hide-tlb-item").css("width",k):$(this).removeClass("hide-tlb-item").css("width",k)):h>e&&!1==q.spaceview?$(this).addClass("hide-tlb-item"):(p+=$(this).outerWidth(!0),p>e-w?$(this).addClass("hide-tlb-item"):$(this).removeClass("hide-tlb-item")));
$(this).hasClass("tlb-item")&&(n+$(this).outerHeight(!0)>e&&(b(this),v=1),n+$(this).outerHeight(!0)<=e&&(p+=$(this).outerWidth(!0),p<k?(0==p&&(n+=$(this).outerHeight(!0)),t=this,n+=$(this).outerHeight(!0),c(this)):(p=$(this).outerWidth(!0),n>e?(b(this),v=1):(t=this,n+=$(this).outerHeight(!0),c(this)))))});null!=t&&1==v&&!1==r?(b(t),a.find(".tlb-more").css("display","block").insertAfter(t)):a.find(".tlb-more").css("display","none")}function G(a){if("undefined"==typeof a||null==a)return"";for(var d=
0;d<g.init.timeclassmirror.length;d++)if(g.init.timeclassmirror[d].time==a.toLowerCase()||g.init.timeclassmirror[d].time==a.toUpperCase())return g.init.timeclassmirror[d].css;return""}function H(a){for(var d=g.currenlayout.toolbars,b=0;b<d.length;b++){var c=d[b];if(c.id==a)return c}return null}var h={},g=U;g.toolbaradvobj=h;h.mycache={};var C=/=""/g,W=g.api.debug.getLogger("prochart.gui.toolbar"),A=[];h.gui={viewToolbarTop:function(a){!1==g.guiinit.cache&&(new Date).getTime();h.parent=a;V();"undefined"!=
typeof g.localizationobj&&g.localizationobj.gui.updateFromDataLang(a)},viewTimeFrameButton:function(a,d){var b=$.prochartcache.get(h.parent,".tlb-item button[tid^='"+a+"']"),c=$.prochartcache.get(h.parent,".tlb-more-item button[tid^='"+a+"']");if(b||c){switch(d){case "1":case 1:b&&b.removeClass("hideobj");c&&c.removeClass("hideobj");break;case 0:case "0":b&&b.addClass("hideobj"),c&&c.addClass("hideobj")}z()}},viewTimeFrameButtons:function(a){if(0!=a.length){for(var d=0;d<a.length;d++){var b=a[d],
c=$.prochartcache.get(h.parent,".tlb-item button[tid^='"+b.id+"']"),f=$.prochartcache.get(h.parent,".tlb-more-item button[tid^='"+b.id+"']");if(c||f)switch(b.f){case "1":case 1:c&&c.removeClass("hideobj");f&&f.removeClass("hideobj");break;case 0:case "0":c&&c.addClass("hideobj"),f&&f.addClass("hideobj")}}z()}},selectedTimeFrameButton:function(a){if("undefined"!=typeof a&&"null"!=a){$.prochartcache.get(h.parent,".change-timeframe")&&$.prochartcache.get(h.parent,".change-timeframe").removeClass("button-selected");
var d=$.prochartcache.get(h.parent,".change-timeframe[tid|='"+a+"']");d&&d.addClass("button-selected");$.prochartcache.get(h.parent,".group-button-timescale")&&$.prochartcache.get(h.parent,".group-button-timescale").each(function(){var b=$(this);b.hasClass("timeframe-text-type")?x.texts.hasOwnProperty(a)&&b.html(x.texts[a]):b.hasClass("timeframe-icon-type")?x.icons.hasOwnProperty(a)&&b.html(x.icons[a]):b.hasClass("timeframe-caption-type")&&x.captions.hasOwnProperty(a)&&b.html(x.captions[a]);try{g.localizationobj.gui.setLocalizationForElement(b)}catch(c){}})}},
selectedChartTypeButton:function(a){if("undefined"!=typeof a&&"null"!=a){$.prochartcache.get(h.parent,".change-typechart")&&$.prochartcache.get(h.parent,".change-typechart").removeClass("button-selected");var d=$.prochartcache.get(h.parent,".change-typechart[tid^='"+a+"']");d&&d.addClass("button-selected");$.prochartcache.get(h.parent,".group-button-charttype")&&d&&$.prochartcache.get(h.parent,".group-button-charttype").each(function(){d.hasClass("caption-button")?($(this).attr("data-localize",d.attr("data-localize")),
$(this).attr("title",d.attr("title")),$(this).find(">span").attr("class",d.find(">span").attr("class"))):$(this).html(d.html())})}},viewTypeChartButton:function(a,d){var b=$.prochartcache.get(h.parent,".tlb-item button[tid|='"+a+"']"),c=$.prochartcache.get(h.parent,".tlb-more-item button[tid|='"+a+"']");if(b||c){switch(d){case 1:b&&b.removeClass("hideobj");c&&c.removeClass("hideobj");break;case 0:b&&b.addClass("hideobj"),c&&c.addClass("hideobj")}z()}},viewTypeChartButtons:function(a){if(0!=a.length){for(var d=
0;d<a.length;d++){var b=a[d],c=$.prochartcache.get(h.parent,".tlb-item button[tid|='"+b.id+"']"),f=$.prochartcache.get(h.parent,".tlb-more-item button[tid|='"+b.id+"']");if(c||f)switch(b.f){case 1:case "1":c&&c.removeClass("hideobj");f&&f.removeClass("hideobj");break;case 0:case "0":c&&c.addClass("hideobj"),f&&f.addClass("hideobj")}}z()}},updateTimesScale:function(a){"undefined"!=typeof a&&null!=a&&("undefined"!=typeof a.timescales&&null!=a.timescales?($.prochartcache.get(h.parent,".change-timeframe")&&
$.prochartcache.get(h.parent,".change-timeframe").addClass("disabled"),a.timescales.forEach(function(a){$.prochartcache.get(h.parent,'.change-timeframe[tid="'+a+'"]')&&$.prochartcache.get(h.parent,'.change-timeframe[tid="'+a+'"]').removeClass("disabled")})):$.prochartcache.get(h.parent,".change-timeframe")&&$.prochartcache.get(h.parent,".change-timeframe").removeClass("disabled"))},adjustSize:z,changeLocalization:function(a,d){z();ea(a,d);Y();Z()},hideopengroup:function(){$.prochartcache.get(h.parent,
".tlb-button-groups")&&$.prochartcache.get(h.parent,".tlb-button-groups").css("display","none");$.prochartcache.get(h.parent,".tlb-more-items")&&$.prochartcache.get(h.parent,".tlb-more-items").css("display","none")},changeIcon:function(a,d){$.prochartcache.get(h.parent,"button.icon-button","> span."+a)&&$.prochartcache.get(h.parent,"button.icon-button","> span."+a).removeClass(a).addClass(d)}};var x={icons:{},captions:{},texts:{}};return h};
function ProChart_InitMain(a){a.init={};a.init.version="3.3";a.init.chartcontainer=null;a.init.chartcontainerid=null;a.init.layoutuid=null;a.init.uuid=null;a.init.debug={};a.init.debug.cache=!0;a.init.debug.yeapTimeout=6E4;a.init.size={};a.init.size.mainWidth=900;a.init.size.mainHeight=900;a.init.size.mainPaddingTop=0;a.init.size.mainPaddingBottom=0;a.init.size.mainPaddingLeft=0;a.init.size.mainPaddingRight=0;a.init.size.width=900;a.init.size.height=500;a.init.size.subheight=220;a.init.size.paddingTop=
0;a.init.size.paddingBottom=0;a.init.size.paddingPriceBottom=0;a.init.size.paddingLeft=0;a.init.size.paddingRight=0;a.init.size.zoomWidth=900;a.init.size.zoomWidthRangebutton=10;a.init.size.autoInnerWidth=!0;a.init.size.autoInnerHeight=!1;a.init.size.fixedSize=!1;a.init.size.fullpage=!1;a.init.size.fullscreen=!1;a.init.size.fullPaddingTop=10;a.init.size.fullPaddingBottom=10;a.init.size.fullPaddingLeft=10;a.init.size.fullPaddingRight=10;a.init.size.panels={unit:"px",padding:[0,0,0,0],spiltmargin:[0,
0,0,0],margin:[0,0,0,0],price:{grow:4,axisy:{view:!0,width:55,right:0,padding:[0,0,0,0]},axisx:{view:!0,height:27,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:27,padding:[0,0,0,0]},legend:{view:!0,height:"inherit",top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:43,right:65,top:2},zoom:{view:!0,height:40,bottom:40,width:185,left:"center",right:"center",padding:[0,0,0,0]}},study:{grow:1,axisy:{top:0,bottom:0,view:!0,width:55,right:0,padding:[0,
0,0,0]},axisx:{view:!1,height:0,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:0,padding:[0,0,0,0]},legend:{view:!0,height:16,top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:43,right:65,top:2}},splitterx:{grow:0,height:0,main:{top:-6,view:!0,left:0,right:0,bottom:0,height:10,padding:[0,0,0,0]}},signal:{grow:1,main:{top:18,left:0,right:0,bottom:0,padding:[0,0,0,0]},legend:{view:!0,height:16,top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,
height:16,width:43,right:65,top:2},alert:{view:!0,top:0,left:0,bottom:0,right:0,padding:[0,0,0,0]}}};a.init.guiblock={header:{visible:!0},toolbox:{visible:!0,tools:{visible:!0},trade:{visible:!0},draw:{visible:!0},signal:{visible:!0},view:{visible:!0}},menu:{visible:!0,majors:{visible:!0},template:{visible:!0},charttype:{visible:!0},timeframe:{visible:!0},studies:{visible:!0},compares:{visible:!0},localization:{visible:!0},about:{visible:!0},help:{visible:!0}},toolbar:{visible:!0,charttype:{visible:!0},
timeframe:{visible:!0},systems:{visible:!0},other:{visible:!1}},zoom:{visible:!0,zoomtoolbar:{visible:!0}}};a.init.LayoutName="layout1";a.init.TemplateName="";a.init.templates=[];a.init.localization=[{id:"en",name:"English",dir:"ltr"},{id:"fr",name:"Fran\u00e7ais",dir:"ltr"},{id:"es",name:"Espa\u00f1ol",dir:"ltr"},{id:"ae",name:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",dir:"rlt"},{id:"de",name:"Deutsch",dir:"ltr"},{id:"gr",name:"\u03b5\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",dir:"ltr"},{id:"he",
name:"\u05e2\u05d1\u05e8\u05d9\u05ea",dir:"rtl"},{id:"it",name:"Italiano",dir:"ltr"},{id:"jp",name:"\u65e5\u672c\u4eba",dir:"ltr"},{id:"nl",name:"Nederlands",dir:"ltr"},{id:"pl",name:"Polski",dir:"ltr"},{id:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",dir:"ltr"},{id:"pt",name:"Portugu\u00eas",dir:"ltr"},{id:"tr",name:"T\u00fcrk",dir:"ltr"}];a.init.majors=[{name:"EUR/USD",id:"EUR/USD",description:"EUR/USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},
{name:"EUR/GBP",id:"EUR/GBP",description:"EUR/GBP",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR/JPY",id:"EUR/JPY",description:"EUR/JPY",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD/JPY",id:"USD/JPY",description:"USD/JPYD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"AUD/CAD",id:"AUD/CAD",description:"AUD/CAD",exchangeID:"forexex1",marketID:"forex",
precision:4,timescales:null,defaultTimescale:null},{name:"DKK/INRD",id:"DKK/INR",description:"DKK/INR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR",id:"EUR",description:"EUR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD",id:"USD",description:"USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"INR",id:"INR",description:"INR",exchangeID:"forexex1",
marketID:"forex",precision:4,timescales:null,defaultTimescale:null}];a.init.majors2=[{name:"EUR/USD",id:"EUR/USD",description:"EUR/USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR/GBP",id:"EUR/GBP",description:"EUR/GBP",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR/JPY",id:"EUR/JPY",description:"EUR/JPY",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},
{name:"USD/JPY",id:"USD/JPY",description:"USD/JPYD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"AUD/CAD",id:"AUD/CAD",description:"AUD/CAD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"DKK/INRD",id:"DKK/INR",description:"DKK/INR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"EUR",id:"EUR",description:"EUR",exchangeID:"forexex1",marketID:"forex",
precision:4,timescales:null,defaultTimescale:null},{name:"USD",id:"USD",description:"USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"INR",id:"INR",description:"INR",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null}];a.init.charttype=[{n:"Candlesticks",id:"candlesticks",f:1},{n:"Hollow Candlesticks",id:"hollowcandlesticks",f:0},{n:"HeikinAshi",id:"heikinashi",f:1},{n:"Ohlc",id:"ohlc",f:0},{n:"Hlc",id:"hlc",
f:1},{n:"Line",id:"line",f:1},{n:"Area",id:"area",f:1},{n:"Dots",id:"dots",f:1},{n:"Histogram",id:"histogram",f:0},{n:"Columns",id:"columns",f:0},{n:"Line And Dots",id:"linedots",f:0}];a.init.timeframe=[{n:"tick",id:"1T",f:1,t1:"t",t2:""},{n:"1 Minute",id:"1M",f:1,t1:"1",t2:"m"},{n:"5 Minutes",id:"5M",f:1,t1:"5",t2:"m"},{n:"10 Minutes",id:"10M",f:1,t1:"10",t2:"m"},{n:"15 Minutes",id:"15M",f:0,t1:"15",t2:"m"},{n:"30 Minutes",id:"30M",f:1,t1:"30",t2:"m"},{n:"1 Hour",id:"60M",f:1,t1:"1",t2:"h"},{n:"2 Hours",
id:"2H",f:1,t1:"2",t2:"h"},{n:"4 Hours",id:"4H",f:1,t1:"4",t2:"h"},{n:"6 Hours",id:"6H",f:0,t1:"6",t2:"h"},{n:"8 Hours",id:"8H",f:0,t1:"8",t2:"h"},{n:"10 Hours",id:"10H",f:0,t1:"10",t2:"h"},{n:"12 Hours",id:"12H",f:0,t1:"12",t2:"h"},{n:"14 Hours",id:"14H",f:0,t1:"14",t2:"h"},{n:"1 Day",id:"1D",f:1,t1:"1",t2:"d"},{n:"1 Week",id:"1W",f:1,t1:"1",t2:"w"},{n:"1 Month",id:"1N",f:0,t1:"1",t2:"M"},{n:"3 Months",id:"3N",f:0,t1:"3",t2:"M"},{n:"6 Months",id:"6N",f:0,t1:"6",t2:"M"},{n:"1 Year",id:"1Y",f:0,t1:"1",
t2:"y"}];a.init.autotimescale=[{id:"all",timescale:"1N",unit:"y",count:100,n:"all",d:""},{id:"5y",timescale:"1W",unit:"y",count:5,n:"5y",d:""},{id:"1y",timescale:"1D",unit:"y",count:1,n:"1y",d:""},{id:"ytd",timescale:"1D",unit:"y",count:1,trim:"1Y",n:"1Y",d:""},{id:"6m",timescale:"8H",unit:"m",count:6,n:"6M",d:""},{id:"3m",timescale:"2H",unit:"m",count:3,n:"3M",d:""},{id:"1m",timescale:"30M",unit:"m",count:1,n:"1M",d:""},{id:"5d",timescale:"5M",unit:"d",count:5,n:"5M",d:""},{id:"1d",timescale:"1M",
unit:"d",count:1,n:"1M",d:""}];a.init.indicators=[{n:"Relative Strength Index",id:"rsi",d:"Relative Strength Index"},{n:"Moving Average Convergence Divergence",id:"macd",d:"Moving Average Convergence Divergence"},{n:"Bollinger Bands",id:"bbands",d:"Bollinger Bands"},{n:"Simple Moving Average",id:"sma",d:"Simple Moving Average"}];a.init.chart={};a.init.chart.Symbol="EUR/USD";a.init.chart.TimeScale="10M";a.init.chart.PriceChartType="candlesticks";a.init.chart.DefaultMarket="Currencies";a.init.chart.ValueFieldType=
"bid";a.init.chart.AllowChangingSymbols="true";a.init.chart.AllowChangingTimeScale="true";a.init.chart.ShowBarData="false";a.init.chart.MarkersCornerRadius=2;a.init.chart.ShowSymbolAndUpdate="true";a.init.chart.NumVisibleBars=100;a.init.chart.NumBars=500;a.init.chart.MinBars=0;a.init.chart.DataServiceURL="http://jquotes.advinion.com/wsJSDataV2.asmx";a.init.chart.SymbolsServiceURL="http://jquotes.advinion.com/wsJSSymbolsV1.asmx";a.init.chart.TemplatesServiceURL="http://templatesdata.advinion.com/wsTemplates.asmx";
a.init.chart.DisplayBarNumber="true";a.init.chart.StudiesToLoad=[];a.init.chart.TemplateRequestTimeout=5E3;a.init.localizationlang="en";a.init.preload={segments:15,width:7,length:20,space:7,steps:14,speed:1.6,align:"center",valign:"center",padding:4,outside:!1};a.init.preloadsmall={segments:12,width:2,length:3,space:1,steps:3,speed:1.5,align:"center",valign:"center",padding:2,outside:!1};a.init.preloadmedium={segments:12,width:4,length:5,space:0,steps:3,speed:1.5,align:"center",valign:"center",padding:4,
outside:!1};a.init.compares=[{name:"EUR/USD",id:"EUR/USD",description:"EUR/USD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD/JPY",id:"USD/JPY",description:"USD/JPY",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"AUD/CAD",id:"AUD/CAD",description:"AUD/CAD",exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null},{name:"USD/GBP",id:"USD/GBP",description:"USD/GBP",
exchangeID:"forexex1",marketID:"forex",precision:4,timescales:null,defaultTimescale:null}];a.init.comparecharttype=[{n:"Line",id:"line",f:0},{n:"Area",id:"area",f:0},{n:"Dots",id:"dots",f:0},{n:"Histogram",id:"histogram",f:0},{n:"Columns",id:"columns",f:0}];a.init.initfromserver={initExcenges:!1,initMarkets:!1,initMajors:!1,initCompares:!1};a.init.exchanges=[{id:"forexex1",name:"Advinion FEx",description:"Demo Forex Exchange"}];a.init.markets=[{id:"forex",name:"Forex",description:"Demo Forex Market",
exchangeID:"forexex1"},{id:"forexidx",name:"Forex Indices",description:"Demo Forex Indices Market",exchangeID:"forexex1"}];a.init.countries=[{id:"uk",name:"England",description:"",exchangeID:null},{id:"it",name:"Italy",description:"",exchangeID:null},{id:"sp",name:"Spain",description:"",exchangeID:null},{id:"jp",name:"Japan",description:"",exchangeID:null}];a.init.messeagebox={};a.init.gui={majorsAdd:function(b,d,c,f,g,h,k,l){var e={};e.id=c;e.name=f;e.exchangeID=b;e.description=g;e.marketID=d;e.precision=
h;e.timescales=k;e.defaultTimescale=l;a.init.majors.push(e);try{!0==a.bi.status&&a.bi.addt2BI("add major to favorite : "+f)}catch(m){}try{if(typeof a.events.chart.onChangeMajorsFavorites==typeof Function)a.events.chart.onChangeMajorsFavorites(a.init.majors,c,"add")}catch(n){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setMajorsFavorites(a.init.majors)}catch(p){}},majorsAddObj:function(b){a.init.majors.push(b);try{!0==a.bi.status&&a.bi.addt2BI("add major to favorite : "+b.name)}catch(d){}try{if(typeof a.events.chart.onChangeMajorsFavorites==
typeof Function)a.events.chart.onChangeMajorsFavorites(a.init.majors,b.id,"add")}catch(c){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setMajorsFavorites(a.init.majors)}catch(f){}},majorsRemove:function(b){if("undefined"!=typeof a.init.majors)for(var d=a.init.majors,c=0;c<d.length;c++)d[c].id==b&&d.splice(c,1);try{!0==a.bi.status&&a.bi.addt2BI("remove  major from favorite: "+b)}catch(f){}try{if(typeof a.events.chart.onChangeMajorsFavorites==typeof Function)a.events.chart.onChangeMajorsFavorites(a.init.majors,
b,"remove")}catch(g){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setMajorsFavorites(a.init.majors)}catch(h){}},majorsReturn:function(b){if("undefined"!=typeof a.init.majors)for(var d=a.init.majors,c=0;c<d.length;c++)if(d[c].id==b)return d[c];if("undefined"!=typeof a.init.majors2)for(d=a.init.majors2,c=0;c<d.length;c++)if(d[c].id==b)return d[c];return null},comparesAdd:function(b,d,c,f,g,h,k,l){var e={};e.id=c;e.name=f;e.exchangeID=b;e.description=g;e.marketID=d;e.precision=h;e.timescales=
k;e.defaultTimescale=l;a.init.compares.push(e);try{!0==a.bi.status&&a.bi.addt2BI("add major to compare: "+f)}catch(m){}try{if(typeof a.events.chart.onChangeComparesFavorites==typeof Function)a.events.chart.onChangeComparesFavorites(a.init.compares,c,"add")}catch(n){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setCompareFavorites(a.init.compares)}catch(p){}},comparesAddObj:function(b){a.init.compares.push(b);try{!0==a.bi.status&&a.bi.addt2BI("add major to compare: "+b.name)}catch(d){}try{if(typeof a.events.chart.onChangeComparesFavorites==
typeof Function)a.events.chart.onChangeComparesFavorites(a.init.compares,b.id,"add")}catch(c){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setCompareFavorites(a.init.compares)}catch(f){}},comparesRemove:function(b){if("undefined"!=typeof a.init.compares)for(var d=a.init.compares,c=0;c<d.length;c++)d[c].id==b&&d.splice(c,1);try{!0==a.bi.status&&a.bi.addt2BI("remove  major from compare: "+b)}catch(f){}try{if(typeof a.events.chart.onChangeComparesFavorites==typeof Function)a.events.chart.onChangeComparesFavorites(a.init.compares,
b,"remove")}catch(g){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setCompareFavorites(a.init.compares)}catch(h){}},comparesReturn:function(b){if("undefined"!=typeof a.init.compares)for(var d=a.init.compares,c=0;c<d.length;c++)if(d[c].id==b)return d[c];return null},majorsUpdate:function(b){a.init.majors=b},majors2Update:function(b){a.init.majors2=b},compareUpdate:function(b){a.init.compares=b},indicatorsUpdate:function(b){a.init.indicators=b},marketsUpdate:function(b){a.init.markets=
b},exchangesUpdate:function(b){a.init.exchanges=b},countriesUpdate:function(b){a.init.countries=b},inficatorsAddObj:function(b){try{a.init.indicators.push(b)}catch(d){}try{!0==a.bi.status&&a.bi.addt2BI("add indicator to favorite : "+name)}catch(c){}try{if(typeof a.events.chart.onChangeIndicatorsFavorites==typeof Function)a.events.chart.onChangeIndicatorsFavorites(a.init.indicators,b.id,"add")}catch(f){}},indicatorsRemove:function(b){if("undefined"!=typeof a.init.indicators)for(var d=a.init.indicators,
c=0;c<d.length;c++)d[c].id==b&&d.splice(c,1);try{!0==a.bi.status&&a.bi.addt2BI("remove indicator from favorite : "+name)}catch(f){}try{if(typeof a.events.chart.onChangeIndicatorsFavorites==typeof Function)a.events.chart.onChangeIndicatorsFavorites(a.init.indicators,b,"remove")}catch(g){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setIndicatorsFavorites(a.init.indicators)}catch(h){}},indicatorsAdd:function(b,d,c){try{var f={};f.id=b;f.n=d;f.c=c;a.init.indicators.push(f)}catch(g){}try{!0==
a.bi.status&&a.bi.addt2BI("add indicator to favorite : "+name)}catch(h){}try{if(typeof a.events.chart.onChangeIndicatorsFavorites==typeof Function)a.events.chart.onChangeIndicatorsFavorites(a.init.indicators,b,"add")}catch(k){}try{"undefined"!=typeof a.api.localstorage&&a.api.localstorage.setIndicatorsFavorites(a.init.indicators)}catch(l){}}};a.init.toolbars=[{name:"toolbar",id:"toolba1",more:{auto:!0,captionview:!0,spaceview:!0},items:[{type:"caption",id:"title-charttype",caption:"Chart type:",localize:"tools.charttype.title"},
{type:"button-group-charttype",id:"charttype"},{type:"caption",id:"title-timeframe",caption:"Time frame:",localize:"tools.timescale.title"},{type:"button-group-timeframe",id:"timeframe"},{type:"caption",id:"",caption:"General:",localize:"tools.general.title"},{type:"button",id:"global-props",localize:"tools.general.globalproperties",css:"config-icon",caption:"Global properties"},{type:"button",id:"screen-shot",localize:"tools.general.screenshot",css:"camera",caption:"Screen shot"},{type:"button",
id:"full-screen",localize:"tools.general.fullscreen",css:"full-screen zoom-full",caption:"Full screen"}]},{name:"toolbar",id:"toolba2",more:{auto:!0,captionview:!1,spaceview:!0},items:[{type:"caption",id:"title-tools",caption:"Tools:",localize:"tools.tools.title"},{type:"button",id:"pointer",localize:"tools.tools.pointer",css:"pointer1-icon",caption:"Pointer"},{type:"button",id:"delete_selected",localize:"tools.tools.delete_selected",css:"delete-icon",caption:"Delete Selected Shape"},{type:"button",
id:"delete_allshapes",localize:"tools.tools.delete_allshapes",css:"delete-shapes",caption:"Delete All Shapes"},{type:"button",id:"delete_allstudies",localize:"tools.tools.delete_allstudies",css:"delete-indicators",caption:"Delete All Studies"},{type:"button",id:"duplicate_delected",localize:"tools.tools.duplicate_delected",css:"many-windows-icon",caption:"Duplicate Selected Shape"},{type:"item",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"space",id:"space1"},
{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",css:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_raylineright",css:"vertical-line",caption:"Vertical Line"},{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",css:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",css:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",
css:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",localize:"tools.draw.draw_line",css:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",css:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",css:"parallel-lines",caption:"Parallel line"},{type:"space",id:"space2"},{type:"button-group",id:"group-4",localize:"tools.draw.draw_raylineright",css:"ray-line",caption:"ray-line",group:{type:"tooltip",
possition:"bottom",css:""},items:[{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",css:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_raylineright",css:"vertical-line",caption:"Vertical Line"},{type:"button",id:"draw_hline",localize:"tools.draw.draw_hline",css:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",css:"extended-line",caption:"Extended line"},{type:"button",
id:"draw_arrow",localize:"tools.draw.draw_arrow",css:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",localize:"tools.draw.draw_line",css:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",css:"measure",caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",css:"parallel-lines",caption:"Parallel line"},{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",css:"rectangle",caption:"Rectangle"},{type:"button",
id:"draw_arc",localize:"tools.draw.draw_arc",css:"draw-arc",caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",css:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_circle",css:"circle",caption:"Circle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",css:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",css:"text-tool",caption:"Text"}]},{type:"space",id:"space3"},{type:"button",
id:"draw_rect",localize:"tools.draw.draw_rect",css:"rectangle",caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",css:"draw-arc",caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",css:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_circle",css:"circle",caption:"Circle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",css:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",
localize:"tools.draw.draw_text",css:"text-tool",caption:"Text"},{type:"button",id:"draw_fork",localize:"tools.draw.draw_fork",css:"adrews_pitchfork",caption:"Andrews Pitchfork"},{type:"button",id:"draw_fibretrace",localize:"tools.draw.draw_fibretrace",css:"fib-retracement",caption:"Fibo.Retracement"},{type:"button",id:"draw_fibtimezones",localize:"tools.draw.draw_fibtimezones",css:"fib-timezone",caption:"Fibo.Time-zones"},{type:"button",id:"draw_fibfan",localize:"tools.draw.draw_fibfan",css:"fib-fan",
caption:"Fibonacci fan"},{type:"button",id:"draw_fibarc",localize:"tools.draw.draw_fibarc",css:"fib-arc",caption:"Fibonacci arc"},{type:"button",id:"draw_ganfan",localize:"tools.draw.draw_ganfan",css:"fib-gannfan",caption:"Gann fan"},{type:"button",id:"draw_fibextension",localize:"tools.draw.draw_fibextension",css:"fib-extension",caption:"Fibo. extension"},{type:"button",id:"draw_fibtimeextension",localize:"tools.draw.draw_fibtimeextension",css:"fib-time-extentsion",caption:"Time-extension"},{type:"button",
id:"draw_gansquare",localize:"tools.draw.draw_gansquare",css:"fib-gann-square",caption:"Gann square"},{type:"button",id:"draw_linearreg",localize:"tools.draw.draw_linearreg",css:"regression-channel",caption:"Linear regression"},{type:"button",id:"draw_cycleline",localize:"tools.draw.draw_cycleline",css:"cycle-lines",caption:"Cycle lines"},{type:"space",id:"space3"},{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"button",id:"zoom_out",localize:"tools.view.zoom_out",
css:"zoom-minus",caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",css:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",css:"zoom-right",caption:"Zoom right"},{type:"button",id:"zoom-all",localize:"tools.view.zoom_all",css:"zoom-all",caption:"View all"},{type:"button",id:"zoom-default",localize:"zoom_default",css:"zoom-default",caption:"Default zoom"}]},{name:"toolbar",id:"toolba3",more:{auto:!0,captionview:!1,spaceview:!0},
items:[{type:"button-group",id:"group-1",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Pointer",group:{type:"menu",possition:"bottom",css:""},items:[{type:"item",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"item",id:"zoom_out",localize:"tools.view.zoom_out",css:"zoom-minus",caption:"Zoom-out"},{type:"item",id:"zoom_left",localize:"tools.view.zoom_left",css:"zoom-left",caption:"Zoom left"},{type:"item",id:"zoom_right",localize:"tools.view.zoom_right",
css:"zoom-right",caption:"Zoom right"},{type:"item",id:"zoom-all",localize:"tools.view.zoom_all",css:"zoom-all",caption:"View all"},{type:"item",id:"zoom-default",localize:"zoom_default",css:"zoom-default",caption:"Default zoom"}]},{type:"button-group",id:"group-2",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Pointer",group:{type:"tooltip",possition:"bottom",css:""},items:[{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",css:"zoom-plus",caption:"Zoom-in"},{type:"button",id:"zoom_out",
localize:"tools.view.zoom_out",css:"zoom-minus",caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",css:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",css:"zoom-right",caption:"Zoom right"},{type:"button",id:"zoom-all",localize:"tools.view.zoom_all",css:"zoom-all",caption:"View all"},{type:"button",id:"zoom-default",localize:"zoom_default",css:"zoom-default",caption:"Default zoom"}]},{type:"button-group",id:"group-3",
localize:"menu.charttype.heikinashi",css:"heikinashi",caption:"Heikinashi",group:{type:"tooltip",possition:"bottom",css:""},items:[{type:"button-group-charttype",id:"charttype"}]}]}];a.init.timeclassmirror=[{time:"1T",css:"tick"},{time:"1M",css:"_1m"},{time:"5M",css:"_5m"},{time:"10M",css:"_10m"},{time:"15M",css:"_15m"},{time:"30M",css:"_30m"},{time:"60M",css:"_1h"},{time:"2H",css:"_2h"},{time:"4H",css:"_4h"},{time:"6H",css:"_6h"},{time:"8H",css:"_8h"},{time:"10H",css:"_10h"},{time:"12H",css:"_12h"},
{time:"14H",css:"_14h"},{time:"1D",css:"_1d"},{time:"1W",css:"_7d"},{time:"1N",css:"_1mon"},{time:"3N",css:"_1q"},{time:"6N",css:"_6mon"},{time:"1Y",css:"_1y"}]};
function ProChart_Loader(){var t,u,v,p,q;function w(c){var b=".min";a.init.minifier||(b="");m=a.init.rootpath+(0==a.init.corepath.length?"/ChartCore/js/6.4.2":a.init.corepath);x.push({key:"requirejs",url:a.init.rootpath+"/ChartUI/js.common/loader/requirejs/require"+b+".js?"+a.init.requirejs_version});$.when(y(),z()).done(function(b,e){if(!0==a.init.getrequirejs)A(c);else switch(n=requirejs,c){case "default":l();break;case "combine":r();break;case "combinecompact":r();break;default:l()}})}function A(c){"undefined"==
typeof c&&(c="default");var b=x[0].url;if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest,e=$.Deferred();d.open("get",b);d.typeofcloader=c;d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status||304==d.status){var a=d.responseText;eval.call(null,a);n=requirejs;switch(d.typeofcloader){case "default":l();break;case "combine":r();break;case "combinecompact":r();break;default:l()}e.resolve(a)}else console.log("Error"+d.status)};d.send()}else $.ajax({url:x[0].url,contentType:"application/javascript",
async:!0,global:!0,cache:!0,typeofcloader:c,dataType:"script",type:"get",success:function(a){"undefined"!=typeof a&&eval(a);n=requirejs;switch(this.typeofcloader){case "default":l();break;case "combine":r();break;case "combinecompact":r();break;default:l()}},error:function(){return null}})}function l(){if("undefined"!=typeof n&&null!=n){var c=".min";a.init.minifier||(c="");var b=!1==a.init.cache?"?"+Math.floor(102320*Math.random()+1):"",d="v"+p+"k"+q,e="c"+t+"b"+u;window.GlobProchartObject.versionbuild.guiversion=
d;window.GlobProchartObject.versionbuild.coreversion=e;for(var g=v,b=""==b?"?"+d:b+d,d={coreinit:m+"/core.chart.init"+c+".js"+b+e,corelogic:m+"/core.logic"+c+".js"+b+e},f=1;f<=g;f++)d["core"+f]=m+"/core.module"+f+c+".js"+b+e;!0==a.init.onlyliteload&&(a.guiinit.trade=!1,a.guiinit.menu=!1,a.guiinit.toolbox=!1,a.guiinit.zoom=!1,a.guiinit.system=!1,a.guiinit.header=!0,a.guiinit.indicators=!1,a.guiinit.toolbar=!1,a.guiinit.draw=!1,a.guiinit.community=!1,a.guiinit.messages=!1,a.guiinit.signals=!1);e={"jquery.ui":a.init.rootpath+
"/ChartUI/js.common/jquery.ui.1.10.3/jquery-ui"+c+".js"+b,panels:a.init.rootpath+"/ChartUI/gui/panels/prochart.gui.panels"+c+".js"+b,"activity.indicator":a.init.rootpath+"/ChartUI/js.common/activity.indicator/activity-indicator"+c+".js"+b,splitter_horizontal:a.init.rootpath+"/ChartUI/js.common/utils/prochart.splitter.horizontal"+c+".js"+b,"jquery.resize":a.init.rootpath+"/ChartUI/js.common/detect.resize/prochart.jquery.resize"+c+".js"+b,localization:a.init.rootpath+"/ChartUI/localization/prochart.gui.localization"+
c+".js"+b,init:a.init.rootpath+"/ChartUI/init/prochart.init"+c+".js"+b,action:a.init.rootpath+"/ChartUI/actions/prochart.gui.actions"+c+".js"+b,header:a.init.rootpath+"/ChartUI/gui/header/prochart.gui.header"+c+".js"+b,alert:a.init.rootpath+"/ChartUI/gui/alert/prochart.gui.alert"+c+".js"+b,msg:a.init.rootpath+"/ChartUI/gui/alert/prochart.gui.msg"+c+".js"+b,menu:a.init.rootpath+"/ChartUI/gui/menu/prochart.gui.menu"+c+".js"+b,community:a.init.rootpath+"/ChartUI/gui/community/prochart.gui.community"+
c+".js"+b,messages:a.init.rootpath+"/ChartUI/gui/msg/prochart.gui.messages"+c+".js"+b,signals:a.init.rootpath+"/ChartUI/gui/signals/prochart.gui.signals"+c+".js"+b,compare:a.init.rootpath+"/ChartUI/gui/ta/prochart.gui.compare"+c+".js"+b,indicators:a.init.rootpath+"/ChartUI/gui/indicators/prochart.gui.indicators"+c+".js"+b,system:a.init.rootpath+"/ChartUI/gui/systems/prochart.gui.systems"+c+".js"+b,props:a.init.rootpath+"/ChartUI/gui/props/prochart.gui.props"+c+".js"+b,customerkey:m+"/CustomerKey"+
c+".js"+b,trade:a.init.rootpath+"/ChartUI/gui/trade/prochart.gui.trade"+c+".js"+b,color:a.init.rootpath+"/ChartUI/gui/color/spectrum"+c+".js"+b,utils_numeric:a.init.rootpath+"/ChartUI/js.common/utils/prochart.jquery.numeric"+c+".js"+b,utils_cache:a.init.rootpath+"/ChartUI/js.common/utils/prochart.jquery.cache"+c+".js"+b,utils_station:a.init.rootpath+"/ChartUI/js.common/utils/prochart.station"+c+".js"+b,utils_common:a.init.rootpath+"/ChartUI/js.common/utils/prochart.common.utils"+c+".js"+b,utils_hoverintent:a.init.rootpath+
"/ChartUI/js.common/utils/prochart.jquery.hoverIntent"+c+".js"+b,leked:a.init.rootpath+"/ChartCore/js/prochart.leked"+c+".js"+b,hook_lz:a.init.rootpath+"/ChartCore/js/lzstring"+c+".js"+b,hook_event:a.init.rootpath+"/ChartCore/js/hookevent"+c+".js"+b,draw:a.init.rootpath+"/ChartUI/gui/draw/prochart.gui.draw"+c+".js"+b,zoom:a.init.rootpath+"/ChartUI/gui/zoom/prochart.gui.zoom"+c+".js"+b,"prochart.class":a.init.rootpath+"/ChartUI/init/prochart.class"+c+".js"+b,patterns:a.init.rootpath+"/ChartUI/gui/patterns/prochart.patterns"+
c+".js"+b,layout:a.init.rootpath+"/ChartUI/layouts/prochart.gui.layout"+c+".js"+b,"templates.sys":a.init.rootpath+"/ChartUI/layouts/prochart.templates.sys.min.js"+b,preload:a.init.rootpath+"/ChartUI/preload/prochart.gui.preload"+c+".js"+b,"init.adv":a.init.rootpath+"/ChartUI/init/prochart.init.adv.min.js"+b,toolbaradv:a.init.rootpath+"/ChartUI/gui/toolbar/prochart.gui.toolbar.adv"+c+".js"+b,api:a.init.rootpath+"/ChartAPI/prochart.api"+c+".js"+b,"api.events":a.init.rootpath+"/ChartAPI/prochart.api.events"+
c+".js"+b,"api.init":a.init.rootpath+"/ChartAPI/prochart.api.init"+c+".js"+b,"api.actions":a.init.rootpath+"/ChartAPI/prochart.api.actions"+c+".js"+b,"api.commondata":a.init.rootpath+"/ChartAPI/prochart.api.commondata"+c+".js"+b,"api.bi":a.init.rootpath+"/ChartAPI/prochart.api.bi"+c+".js"+b,"api.props":a.init.rootpath+"/ChartAPI/prochart.api.props"+c+".js"+b,"api.header":a.init.rootpath+"/ChartUI/gui/header/prochart.api.header"+c+".js"+b,"api.layout":a.init.rootpath+"/ChartUI/layouts/prochart.api.layout"+
c+".js"+b,"api.menu":a.init.rootpath+"/ChartUI/gui/menu/prochart.api.menu"+c+".js"+b,"api.zoom":a.init.rootpath+"/ChartUI/gui/zoom/prochart.api.zoom"+c+".js"+b,"api.toolbar":a.init.rootpath+"/ChartUI/gui/toolbar/prochart.api.toolbar"+c+".js"+b,"api.chart":a.init.rootpath+"/ChartUI/gui/chart/prochart.api.chart"+c+".js"+b,"api.panels":a.init.rootpath+"/ChartUI/gui/panels/prochart.api.panels"+c+".js"+b,"api.alert":a.init.rootpath+"/ChartUI/gui/alert/prochart.api.alert"+c+".js"+b,plugs:a.init.rootpath+
"/Plugs/prochart.gui.plugs"+c+".js"+b};g={"jquery.ui.css":a.init.rootpath+"/ChartUI/css/jquery-ui.custom"+c+".css"+b,"main.css":a.init.rootpath+"/ChartUI/css/prochart.main"+c+".css"+b,"jquery.css":a.init.rootpath+"/ChartUI/css/prochart.jquery"+c+".css"+b,"dialogs.css":a.init.rootpath+"/ChartUI/css/prochart.dialogs"+c+".css"+b,"chart.css":a.init.rootpath+"/ChartUI/css/prochart.chart"+c+".css"+b,"color.css":a.init.rootpath+"/ChartUI/css/spectrum"+c+".css"+b,"plugs.css":a.init.rootpath+"/Plugs/plugs"+
c+".css"+b,"zoom.css":a.init.rootpath+"/ChartUI/gui/zoom/js.library/iThing2"+c+".css"+b,"iconchart.css":a.init.rootpath+"/ChartUI/css/prochart.iconchart"+c+".css"+b};!1==a.guiinit.trade&&delete e.trade;!1==a.guiinit.toolbox&&delete e.toolbox;!1==a.guiinit.menu&&delete e.menu;!1==a.guiinit.toolbar&&delete e.toolbar;!1==a.guiinit.zoom&&(delete e.zoom,delete e.zoom_slider,delete e["zoom.css"]);!1==a.guiinit.system&&delete e.system;!1==a.guiinit.draw&&delete e.draw;!1==a.guiinit.props&&delete e.props;
!1==a.guiinit.header&&delete e.header;!1==a.guiinit.indicators&&delete e.indicators;!1==a.guiinit.community&&delete e.community;!1==a.guiinit.compare&&delete e.compare;!1==a.guiinit.messages&&delete e.messages;!1==a.guiinit.indicators&!1==a.guiinit.draw&!1==a.guiinit.props&&(delete e.color,delete e["dialogs.css"],delete e["color.css"]);e.touch=a.init.rootpath+"/ChartUI/js.common/touch/touch.surface"+c+".js"+b;window.JSON||(e.json2=a.init.rootpath+"/ChartUI/js.common/jons2/jons2"+c+".js"+b);if(0==
a.init.layoutcss.length)g["layout1.css"]=a.init.rootpath+"/ChartUI/layouts/layout1/layout"+c+".css"+b;else for(f=0;f<a.init.layoutcss.length;f++)g["layout"+f+".css"]=a.init.rootpath+"/ChartUI/layouts/"+a.init.layoutcss[f]+"/layout"+c+".css"+b;for(f=0;f<a.init.loadertemplates.length;f++){var k=a.init.loadertemplates[f],h=k.template,k=k.layout;if("undefined"!=typeof h&&"undefined"!=typeof k){var l=a.init.rootpath+"/ChartUI/layouts/"+k+"/templates/"+h+"/template"+c+".css"+b;s(g,l)||(g[k+"_"+h]=l)}}for(var f=
0;f<a.init.loaderjs.length;f++)c=a.init.loaderjs[f],s(e,c)||(e["js.temp"+f]=c);for(c=0;c<a.init.loadercss.length;c++)b=a.init.loadercss[c],s(g,b)||(g["css.temp."+c]=b);for(c=0;c<a.init.loaderremovefrom.length;c++)b=a.init.loaderremovefrom[c],"undefined"!=typeof e[b.key]&&delete e[b.key];for(c=0;c<a.init.loaderremovefrom.length;c++)b=a.init.loaderremovefrom[c],"undefined"!=typeof e[b]&&delete e[b];c=Object.keys(g);for(b=0;b<c.length;b++)f=c[b],h=document.createElement("link"),h.type="text/css",h.rel=
"stylesheet",h.href=g[f],document.getElementsByTagName("head")[0].appendChild(h);g={};c=Object.keys(d);for(b=0;b<c.length;b++)f=c[b],"undefined"==typeof d[f]&&console.log(f),g[f]=d[f];d=Object.keys(e);for(c=0;c<d.length;c++)b=d[c],"undefined"==typeof e[b]&&console.log(b),g[b]=e[b];requirejs.config({paths:g,shim:{core1:{deps:["core2"]},core4:{deps:["core1"]},core3:{deps:["core1"]},core7:{deps:["core1"]}}});e=Object.keys(g);require(e,function(){"function"==typeof a.LoaderInitComplete&&$(document).ready(function(){a.LoaderInitComplete()})})}}
function r(){if("undefined"!=typeof n&&null!=n){var c=".min";a.init.minifier||(c="");var b=!1==a.init.cache?"?"+Math.floor(3100*Math.random()+1):"",d="v"+p+"k"+q,e="c"+t+"b"+u;window.GlobProchartObject.versionbuild.guiversion=d;window.GlobProchartObject.versionbuild.coreversion=e;var b=""==b?"?"+d:b+d,e={"core.combine":(0==a.init.corecombine_folder_path.length?m:a.init.corecombine_folder_path)+"/"+(0==a.init.corecombine_file_name.length?"core.combine"+c+".js":a.init.corecombine_file_name)+b+e},g=
"";a.init.gzip&&(g=".gz");d={"jquery.ui":a.init.rootpath+"/ChartUI/js.common/jquery.ui.1.10.3/jquery-ui"+c+".js"+b,"gui.js.combine":(0==a.init.guicombine_folder_path.length?a.init.rootpath+"/ChartUI/init":a.init.objectLoader.init.guicombine_folder_path)+"/"+(0==a.init.guicombine_file_name.length?"gui.combine"+c+".js":a.init.guicombine_file_name)+b};g={"gui.css.combine":a.init.rootpath+"/ChartUI/css/gui.combine"+c+".css"+g+b};if(0==a.init.layoutcss.length)g["layout1.css"]=a.init.rootpath+"/ChartUI/layouts/layout1/layout"+
c+".css"+b;else for(var f=0;f<a.init.layoutcss.length;f++)g["layout"+f+".css"]=a.init.rootpath+"/ChartUI/layouts/"+a.init.layoutcss[f]+"/layout"+c+".css"+b;for(f=0;f<a.init.loadertemplates.length;f++){var k=a.init.loadertemplates[f],h=k.template,k=k.layout;if("undefined"!=typeof h&&"undefined"!=typeof k){var l=a.init.rootpath+"/ChartUI/layouts/"+k+"/templates/"+h+"/template"+c+".css"+b;s(g,l)||(g[k+"_"+h]=l)}}for(c=0;c<a.init.loaderjs.length;c++)b=a.init.loaderjs[c],s(d,b)||(d["js.temp"+c]=b);for(c=
0;c<a.init.loadercss.length;c++)b=a.init.loadercss[c],s(d,b)||(g["css.temp."+c]=b);for(c=0;c<a.init.loaderremovefrom.length;c++)b=a.init.loaderremovefrom[c],"undefined"!=typeof d[b.key]&&delete d[b.key];c=Object.keys(g);for(b=0;b<c.length;b++)f=c[b],h=document.createElement("link"),h.type="text/css",h.rel="stylesheet",h.href=g[f],document.getElementsByTagName("head")[0].appendChild(h);g={};c=Object.keys(e);for(b=0;b<c.length;b++)f=c[b],"undefined"==typeof e[f]&&console.log(f),g[f]=e[f];e=Object.keys(d);
for(c=0;c<e.length;c++)b=e[c],"undefined"==typeof d[b]&&console.log(b),g[b]=d[b];requirejs.config({paths:g});d=Object.keys(g);require(d,function(){"function"==typeof a.LoaderInitComplete&&$(document).ready(function(){a.LoaderInitComplete()})})}}function s(a,b){for(var d in a)if(a[d]==b)return!0;return!1}function z(){var c=""==a.init.timeupdateVersiongui?"?"+(new Date).getTime():"?"+a.init.timeupdateVersiongui,c=a.init.rootpath+"/ChartUI/version/prochart.version.json.js"+c,b=$.Deferred();if(a.navigator.XMLHttpRequest()){var d=
new XMLHttpRequest;d.open("get",c);d.onreadystatechange=function(){if(4==d.readyState&&(200==d.status||304==d.status)){var a=$.parseJSON(d.responseText);$.parseJSON(d.responseText);p=a.guiversionbuild;q=a.customerversion;b.resolve(a)}};d.send()}else $.ajax({url:c,dataType:"json",data:{},type:"get",async:!0,error:function(a,c){q=p="0"}}).done(function(a){p=a.guiversionbuild;q=a.customerversion;b.resolve(a)});return b.promise()}function y(){var c=""==a.init.timeupdateVersioncore?"?"+(new Date).getTime():
"?"+a.init.timeupdateVersioncore,c=m+"/version/prochart.version.json.js"+c;$.support.cors=!0;var b=$.Deferred();if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",c);d.onreadystatechange=function(){if(4==d.readyState&&(200==d.status||304==d.status)){var a=$.parseJSON(d.responseText);$.parseJSON(d.responseText);t=a.guiversionbuild;u=a.customerversion;v=a.files;b.resolve(a)}};d.send()}else $.ajax({type:"GET",url:c,processData:!0,data:{},async:!0,dataType:"json",error:function(a,
c){}}).done(function(a){t=a.guiversionbuild;u=a.customerversion;v=a.files;b.resolve(a)});return b.promise()}var a={LoaderInit:function(a){$.support.cors=!0;jQuery.support.cors=!0;w("default")},LoaderInitCombine:function(){$.support.cors=!0;jQuery.support.cors=!0;w("combine")},LoaderInitCombineCompact:function(){$.support.cors=!0;jQuery.support.cors=!0;w("combine")},LoaderInitComplete:null,init:{rootpath:"",corepath:"",minifier:!0,loadercss:[],loaderjs:[],loadertemplates:[],yepnope_errorTimeout:12E4,
cache:!0,onlyliteload:!1,layoutcss:[],loaderreplacepath:[],loaderremovefrom:[],timeupdateVersiongui:"",timeupdateVersioncore:"",gzip:!1,getrequirejs:!0,requirejs_version:"2.3.5",corecombine_folder_path:"",corecombine_file_name:"",guicombine_folder_path:"",guicombine_file_name:""}};"undefined"==typeof window.GlobProchartObject&&(window.GlobProchartObject={},Object.defineProperty(window.GlobProchartObject,"versionbuild",{value:{},writable:!1,configurable:!1}),Object.defineProperty(window.GlobProchartObject.versionbuild,
"guiversion",{value:null,writable:!0,configurable:!1}),Object.defineProperty(window.GlobProchartObject.versionbuild,"guiversionbuild",{value:null,writable:!0,configurable:!1}),Object.defineProperty(window.GlobProchartObject.versionbuild,"guicustomerversion",{value:null,writable:!0,configurable:!1}),Object.defineProperty(window.GlobProchartObject.versionbuild,"coreversion",{value:null,writable:!0,configurable:!1}),Object.defineProperty(window.GlobProchartObject.versionbuild,"coreversionbuild",{value:null,
writable:!0,configurable:!1}),Object.defineProperty(window.GlobProchartObject.versionbuild,"corecustomerversion",{value:null,writable:!0,configurable:!1}),Object.defineProperty(window.GlobProchartObject.versionbuild,"corefiles",{value:null,writable:!0,configurable:!1}));u=t="pr";v=0;q=p="pr";var n=null;Object.defineProperty(a,"versionbuild",{value:{},writable:!1,configurable:!1});Object.defineProperties(a.versionbuild,{guiversion:{get:function(){return window.GlobProchartObject.versionbuild.guiversion}},
coreversion:{get:function(){return window.GlobProchartObject.versionbuild.coreversion}}});a.guiinit={trade:!0,menu:!0,toolbox:!0,toolbar:!0,zoom:!0,system:!0,draw:!0,color:!0,header:!0,indicators:!0,props:!0,community:!0,compare:!0,signals:!0,messages:!0,versionIE:10};a.navigator={properties:{detectIE:!1,xdrMinIE:10,alvaysXMLHttpRequest:!1},XMLHttpRequest:function(){return"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest&&a.navigator.properties.detectIE<=
a.navigator.properties.xdrMinIE||a.navigator.properties.alvaysXMLHttpRequest}};var x=[],m="";a.navigator.properties.detectIE=function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1}();return a};
function ProCHART(c,d,e){"undefined"!=typeof c&&(this.container=c);"undefined"!=typeof d&&(this.layout=d);"undefined"!=typeof e&&(this.template=e)}
ProCHART.prototype={container:"",layout:"",template:"",layoutFile:null,width:900,height:800,create:function(){createChart(this)},timeframes:null,indicators:null,majors:null,timescale:null,lacalization:{languages:null,curent:"en"},debug:{level:0},combine:!1,charttype:"candlesticks",symbol:"USD/EUR",showBarData:"true",showCandleCloseCounter:"true",events:{eventLoaderInit:null,eventLoaderComplete:null,eventLayoutReadyComplete:null,eventLayoutInitComplete:null,eventChartCreateComplete:null,eventlayoutResized:null},
chartobject:null,rootpathLayout:null,rootpathLoader:null};
function createChart(c){function d(){a.chartobject.api.layout.set("width||height",a.width+"||"+a.height);"function"==typeof a.events.eventLayoutReadyComplete&&a.events.eventLayoutReadyComplete(a.chartobject)}function e(){a.chartobject.api.debug.level=a.debug.level;a.chartobject.apiinit.chart.ShowBarData=a.showBarData;a.chartobject.apiinit.chart.PriceChartType=a.charttype;a.chartobject.apiinit.chart.Symbol=a.symbol;a.chartobject.apiinit.chart.ShowCandleCloseCounter=a.showCandleCloseCounter;null!==
a.timescale&&(a.chartobject.apiinit.chart.TimeScale=a.timescale);"function"==typeof a.events.eventLayoutInitComplete&&a.events.eventLayoutInitComplete(a.chartobject)}function f(){a.chartobject.apiactions.chart.GetSymbolsByGroup({guiparent:null,guigroup:"majors"},"majors");a.chartobject.apiactions.chart.GetCountries({guiparent:null});a.chartobject.apiactions.chart.GetMarkets({guiparent:null});a.chartobject.apiactions.chart.GetExchanges({guiparent:null});"function"==typeof a.events.eventChartCreateComplete&&
a.events.eventChartCreateComplete(a.chartobject)}var b=ProChart_Loader(),a=c;b.LoaderInitComplete=function(){a.chartobject=ProChart_InitLayout(a.container,a.layout,a.template);null!==a.timeframes&&(a.chartobject.apiinit.timeframes=a.timeframes);null!==a.lacalization.languages&&(a.chartobject.apiinit.localization.languages=a.lacalization.languages);a.chartobject.apiinit.localization.current="en";null!==a.indicators&&(a.chartobject.apiinit.indicators=a.indicators);null!==a.majors&&(a.chartobject.apiinit.majors=
a.majors);null!==a.compares&&(a.chartobject.apiinit.compares=a.compares);null!==a.layoutFile&&(a.chartobject.apiinit.customLayoutFile=a.layoutFile);null!==a.rootpathLayout&&(a.chartobject.apiinit.rootpathLayout=a.rootpathLayout);"function"==typeof a.events.eventLoaderComplete&&a.events.eventLoaderComplete(a.chartobject);a.chartobject.events.layout.readyComplete=d;a.chartobject.gui.loadLayout();a.chartobject.events.layout.initComplete=e;a.chartobject.events.chart.createComplete=f};null!==a.rootpathLoader&&
(b.init.rootpath=a.rootpathLayout);"function"==typeof a.events.eventLoaderInit&&a.events.eventLoaderInit(b);!0==a.combine?b.LoaderInitCombine():b.LoaderInit()};
function ProChart_InitPatterns(E,h){function F(){function a(a){l(a)}function b(a){try{window.GlobProchartObject[d]=a}catch(c){}if("undefined"!=typeof h){var m=prochartstation.get(h,"allpatterns");if(null!=m){for(var k=0;k<m.length;k++){var e=m[k];if("function"==typeof e["function"])e["function"](a);e.deferred.resolve()}prochartstation.del(h,"allpatterns")}}}var c=!1==g.guiinit.cache?"?"+g.version.gui.name+(new Date).getTime():"?"+g.version.gui.name,d=g.guiinit.rootpath+"/ChartUI/gui/patterns/allpatterns.combine.min.htm"+
c,k=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[d])return l(window.GlobProchartObject[d]),k.resolve()}catch(f){}if("undefined"!=typeof h)if(null==prochartstation.get(h,"allpatterns"))prochartstation.set(h,"allpatterns",[]);else return c={deferred:k,"function":a},prochartstation.get(h,"allpatterns").push(c),k.promise();if(g.navigator.XMLHttpRequest()){var e=new XMLHttpRequest;e.open("get",d);e.onload=function(){var a=e.responseText;l(a);b(a);k.resolve(a)};e.send()}else $.ajax({type:"GET",
async:!0,dataType:"html",url:d}).done(function(a){l(a);b(a);k.resolve(a)});return k.promise()}function G(){function a(a){n(a)}function b(a){try{window.GlobProchartObject[d]=a}catch(c){}if("undefined"!=typeof h){var e=prochartstation.get(h,"custompanelpattern");if(null!=e){for(var m=0;m<e.length;m++){var f=e[m];if("function"==typeof f["function"])f["function"](a);f.deferred.resolve()}prochartstation.del(h,"custompanelpattern")}}}var c=!1==g.guiinit.cache?"?"+g.version.gui.name+(new Date).getTime():
"?"+g.version.gui.name,d=g.apiinit.customPanelPatternFile+c,e=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[d])return n(window.GlobProchartObject[d]),e.resolve()}catch(f){}if("undefined"!=typeof h)if(null==prochartstation.get(h,"custompanelpattern"))prochartstation.set(h,"custompanelpattern",[]);else return c={deferred:e,"function":a},prochartstation.get(h,"custompanelpattern").push(c),e.promise();if(g.navigator.XMLHttpRequest()){var l=new XMLHttpRequest;l.open("get",d);l.onload=
function(){var a=l.responseText;n(a);b(a);e.resolve(a)};l.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:d}).done(function(a){n(a);b(a);e.resolve(a)});return e.promise()}function l(a){p(a);q(a);r(a);s(a);t(a);u(a);v(a);n(a);w(a);x(a);y(a);z(a);b.trade.form=c(a,"trade_form");A(a);B(a);C(a)}function C(a){b.common.eye_orange=c(a,"eye-orange-pattern");b.common.alreadyread=!0}function p(a){b.alert.alert=c(a,"alert-pattern");b.alert.alertgroup=c(a,"alert-group-pattern");b.alert.alert_news_article=
c(a,"alert-news-article");b.alert.alert_candlesticks_patterns=c(a,"alert-candlesticks-patterns");b.alert.alert_dividends=c(a,"alert-dividends");b.alert.alert_economic=c(a,"alert-economic");b.alert.alert_splitstock=c(a,"alert-splitstock");b.alert.alert_investing=c(a,"alert-investing");b.alert.alreadyread=!0}function q(a){b.msg.alert=c(a,"msg-pattern");b.msg.alreadyread=!0}function r(a){b.community.form=c(a,"comminity-form");b.community.alreadyread=!0}function s(a){b.draw.fan=c(a,"fan-pattern");b.draw.square_trendline=
c(a,"square-trendline-pattern");b.draw.square_levels=c(a,"square-levels-pattern");b.draw.fiboarc_trendline=c(a,"fiboarc-trendline-pattern");b.draw.fiboarc_levels=c(a,"fiboarc-levels-pattern");b.draw.fibo_trendline=c(a,"fibo-trendline-pattern");b.draw.fibo_levels=c(a,"fibo-levels-pattern");b.draw.fork_trendline=c(a,"fork-trendline-pattern");b.draw.fork_levels=c(a,"fork-levels-pattern");b.draw.linereg_trendline=c(a,"linereg-trendline-pattern");b.draw.linereg_levels=c(a,"linereg-levels-pattern");b.draw.coordinates=
c(a,"coordinates_pattern");b.draw.border_style=c(a,"border-style-pattern");b.draw.shapeform=c(a,"shape-pattern-form");b.draw.fiboform=c(a,"fibo-pattern-form");b.draw.forkform=c(a,"fork-pattern-form");b.draw.circlelineform=c(a,"circleline-pattern-form");b.draw.timezoneform=c(a,"timezone-pattern-form");b.draw.squareform=c(a,"square-pattern-form");b.draw.linearregform=c(a,"linearreg-pattern-form");b.draw.lineform=c(a,"line-pattern-form");b.draw.linearregform=c(a,"linearreg-pattern-form");b.draw.parallelform=
c(a,"parallel-pattern-form");b.draw.textform=c(a,"text-pattern-form");b.draw.vlineform=c(a,"vline-pattern-form");b.draw.fanform=c(a,"fan-pattern-form");b.draw.alreadyread=!0}function t(a){b.header.containter=c(a,"header-container");b.header.searchbutton=c(a,"header-searchbutton");b.header.symboltitle=c(a,"header-symboltitle");b.header.symbolsearch=c(a,"header-symbolsearch");b.header.search_output_list=c(a,"template-search-output-list");b.header.search_main_properties=c(a,"template-search-main-properties");
b.header.search_properties_tabs_label=c(a,"template-search-properties-tabs-label");b.header.search_notfound=c(a,"template-search-notfound");b.header.search_properties_filter_values=c(a,"template-search-properties-filter-values");b.header.timeframe=c(a,"header-timeframe");b.header.lastupdate=c(a,"header-lastupdate");b.header.communic=c(a,"header-communic");b.header.htmlcontainer=c(a,"header-htmlcontainer");b.header.toolbar=c(a,"header-toolbar");b.header.toolbar=b.header.toolbar.replace(/%=""/g,"%")}
function u(a){b.indicators.panelsform=c(a,"panels-container");b.indicators.panelstr=c(a,"panels-tr-container");b.indicators.indicatorform=c(a,"indicator-container");b.indicators.indicator_style=c(a,"indicator-style");b.indicators.indicator_level=c(a,"indicator-level");b.indicators.indicator_source=c(a,"indicator-source");b.indicators.indicator_style_default=c(a,"indicator-style-default");b.indicators.indicator_style_columns=c(a,"indicator-style-columns");b.indicators.indicatorsform=c(a,"indicators-form-pattern");
b.indicators.indicatorsform_row=c(a,"indicarors-form-row-pattern");b.indicators.indicatorsform_favorites_row=c(a,"indicators-form-favorites-row-pattern");b.indicators.indicator_button_settings=c(a,"indicators-button-settings-pattern");b.indicators.alreadyread=1}function v(a){b.menu.containter=c(a,"menu-container");b.menu.menu_item=c(a,"menu-item");b.menu.menu_item_group=c(a,"menu-item-group");b.menu.menu_timeframe=c(a,"menu-timeframe");b.menu.menu_timeframe_text=c(a,"menu-timeframe-text");b.menu.menu_majors=
c(a,"menu-majors");b.menu.menu_majors2=c(a,"menu-majors2");b.menu.menu_charttype=c(a,"menu-charttype");b.menu.menu_indicators=c(a,"menu-indicators");b.menu.menu_compares=c(a,"menu-compares");b.menu.menu_more=c(a,"menu-more");b.menu.menu_localizations=c(a,"menu-localizations");b.menu.menu_item_image=c(a,"menu-item-image");b.menu.menu_more_item=c(a,"menu-more-item");b.menu.menu_more_item_group=c(a,"menu-more-item-group");b.menu.alreadyread=!0}function n(a){b.panels.containter=c(a,"panel_containe");
b.panels.price=c(a,"panel_price");b.panels.study=c(a,"panel_study");b.panels.splitter=c(a,"panel_splitter");b.panels.legend_price=c(a,"legend_price");b.panels.legend_study=c(a,"legend_study");b.panels.legend_compare=c(a,"legend_compare");b.panels.legend_plugin=c(a,"legend_plugin");b.panels.signal=c(a,"signal");b.panels.htmlcontainer=c(a,"htmlcontainer");b.panels.toolbar=c(a,"panels-toolbar");b.panels.price=b.panels.price.replace(/%=""/g,"%");b.panels.study=b.panels.study.replace(/%=""/g,"%")}function w(a){b.props.form=
c(a,"propery-form");b.props.priceonlyform=c(a,"priceonly-form");b.props.alreadyread=!0}function x(a){b.systems.systemsform=c(a,"systems-form");b.systems.systemssaveform=c(a,"systemssave-form");b.systems.systems_list_open=c(a,"system-systems-list-open");b.systems.systems_list_save=c(a,"system-systems-list-save");b.systems.alreadyread=!0}function y(a){b.ta.addform=c(a,"ta_add_form");b.ta.comparesform=c(a,"ta_compares_form");b.ta.detailsform=c(a,"ta_details_form");b.ta.findsymbol=c(a,"find-symbol-pattern");
b.ta.majorsfavorites=c(a,"majors-favorites-pattern");b.ta.majorsfavorites=c(a,"majors-favorites-pattern");b.ta.comparefavorites=c(a,"compare-favorites-pattern");b.ta.alreadyread=!0}function z(a){b.toolbar.containter=c(a,"toolbar_container");b.toolbar.toolbar=c(a,"toolbar_toolbar");b.toolbar.button_timeframe=c(a,"toolbar-button-timeframe");b.toolbar.button_timeframe_text=c(a,"toolbar-button-timeframe-text");b.toolbar.space=c(a,"toolbar-space");b.toolbar.button_charttype=c(a,"toolbar-button-charttype");
b.toolbar.caption=c(a,"toolbar-caption");b.toolbar.button=c(a,"toolbar-button");b.toolbar.button_custom=c(a,"toolbar-button-custom");b.toolbar.toolbar_more=c(a,"toolbar-more");b.toolbar.toolbar_more_item=c(a,"toolbar-more-item");b.toolbar.toolbar_button_group=c(a,"toolbar-button-group");b.toolbar.item=c(a,"toolbar-item");b.toolbar.item_noicon=c(a,"toolbar-item-noicon");b.toolbar.toolbar_more_item_timeframe_text=c(a,"toolbar-more-item-timeframe-text");b.toolbar.toolbar_button_group_timeframe_text=
c(a,"toolbar-button-group-timeframe-text");b.toolbar.toolbar_button_group_text=c(a,"toolbar-button-group-text");b.toolbar.button_timeframe_inner=c(a,"toolbar-button-timeframe-inner");b.toolbar.button_timeframe_text_inner=c(a,"toolbar-button-timeframe-text-inner");b.toolbar.button_timeframe_more_inner=c(a,"toolbar-button-timeframe-more-inner")}function A(a){b.zoom.containter=c(a,"zoom-container");b.zoom.chart_container=c(a,"zoom-chart-container");b.zoom.slider=c(a,"zoom-slider");b.zoom.date_range=
c(a,"zoom-date-range");b.zoom.toolbox=c(a,"zoom-toolbox-pattern")}function B(a){b.plugs.cspattern=c(a,"cspattern-container");b.plugs.fibonacci=c(a,"fibonacci-container");b.plugs.pattern=c(a,"pattern-container");b.plugs.pivot=c(a,"pivot-container");b.plugs.delim=c(a,"delim-container");b.plugs.top=c(a,"top-container");b.plugs.topitem=c(a,"topitem-container")}function H(){var a=$.Deferred();$.when(e("/ChartUI/gui/patterns/alert.patterns.htm","alert"),e("/ChartUI/gui/patterns/community.patterns.htm",
"community"),e("/ChartUI/gui/patterns/draw.patterns.htm","draw"),e("/ChartUI/gui/patterns/header.patterns.htm","header"),e("/ChartUI/gui/patterns/indicators.patterns.htm","indicators"),e("/ChartUI/gui/patterns/menu.patterns.htm","menu"),e("/ChartUI/gui/patterns/msg.patterns.htm","msg"),e("/ChartUI/gui/patterns/panel.patterns.htm","panel"),e("/ChartUI/gui/patterns/props.patterns.htm","props"),e("/ChartUI/gui/patterns/systems.patterns.htm","systems"),e("/ChartUI/gui/patterns/ta.patterns.htm","ta"),
e("/ChartUI/gui/patterns/toolbar.patterns.htm","toolbar"),e("/ChartUI/gui/patterns/trade.patterns.htm","trade"),e("/ChartUI/gui/patterns/zoom.patterns.htm","zoom"),e("/ChartUI/gui/patterns/plugs.patterns.htm","plugs"),e("/ChartUI/gui/patterns/common.patterns.htm","common")).done(function(){a.resolve()});return a.promise()}function e(a,b){var c=!1==g.guiinit.cache?"?"+g.version.gui.name+(new Date).getTime():"?"+g.version.gui.name,c=g.guiinit.rootpath+a+c,d=$.Deferred();if(g.navigator.XMLHttpRequest()){var e=
new XMLHttpRequest;e.open("get",c);e.onload=function(){var a=e.responseText;D(a,b);d.resolve(a)};e.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:c}).done(function(a){D(a,b);d.resolve(a)});return d.promise()}function D(a,d){switch(d){case "alert":p(a);f.debug(d,"pattern   after read");break;case "msg":q(a);f.debug(d,"pattern   after read");break;case "community":r(a);f.debug(d,"pattern   after read");break;case "draw":s(a);f.debug(d,"pattern   after read");break;case "header":t(a);f.debug(d,
"pattern   after read");break;case "indicators":u(a);f.debug(d,"pattern   after read");break;case "menu":v(a);f.debug(d,"pattern   after read");break;case "panel":n(a);f.debug(d,"pattern   after read");break;case "props":w(a);f.debug(d,"pattern   after read");break;case "systems":x(a);f.debug(d,"pattern   after read");break;case "ta":y(a);f.debug(d,"pattern   after read");break;case "toolbar":z(a);f.debug(d,"pattern   after read");break;case "trade":b.trade.form=c(a,"trade_form");f.debug(d,"pattern   after read");
break;case "zoom":A(a);f.debug(d,"pattern   after read");break;case "plugs":B(a);break;case "common":C(a)}}function c(a,b){var c="",d=a.indexOf("<"+b+">"),e=("<"+b+">").length,f=a.indexOf("</"+b+">");-1!=d&&-1!=f&&f>d+e&&(c=a.substring(d+e,f));return c}var g=E,d={};g.patterns=d;var f=g.api.debug.getLogger("prochart.gui.patterns");d.status={alredyloadded:!1};d.gui={initPatterns:function(){var a=$.Deferred();!0==g.apiinit.patterncombine?$.when(F()).done(function(){f.debug(b);a.resolve()}):$.when(H()).done(function(){f.debug(b);
a.resolve()});return a.promise()},initCustomPanelPatterns:function(){var a=$.Deferred();$.when(G()).done(function(){f.debug(b);a.resolve()});return a.promise()}};Object.defineProperty(d.gui,"patterns",{get:function(){return b}});Object.defineProperty(d,"alert",{get:function(){return b.alert},set:function(a){b.alert=a}});Object.defineProperty(d,"chart",{get:function(){return b.chart},set:function(a){b.chart=a}});Object.defineProperty(d,"community",{get:function(){return b.community},set:function(a){b.community=
a}});Object.defineProperty(d,"draw",{get:function(){return b.draw},set:function(a){b.draw=a}});Object.defineProperty(d,"header",{get:function(){return b.header},set:function(a){b.menu=a}});Object.defineProperty(d,"indicators",{get:function(){return b.indicators},set:function(a){b.indicators=a}});Object.defineProperty(d,"menu",{get:function(){return b.menu},set:function(a){b.menu=a}});Object.defineProperty(d,"msg",{get:function(){return b.msg},set:function(a){b.msg=a}});Object.defineProperty(d,"panels",
{get:function(){return b.panels},set:function(a){b.panels=a}});Object.defineProperty(d,"props",{get:function(){return b.props},set:function(a){b.props=a}});Object.defineProperty(d,"signals",{get:function(){return b.signals},set:function(a){b.signals=a}});Object.defineProperty(d,"systems",{get:function(){return b.systems},set:function(a){b.systems=a}});Object.defineProperty(d,"ta",{get:function(){return b.ta},set:function(a){b.ta=a}});Object.defineProperty(d,"toolbar",{get:function(){return b.toolbar},
set:function(a){b.toolbar=a}});Object.defineProperty(d,"trade",{get:function(){return b.trade},set:function(a){b.trade=a}});Object.defineProperty(d,"zoom",{get:function(){return b.zoom},set:function(a){b.zoom=a}});Object.defineProperty(d,"layout",{get:function(){return b.layout},set:function(a){b.layout=a}});Object.defineProperty(d,"plugs",{get:function(){return b.plugs},set:function(a){b.plugs=a}});Object.defineProperty(d,"common",{get:function(){return b.common},set:function(a){b.common=a}});Object.defineProperty(d,
"allpatterns",{get:function(){return jQuery.extend({},b)},set:function(a){b=jQuery.extend({},a);d.status.alredyloadded=!0}});var b={alert:{},chart:{},community:{},draw:{},header:{},indicators:{},menu:{},msg:{},panels:{},props:{},signals:{},systems:{},ta:{},toolbar:{},trade:{},zoom:{},layout:{},plugs:{},common:{}};Function.prototype.extractComment=function(){var a=this.toString(),b=a.indexOf("/*!"),c=a.lastIndexOf("*/");return a.slice(b+3,-(a.length-c))};return d};
function ProChart_InitLayout(Q,w,H,l){function R(){function h(h){d=h;a.layoutlevelinit=d;"undefined"==typeof d.chart&&(d.chart={});"undefined"==typeof d.size&&(d.size={})}function e(a){try{window.GlobProchartObject[k]=a}catch(h){}if("undefined"!=typeof l){var c=prochartstation.get(l,"jsonini");if(null!=c){for(var e=0;e<c.length;e++){var f=c[e];if("function"==typeof f["function"])f["function"](a);f.deferred.resolve()}prochartstation.del(l,"jsonini")}}}var k=a.guiinit.rootpath+"/ChartUI/layouts/"+w+
"/init.json.js"+J,f=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[k])return h(window.GlobProchartObject[k]),f.resolve()}catch(c){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"jsonini"))prochartstation.set(l,"jsonini",[]);else{var g={deferred:f,"function":h};prochartstation.get(l,"jsonini").push(g);return f.promise()}if(a.navigator.XMLHttpRequest()){var b=new XMLHttpRequest;b.open("get",k);b.onload=function(){var a=$.parseJSON(b.responseText);h(a);e(a);f.resolve(a)};
b.send()}else $.ajax({url:k,dataType:"json",data:{},type:"get",async:!0}).done(function(a){h(a);e(a);f.resolve(a)});return f.promise()}function S(){var h=$.Deferred();if(null!=window.GlobProchartObject.versionbuild.guiversion)return a.version.gui.name=window.GlobProchartObject.versionbuild.guiversion,h.resolve();var e=""==a.guiinit.timeupdateVersiongui?"?"+(new Date).getTime():"?"+a.guiinit.timeupdateVersiongui,e=a.guiinit.rootpath+"/ChartUI/version/prochart.version.json.js"+e;if(a.navigator.XMLHttpRequest()){var k=
new XMLHttpRequest;k.open("get",e);k.onload=function(){var e=$.parseJSON(k.responseText);$.parseJSON(k.responseText);a.version.gui.build=e.guiversionbuild;a.version.gui.custom=e.customerversion;a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)};k.send()}else $.ajax({url:e,contentType:"application/javascript",dataType:"json",data:{},type:"get",async:!0,error:function(a,h){}}).done(function(e){a.version.gui.build=e.guiversionbuild;a.version.gui.custom=e.customerversion;
a.version.gui.name="v"+a.version.gui.build+"k"+a.version.gui.custom;h.resolve(e)});return h.promise()}function T(){if(a.autocorrect.layout1to2.zoomblock)try{var h=a.currenlayout.chart_panels.price.zoom;202>h.width&&(h.width=202)}catch(e){}if(a.autocorrect.layout1to2.legeninprice)try{var k=a.currenlayout.chart_panels.price.legend;!0!=k.hasOwnProperty("width")&&(k.width="inherit");!0!=k.hasOwnProperty("more")&&(k.more=!0);k.hasOwnProperty("right")&&(k.right="auto")}catch(f){}if(a.autocorrect.layout1to2.legeninstudy)try{var c=
a.currenlayout.chart_panels.study.legend;c.hasOwnProperty("height")&&(c.height="inherit");!0!=c.hasOwnProperty("width")&&(c.width="inherit");c.hasOwnProperty("right")&&(c.right="auto")}catch(g){}if(a.autocorrect.layout1to2.legencollapse)try{var d=a.currenlayout.chart_panels.price;!0!=d.hasOwnProperty("collapselegend")&&(d.collapselegend={view:!0,height:13,top:12,left:d.legend.left-20,width:13,collapseopen:!1,title_1:"+",title_2:"-"})}catch(b){}if(a.autocorrect.layout1to2.controlpanel)try{var l=a.currenlayout.chart_panels.price.controlpanel;
l.hasOwnProperty("width")&&(l.width="inherit");var m=a.currenlayout.chart_panels.study.controlpanel;m.hasOwnProperty("width")&&(m.width="inherit")}catch(r){}if(a.autocorrect.layout1to2.headertimeframe)try{for(var A=a.currenlayout.headers,h=0;h<A.length;h++)for(var p=A[h],k=0;k<p.items.length;k++){var n=p.items[k];n.hasOwnProperty("type")&&"timeframe"==n.type&&(n.type="toolbar",n.id="toolbar_header_timeframe",n.toolbarid="toolbar_header_timeframe1",n.hasOwnProperty("possition")&&(n.possition.top=2,
n.possition.width="inherit",n.possition.right="auto"))}for(var q=a.currenlayout.toolbars,A=!1,p=0;p<q.length;p++)if("toolbar_header_timeframe"==q[p].id){A=!0;break}!0!=A&&q.push({name:"toolbar",id:"toolbar_header_timeframe",location:"horizontal",style:"background-color:transparent",more:{auto:!0,captionview:!0,spaceview:!0,closebyclick:!0,possition:"right",alignv:"right",alignh:"auto",columns:1},items:[{type:"button-group",id:"group-header-timeframe",localize:"menu.timescale.1T",icon:"tick",caption:"tick",
style:"background-color:transparent; width:65px; ",title1:"",title2:"",css:"header-timeframe",captionview:!0,group:{type:"menu",possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:"",closebyclick:!0,changegroupicon:!0,grouptype:"timescale",viewtype:"text"},items:[{type:"button-group-timeframe",id:"timeframe",captionview:!0,viewall:!1,css:""}]}]});a.currenlayout.timeframeview="text";a.currenlayout.buttontype="icon"}catch(y){}if(a.autocorrect.layout1to2.daterangezoom)try{for(var s=a.currenlayout.zooms,
q=0;q<s.length;q++)for(var x=s[q],A=0;A<x.items.length;A++){var B=x.items[A];"daterange"==B.type&&(B.possition.view=!1)}for(var u=a.currenlayout.layout.items,s=0;s<u.length;s++){var t=u[s];if("main"==t.type){for(u=0;u<t.items.length;u++){var w=t.items[u];if("bottom"==w.type){for(w.height=30;0<w.items.length;){w.items[0].name="zoomrow";w.items[0].height=30;break}break}}break}}for(var v=a.currenlayout.zooms,t=0;t<v.length;t++)for(B=v[t];0<B.items.length;){var z=B.items[0];z.type="chart_container";z.possition.top=
"auto";z.possition.bottom=0;break}}catch(D){}if(a.autocorrect.layout1to2.daterangemain)try{!1==a.currenlayout.chart_panels.price.hasOwnProperty("axisxinmain")&&(a.currenlayout.chart_panels.price.axisxinmain={view:!0,height:11,right:55,bottom:0,top:"auto",padding:[0,0,0,0]})}catch(E){}if(a.autocorrect.layout1to2.msgbottom)try{if(!1==a.currenlayout.chart_panels.price.hasOwnProperty("axisxmsg")){var C={view:!1,height:22,right:55,bottom:0,padding:[0,0,0,0]};a.currenlayout.chart_panels.price.axisxmsg=
C;a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative="axisxmsg";a.currenlayout.chart_panels.price.main.bottom="relative";a.currenlayout.chart_panels.price.main.bottomrelative="axisx,axisxmsg";a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative="axisxmsg"}}catch(I){}if(a.autocorrect.layout1to2.header)try{for(var F=a.currenlayout.headers,B=0;B<F.length;B++)for(var G=F[B],v=0;v<
G.items.length;v++){var H=G.items[v];"communic"==H.type&&(H.possition.top=5)}C={view:!1,height:22,right:55,bottom:0,padding:[0,0,0,0]};a.currenlayout.chart_panels.price.axisxmsg=C;a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative="axisxmsg";a.currenlayout.chart_panels.price.main.bottom="relative";a.currenlayout.chart_panels.price.main.bottomrelative="axisx,axisxmsg";a.currenlayout.chart_panels.price.axisx.bottom="relative";a.currenlayout.chart_panels.price.axisx.bottomrelative=
"axisxmsg"}catch(J){}}function K(){function h(h){eval(h);a.currenlayout=eval("ProChart_InitCurrentLayout")(a);T()}function e(a){try{window.GlobProchartObject[f]=a}catch(h){}if("undefined"!=typeof l){var c=prochartstation.get(l,"jsonlayout");if(null!=c){for(var e=0;e<c.length;e++){var k=c[e];if("function"==typeof k["function"])k["function"](a);k.deferred.resolve()}prochartstation.del(l,"jsonlayout")}}}var k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",f=a.guiinit.rootpath+"/ChartUI/layouts/"+w+
"/prochart.layout.js"+k;""!=a.guiinit.customLayoutFile&&(f=a.guiinit.customLayoutFile+k);var c=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[f])return h(window.GlobProchartObject[f]),c.resolve()}catch(g){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"jsonlayout"))prochartstation.set(l,"jsonlayout",[]);else return k={deferred:c,"function":h},prochartstation.get(l,"jsonlayout").push(k),c.promise();if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",
f);d.onload=function(){var a=d.responseText;h(a);e(a);c.resolve(a)};d.send()}else $.ajax({url:f,type:"get",cache:!0,async:!0,error:function(a,h){m.error(h)}}).done(function(a){h(a);e(a);c.resolve(a)});return c.promise()}function U(){function h(a){C(a)}function e(a){try{window.GlobProchartObject[f]=a}catch(h){}if("undefined"!=typeof l){var c=prochartstation.get(l,"patternlayout");if(null!=c){for(var e=0;e<c.length;e++){var k=c[e];if("function"==typeof k["function"])k["function"](a);k.deferred.resolve()}prochartstation.del(l,
"patternlayout")}}}var k=!1==a.guiinit.cache?"?"+a.version.gui.name+(new Date).getTime():"?"+a.version.gui.name,f=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/patterns/layout.patterns.htm"+k,c=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[f])return C(window.GlobProchartObject[f]),m.debug("defered "),c.resolve()}catch(g){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"patternlayout"))prochartstation.set(l,"patternlayout",[]);else return k={deferred:c,"function":h},prochartstation.get(l,
"patternlayout").push(k),c.promise();if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",f);d.onload=function(){var a=d.responseText;C(a);e(a);c.resolve(a)};d.send()}else $.ajax({type:"GET",async:!0,dataType:"html",url:f}).done(function(a){C(a);e(a);c.resolve(a)});return c.promise()}function C(h){a.currenlayout.patterns.containter=p(h,"container");a.currenlayout.patterns.top=p(h,"top-pattern");a.currenlayout.patterns.left=p(h,"left-pattern");a.currenlayout.patterns.right=p(h,"right-pattern");
a.currenlayout.patterns.bottom=p(h,"bottom-pattern");a.currenlayout.patterns.main=p(h,"main-pattern");a.currenlayout.patterns.mainchart=p(h,"main-pattern-chart");a.currenlayout.patterns.row=p(h,"row-pattern");a.currenlayout.patterns.col=p(h,"col-pattern");a.currenlayout.patterns.slideleft=p(h,"slide-left-pattern");a.currenlayout.patterns.slideright=p(h,"slide-right-pattern");a.currenlayout.patterns.lock=p(h,"layout-lock-pattern");typeof a.events.layout.readyComplete==typeof Function&&a.events.layout.readyComplete();
a.eventStatus.layoutreadyComplete=!0;m.debug("Loadded readPattern()");ProChart_InitCommonUtils(a);var e=a.currenlayout.patterns,k=a.currenlayout.layout;q(k);r(k);h=a.commonutils.func.returnShortUniqID();a.currenlayout.chart.layoutiid=h;k.guiid="layout"+h;k.guiniid=a.commonutils.func.returnShortUniqID();k.fns=[];k.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});k.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});var f=y(k),e=e.containter.replace(n,"").replace(/%css%/g,"undefined"!=typeof k.css?k.css:"").replace(/%pstyle%/g,f.style).replace(/%pstylein%/g,f.styleinner).replace(/%id%/g,k.guiid).replace(/%innid%/g,k.guiniid),f=x(k);var c="";if("undefined"==typeof k.slideitems)k="";else{for(var g=0,d=k.slideitems.length;g<d;g++){var b=k.slideitems[g];switch(b.type){case "slideright":var l=k;b.guiid=a.commonutils.func.returnShortUniqID();b.guiniid=a.commonutils.func.returnShortUniqID();
q(b);r(b);"inherit"==b.height&&(b.height=l.height);b.top=0;b.bottom=0;b.right=0;l=y(b);b=a.currenlayout.patterns.slideright.replace(n,"").replace(/%id%/g,b.guiid).replace(/%innid%/g,b.guiniid).replace(/%css%/g,"undefined"!=typeof b.css?b.css:"").replace(/%pstyle%/g,l.style).replace(/%pstylein%/g,l.styleinner);c+=b;break;case "slideleft":b.guiid=a.commonutils.func.returnShortUniqID(),b.guiniid=a.commonutils.func.returnShortUniqID(),c+=""}}k=c}e=e.replace(/%html%/g,f).replace(/%htmlslide%/g,k);try{$.prochartcache.clearByMask(a.parent)}catch(s){}$.prochartcache.get(a.parent).html(e);
k="divChart"+h;e="layout"+h;m.debug("Begin  initChart");V(k,h,e);m.debug("After  initChart ")}function x(h){var e="";if("undefined"==typeof h.items)return"";for(var k=0,f=h.items.length;k<f;k++){var c=h.items[k];switch(c.type){case "top":var g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("inherit"==c.width||"auto"==c.width)c.width=g.width;if("inherit"==c.height||"auto"==c.height)c.height=L(c).height;c.top=0;c.left=0;g=y(c);g=a.currenlayout.patterns.top.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});var b="",b=x(c),g=g.replace(/%html%/g,b),e=e+g;break;case "left":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("undefined"==typeof c.height||"inherit"==c.height)for(c.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(c.height-=g.items[b].height);c.left=0;g=y(c);g=a.currenlayout.patterns.left.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "right":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("undefined"==typeof c.height||"inherit"==c.height)for(c.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&!0==g.items[b].view&&(c.height-=g.items[b].height);c.right=0;g=y(c);g=a.currenlayout.patterns.right.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "main":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);if("undefined"==typeof c.height||"inherit"==c.height)for(c.height=g.height,b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&(c.height-=g.items[b].height);if("undefined"==typeof c.width||"inherit"==c.width)for(c.width=g.width,
b=0;b<g.items.length;b++)"left"==g.items[b].type&&(c.left=g.items[b].width,c.width-=c.left),"right"==g.items[b].type&&(c.right=g.items[b].width,c.width-=c.right);g=y(c);g=a.currenlayout.patterns.main.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});
c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "bottom":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();q(c);r(c);"inherit"==c.width&&(c.width=g.width);c.bottom=0;c.left=0;g=y(c);g=a.currenlayout.patterns.bottom.replace(n,
"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,g.style).replace(/%pstylein%/g,g.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';",
"objChartMain.api.layout.resize();"]});b="";b=x(c);g=g.replace(/%html%/g,b);e+=g;break;case "row":g=h;"undefined"==typeof c.guiid&&(c.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof c.guiniid&&(c.guiniid=a.commonutils.func.returnShortUniqID());q(c);r(c);"inherit"==c.width&&(c.width=g.width);"inherit"==c.height&&(c.height=g.height);b=y(c);b=a.currenlayout.patterns.row.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:
"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);c.fns=[];c.fns.push({prop:"width",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});var d="",d=x(c,g),b=b.replace(/%html%/g,d),e=e+b;break;case "col":g=h;
"undefined"==typeof c.guiid&&(c.guiid=a.commonutils.func.returnShortUniqID());"undefined"==typeof c.guiniid&&(c.guiniid=a.commonutils.func.returnShortUniqID());q(c);r(c);"inherit"==c.width&&(c.width=g.width);"inherit"==c.height&&(c.height=g.height);b=y(c);b=a.currenlayout.patterns.col.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,b.style).replace(/%pstylein%/g,b.styleinner);c.fns=[];c.fns.push({prop:"width",
actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"height",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});c.fns.push({prop:"view",actions:["objparent.origsize.%property% = '%value%';","objChartMain.api.layout.resize();"]});d="";d=x(c,g);b=b.replace(/%html%/g,d);e+=b;break;case "rect":e+=void 0;break;case "lock":g=h;c.guiid=a.commonutils.func.returnShortUniqID();c.guiniid=a.commonutils.func.returnShortUniqID();
a.currenlayout.layout.lockguiid=c.guiid;a.currenlayout.layout.lockguiniid=c.guiniid;b={position:"relative",custom:"background-color:rgba(0,0,0,0.6);",width:g.width,height:g.height};g=M({left:0,right:0,top:0,bottom:0,position:"absolute","z-index":"300",view:"false"});b=M(b);c=a.currenlayout.patterns.lock.replace(n,"").replace(/%id%/g,c.guiid).replace(/%innid%/g,c.guiniid).replace(/%pstyle%/g,g).replace(/%pstylein%/g,b);e+=c;break;case "toolbar":g=h;if("undefined"!=typeof a.currenlayout.toolbars&&null!=
a.currenlayout.toolbars)for(b=0;b<a.currenlayout.toolbars.length;b++)if(d=a.currenlayout.toolbars[b],d.id==c.id){d.parent=g.guiid;break}break;case "menu":g=h;for(b=0;b<a.currenlayout.menus.items.length;b++)if(d=a.currenlayout.menus.items[b],d.id==c.id){d.parent=g.guiid;break}break;case "header":g=h;if("undefined"!=typeof a.currenlayout.headers&&null!=a.currenlayout.headers)for(b=0;b<a.currenlayout.headers.length;b++)if(d=a.currenlayout.headers[b],d.id==c.id){d.parent=g.guiid;break}break;case "zoom":g=
h;if("undefined"!=typeof a.currenlayout.zooms&&null!=a.currenlayout.zooms)for(b=0;b<a.currenlayout.zooms.length;b++)if(d=a.currenlayout.zooms[b],d.id==c.id){d.parent=g.guiid;break}break;case "chartcore":g=h;c.guiid=a.currenlayout.chart.layoutiid;c.height=g.height;c.width=g.width;for(b=0;b<g.items.length;b++)"top"==g.items[b].type&&(c.top=g.items[b].height,c.height-=c.top),"bottom"==g.items[b].type&&(c.height-=g.items[b].height);for(b=0;b<g.items.length;b++)"left"==g.items[b].type&&(c.left=g.items[b].width,
c.width-=c.left),"right"==g.items[b].type&&(c.width-=g.items[b].width);b=a.currenlayout.patterns.mainchart.replace(n,"").replace(/%id%/g,c.guiid).replace(/%css%/g,"undefined"!=typeof c.css?c.css:"").replace(/%pstyle%/g,"");a.currenlayout.chart={parent:g.guiid,width:c.width,height:c.height};b=b.replace(/%html%/g,"");e+=b}}return e}function L(a){var e={height:0,width:0};try{for(var b=0;b<a.items.length;b++)"row"!=a.items[b].type||!a.items[b].hasOwnProperty("origsize")||!0!=a.items[b].origsize.view&&
"true"!=a.items[b].origsize.view||(!1==isNaN(a.items[b].width)&&(e.width+=a.items[b].width),!1==isNaN(a.items[b].height)&&(e.height+=a.items[b].height))}catch(f){}return e}function q(a){a.origsize={};"undefined"!=typeof a.width&&(a.origsize.width=a.width);"undefined"!=typeof a.height&&(a.origsize.height=a.height);"undefined"!=typeof a.top&&(a.origsize.top=a.top);"undefined"!=typeof a.left&&(a.origsize.left=a.left);"undefined"!=typeof a.right&&(a.origsize.right=a.right);"undefined"!=typeof a.bottom&&
(a.origsize.bottom=a.bottom);"undefined"!=typeof a.padding&&(a.origsize.padding=a.padding);"undefined"!=typeof a.view&&(a.origsize.view=a.view)}function r(a){a.realsize={width:0,height:0}}function y(a,e){var b="",f="";"undefined"==typeof e&&(e="px");"undefined"!=typeof a.left&&(b=b+"left :"+a.left+e+"; ");"undefined"!=typeof a.right&&(b=b+"right :"+a.right+e+"; ");"undefined"!=typeof a.top&&(b=b+"top :"+a.top+e+"; ");"undefined"!=typeof a.bottom&&(b=b+"bottom :"+a.bottom+e+"; ");"undefined"!=typeof a.width&&
(b=b+"width :"+a.width+e+"; ",f=f+"width :"+a.width+e+"; ");"undefined"!=typeof a.height&&(b=b+"height :"+a.height+e+"; ",f=f+"height :"+a.height+e+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(b+="display : none; ");return{style:0<b.length?'style="'+b+'"':"",styleinner:0<f.length?'style="'+f+'"':""}}function M(h,e){var b="";"undefined"==typeof e&&(e=a.currenlayout.chart_panels.unit);"undefined"!=typeof h.position&&(b=b+"position:"+h.position+"; ");"undefined"!=typeof h["z-index"]&&(b=b+"z-index:"+
h["z-index"]+"; ");"undefined"!=typeof h["pointer-events"]&&(b=b+"pointer-events:"+h["pointer-events"]+"; ");"undefined"!=typeof h.more&&(b+=h.more);"undefined"!=typeof h.left&&(b=b+"left :"+h.left+(isNaN(h.left)?"":e)+"; ");"undefined"!=typeof h.right&&(b=b+"right :"+h.right+(isNaN(h.right)?"":e)+"; ");"undefined"!=typeof h.top&&(b=b+"top :"+h.top+(isNaN(h.top)?"":e)+"; ");"undefined"!=typeof h.bottom&&(b=b+"bottom :"+h.bottom+(isNaN(h.bottom)?"":e)+"; ");"undefined"!=typeof h.width&&(b=b+"width :"+
h.width+(isNaN(h.width)?"":e)+"; ");"undefined"!=typeof h.height&&(b=b+"height :"+h.height+(isNaN(h.height)?"":e)+"; ");"undefined"!=typeof h.view&&!0!=h.view&&(b+="display : none; ");"undefined"!=typeof h.custom&&(b=b+" "+h.custom);return 0<b.length?'style="'+b+'"':'style=" display:none; "'}function s(){var b=window.innerHeight?window.innerHeight:$(window).height(),e=window.innerWidth?window.innerWidth:$(window).width(),d=a.api.props.chart.gui.layout.move_right_fullpage,f=a.api.props.chart.gui.layout.move_left_fullpage,
b=b-a.api.props.chart.gui.layout.move_top_fullpage-a.api.props.chart.gui.layout.move_bottom_fullpage;return{height:b,width:e-d-f}}function v(){!1==z.resizelayout&&typeof a.events.layout.onResizing==typeof Function&&(z.resizelayout=!0,a.events.layout.onResizing(a.currenlayout.layout),z.resizelayout=!1);var b=a.currenlayout.layout;b.width=a.currenlayout.workmode.fullscreen?s().width:b.origsize.width;b.height=a.currenlayout.workmode.fullscreen?s().height:b.origsize.height;u(b);t(b);"undefined"!=typeof a.toolbaradvobj&&
a.toolbaradvobj.gui.adjustSize();"undefined"!=typeof a.menuobj&&a.menuobj.gui.adjustSize();"undefined"!=typeof a.zoomobj&&a.zoomobj.gui.adjustSize();!1==z.resizelayout&&typeof a.events.layout.onResized==typeof Function&&(z.resizelayout=!0,a.events.layout.onResized(b.width,b.height),z.resizelayout=!1)}function t(b){if("undefined"!=typeof b.items)for(var e=0,d=b.items.length;e<d;e++){var f=b.items[e];switch(f.type){case "top":"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?
s().width:b.width);if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=L(f).height;r(f);f.top=0;f.left=0;u(f);t(f);break;case "left":var c=b;r(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height){f.height=a.currenlayout.workmode.fullscreen?s().height:c.height;for(var g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,f.height-=f.top):(f.top=0,f.height=f.height):
(f.top=c.items[g].height,f.height-=f.top)),"bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view||(f.height-=c.items[g].height)}f.left=0;u(f);t(f);break;case "right":c=b;r(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?s().height:c.height,g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,f.height-=f.top):
(f.top=0,f.height=f.height):(f.top=c.items[g].height,f.height-=f.top)),"bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view||(f.height-=c.items[g].height);f.right=0;u(f);t(f);break;case "main":c=b;r(f);if("undefined"==typeof f.origsize.height||"inherit"==f.origsize.height)for(f.height=a.currenlayout.workmode.fullscreen?s().height:c.height,g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,
f.height-=f.top):(f.top=0,f.height=f.height):(f.top=c.items[g].height,f.height-=f.top)),"bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view||(f.height-=c.items[g].height);if("undefined"==typeof f.origsize.width||"inherit"==f.origsize.width)for(f.width=a.currenlayout.workmode.fullscreen?s().width:c.width,g=0;g<c.items.length;g++)"left"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.left=c.items[g].width,f.width-=f.left):(f.left=
0,f.width=f.width):(f.left=c.items[g].width,f.width-=f.left)),"right"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.right=c.items[g].width,f.width-=f.right):(f.right=0,f.width=f.width):(f.right=c.items[g].width,f.width-=f.right));u(f);t(f);break;case "bottom":c=b;r(f);"undefined"==typeof c.type?"inherit"==f.origsize.width&&(f.width=a.currenlayout.workmode.fullscreen?s().width:c.width):f.width=c.width;f.bottom=0;f.left=0;u(f);t(f);break;case "row":c=
b;r(f);if("inherit"==f.origsize.width||"auto"==f.origsize.width)f.width=c.width;if("inherit"==f.origsize.height||"auto"==f.origsize.height)f.height=c.height;"undefined"==typeof c.realsize||"undefined"==typeof c.realsize.height||!0!=f.origsize.view&&"true"!=f.origsize.view||(c.height>=c.realsize.height+f.height?(f.view=!0,c.realsize.height+=f.height):f.view=!1);u(f);t(f);break;case "col":c=b;r(f);if("inherit"==f.origsize.width||"auto"==f.origsize.width)f.width=c.width;if("inherit"==f.origsize.height||
"auto"==f.origsize.height)f.height=c.height;"undefined"!=typeof c.realsize&&"undefined"!=typeof c.realsize.width&&(!0==f.origsize.view||"true"==f.origsize.view)&&c.height>=c.realsize.height+f.height&&(f.view=!0,c.realsize.height+=f.height);u(f);t(f);break;case "chartcore":c=b;f.height=c.height;f.width=c.width;for(g=0;g<c.items.length;g++)"top"==c.items[g].type&&("undefined"!=typeof c.items[g].view?!0==c.items[g].view||"true"==c.items[g].view?(f.top=c.items[g].height,f.height-=f.top):(f.top=0,f.height=
f.height):(f.top=c.items[g].height,f.height-=f.top)),f.height="bottom"!=c.items[g].type||!0!=c.items[g].view&&"true"!=c.items[g].view?f.height:f.height-c.items[g].height;a.currenlayout.chart={width:f.width,height:f.height};if("undefined"!=typeof a.panels){a.panels.gui.resizeFullpagePanels();try{a.chart&&"undefined"!=typeof a.chart.AdjustSize&&a.chart.AdjustSize()}catch(l){}}}}}function u(b,e){var d={},f={};"undefined"==typeof e&&(e="px");"undefined"!=typeof b.left&&(d.left=b.left+e);"undefined"!=
typeof b.right&&(d.right=b.right+e);"undefined"!=typeof b.top&&(d.top=b.top+e);"undefined"!=typeof b.bottom&&(d.bottom=b.bottom+e);"undefined"!=typeof b.width&&(d.width=b.width+e,f.width=b.width+e);"undefined"!=typeof b.height&&(d.height=b.height+e,f.height=b.height+e);"undefined"!=typeof b.view&&(d.display=!0==b.view||"true"==b.view?"":"none");if(!0!=jQuery.isEmptyObject(d)){var c=$.prochartcache.get(a.parent,"#"+b.guiid);c&&c.css(d)}!0!=jQuery.isEmptyObject(f)&&(c=$.prochartcache.get(a.parent,"#"+
b.guiniid))&&c.css(f);return d}function V(b,e,d){W(b,e,d);m.debug("initChart_step1 ----- finished");var f=$.Deferred();$.when(X(),Y()).done(function(){m.debug("!!!Done read all Patterns");Z(b,e,d);a.api.props&&a.api.props.func.layout.initComplete();"function"==typeof a.events.layout.initComplete&&a.events.layout.initComplete();a.eventStatus.layoutInitComplete=!0;a.gui.createChart();a.eventStatus.chartCreateComplete=!0;f.resolve()});return f.promise()}function X(){var b=$.Deferred();return"undefined"!=
typeof a.patterns?(m.debug("Before init initAllPatterns"),$.when(a.patterns.gui.initPatterns()).done(function(){m.debug("After init pattern initAllPatterns");if(""!=a.apiinit.customPanelPatternFile){m.debug("Check Custom Panel after init pattern initAllPatterns");var e=$.Deferred();$.when(a.patterns.gui.initCustomPanelPatterns()).done(function(){m.debug("After Custom Panel after init pattern initAllPatterns");e.resolve()})}b.resolve()}),b.promise()):b.resolve()}function W(h,e,k){m.debug("initChart_step1 ----- start ("+
h+")");ProChart_InitMain(a);"undefined"!=typeof a.guiinit.cache&&(!0==a.guiinit.cache?a.init.debug.cache=!0:!1==a.guiinit.cache&&(a.init.debug.cache=!1));a.init.LayoutName=w;a.init.TemplateName="undefined"!=typeof H?H:b(a.init.TemplateName,d.TemplateName);E=a.init.TemplateName;I(a.init.TemplateName);a.init.chartcontainer=$("#"+h);a.init.chartcontainerid=h;a.init.layoutuid=k;a.init.uuid=e;a.init.size.width=b(a.init.size.width,d.size.width);a.init.size.height=b(a.init.size.height,d.size.height);a.init.size.subheight=
b(a.init.size.subheight,d.size.subheight);null==a.gui.size.mainWidth&&(a.gui.size.mainWidth=b(a.init.size.mainWidth,d.size.mainWidth));null==a.gui.size.mainHeight&&(a.gui.size.mainHeight=b(a.init.size.mainHeight,d.size.mainHeight));null==a.gui.size.mainPaddingTop&&(a.gui.size.mainPaddingTop=b(a.init.size.mainPaddingTop,d.size.mainPaddingTop));null==a.gui.size.mainPaddingBottom&&(a.gui.size.mainPaddingBottom=b(a.init.size.mainPaddingBottom,d.size.mainPaddingBottom));null==a.gui.size.mainPaddingLeft&&
(a.gui.size.mainPaddingLeft=b(a.init.size.mainPaddingLeft,d.size.mainPaddingLeft));null==a.gui.size.mainPaddingRight&&(a.gui.size.mainPaddingRight=b(a.init.size.mainPaddingRight,d.size.mainPaddingRight));null==a.gui.size.width&&(a.gui.size.width=b(a.init.size.width,d.size.width));null==a.gui.size.height&&(a.gui.size.height=b(a.init.size.height,d.size.height));null==a.gui.size.subheight&&(a.gui.size.subheight=b(a.init.size.subheight,d.size.subheight));null==a.gui.size.paddingTop&&(a.gui.size.paddingTop=
b(a.init.size.paddingTop,d.size.paddingTop));null==a.gui.size.paddingBottom&&(a.gui.size.paddingBottom=b(a.init.size.paddingBottom,d.size.paddingBottom));null==a.gui.size.paddingPriceBottom&&(a.gui.size.paddingPriceBottom=b(a.init.size.paddingPriceBottom,d.size.paddingPriceBottom));null==a.gui.size.paddingLeft&&(a.gui.size.paddingLeft=b(a.init.size.paddingLeft,d.size.paddingLeft));null==a.gui.size.paddingRight&&(a.gui.size.paddingRight=b(a.init.size.paddingRight,d.size.paddingRight));null==a.gui.size.zoomWidth&&
(a.gui.size.zoomWidth=b(a.init.size.zoomWidth,d.size.zoomWidth));null==a.gui.size.zoomWidthRangebutton&&(a.gui.size.zoomWidthRangebutton=b(a.init.size.zoomWidthRangebutton,d.size.zoomWidthRangebutton));null==a.gui.size.autoInnerWidth&&(a.gui.size.autoInnerWidth=b(a.init.size.autoInnerWidth,d.size.autoInnerWidth));null==a.gui.size.autoInnerHeight&&(a.gui.size.autoInnerHeight=b(a.init.size.autoInnerHeight,d.size.autoInnerHeight));null==a.gui.size.fixedSize&&(a.gui.size.fixedSize=b(a.init.size.fixedSize,
d.size.fixedSize));null==a.gui.size.fullpage&&(a.gui.size.fullpage=b(a.init.size.fullpage,d.size.fullpage));null==a.gui.size.fullscreen&&(a.gui.size.fullscreen=b(a.init.size.fullscreen,d.size.fullscreen));null==a.gui.size.fullPaddingTop&&(a.gui.size.fullPaddingTop=b(a.init.size.fullPaddingTop,d.size.fullPaddingTop));null==a.gui.size.fullPaddingBottom&&(a.gui.size.fullPaddingBottom=b(a.init.size.fullPaddingBottom,d.size.fullPaddingBottom));null==a.gui.size.fullPaddingLeft&&(a.gui.size.fullPaddingLeft=
b(a.init.size.fullPaddingLeft,d.size.fullPaddingLeft));null==a.gui.size.fullPaddingRight&&(a.gui.size.fullPaddingRight=b(a.init.size.fullPaddingRight,d.size.fullPaddingRight));if(null==a.gui.guiblock.header.visible||"undefined"==typeof a.gui.guiblock.header.visible)a.gui.guiblock.header.visible=b(a.init.guiblock.header.visible,d.gui.header.visible);if("undefined"==typeof a.gui.guiblock.menu.visible||null==a.gui.guiblock.menu.visible)a.gui.guiblock.menu.visible=b(a.init.guiblock.menu.visible,d.gui.menu.visible);
if("undefined"==typeof a.gui.guiblock.menu.majors.visible||null==a.gui.guiblock.menu.majors.visible)a.gui.guiblock.menu.majors.visible=b(a.init.guiblock.menu.majors.visible,d.gui.menu.majors.visible);if("undefined"==typeof a.gui.guiblock.menu.template.visible||null==a.gui.guiblock.menu.template.visible)a.gui.guiblock.menu.template.visible=b(a.init.guiblock.menu.template.visible,d.gui.menu.template.visible);if("undefined"==typeof a.gui.guiblock.menu.charttype.visible||null==a.gui.guiblock.menu.charttype.visible)a.gui.guiblock.menu.charttype.visible=
b(a.init.guiblock.menu.charttype.visible,d.gui.menu.charttype.visible);if("undefined"==typeof a.gui.guiblock.menu.timeframe.visible||null==a.gui.guiblock.menu.timeframe.visible)a.gui.guiblock.menu.timeframe.visible=b(a.init.guiblock.menu.timeframe.visible,d.gui.menu.timeframe.visible);if("undefined"==typeof a.gui.guiblock.menu.studies.visible||null==a.gui.guiblock.menu.studies.visible)a.gui.guiblock.menu.studies.visible=b(a.init.guiblock.menu.studies.visible,d.gui.menu.studies.visible);if("undefined"==
typeof a.gui.guiblock.menu.compares.visible||null==a.gui.guiblock.menu.compares.visible)a.gui.guiblock.menu.compares.visible=b(a.init.guiblock.menu.compares.visible,d.gui.menu.compares.visible);if("undefined"==typeof a.gui.guiblock.menu.localization.visible||null==a.gui.guiblock.menu.localization.visible)a.gui.guiblock.menu.localization.visible=b(a.init.guiblock.menu.localization.visible,d.gui.menu.localization.visible);if("undefined"==typeof a.gui.guiblock.menu.help.visible||null==a.gui.guiblock.menu.help.visible)a.gui.guiblock.menu.help.visible=
b(a.init.guiblock.menu.help.visible,d.gui.menu.help.visible);if("undefined"==typeof a.gui.guiblock.menu.about.visible||null==a.gui.guiblock.menu.about.visible)a.gui.guiblock.menu.about.visible=b(a.init.guiblock.menu.about.visible,d.gui.menu.about.visible);if("undefined"==typeof a.gui.guiblock.toolbar.visible||null==a.gui.guiblock.toolbar.visible)a.gui.guiblock.toolbar.visible=b(a.init.guiblock.toolbar.visible,d.gui.toolbar.visible);if("undefined"==typeof a.gui.guiblock.toolbar.charttype.visible||
null==a.gui.guiblock.toolbar.charttype.visible)a.gui.guiblock.toolbar.charttype.visible=b(a.init.guiblock.toolbar.charttype.visible,d.gui.toolbar.charttype.visible);if("undefined"==typeof a.gui.guiblock.toolbar.timeframe.visible||null==a.gui.guiblock.toolbar.timeframe.visible)a.gui.guiblock.toolbar.timeframe.visible=b(a.init.guiblock.toolbar.timeframe.visible,d.gui.toolbar.timeframe.visible);if("undefined"==typeof a.gui.guiblock.toolbar.systems.visible||null==a.gui.guiblock.toolbar.systems.visible)a.gui.guiblock.toolbar.systems.visible=
b(a.init.guiblock.toolbar.systems.visible,d.gui.toolbar.systems.visible);if("undefined"==typeof a.gui.guiblock.toolbar.other.visible||null==a.gui.guiblock.toolbar.other.visible)a.gui.guiblock.toolbar.other.visible=b(a.init.guiblock.toolbar.other.visible,d.gui.toolbar.other.visible);if("undefined"==typeof a.gui.guiblock.zoom.visible||null==a.gui.guiblock.zoom.visible)a.gui.guiblock.zoom.visible=b(a.init.guiblock.zoom.visible,d.gui.zoom.visible);if("undefined"==typeof a.gui.guiblock.zoom.zoomtoolbar.visible||
null==a.gui.guiblock.zoom.zoomtoolbar.visible)a.gui.guiblock.zoom.zoomtoolbar.visible=b(a.init.guiblock.zoom.zoomtoolbar.visible,d.gui.zoom.zoomtoolbar.visible);if("undefined"==typeof a.gui.size.panels.unit||null==a.gui.size.panels.unit)a.gui.size.panels.unit=b(a.init.size.panels.unit,d.panels.unit);if("undefined"==typeof a.gui.size.panels.padding||null==a.gui.size.panels.padding)a.gui.size.panels.padding=b(a.init.size.panels.padding,d.panels.padding);if("undefined"==typeof a.gui.size.panels.spiltmargin||
null==a.gui.size.panels.spiltmargin)a.gui.size.panels.spiltmargin=b(a.init.size.panels.spiltmargin,d.panels.spiltmargin);if("undefined"==typeof a.gui.size.panels.margin||null==a.gui.size.panels.margin)a.gui.size.panels.margin=b(a.init.size.panels.margin,d.panels.margin);if("undefined"==typeof a.gui.size.panels.price.grow||null==a.gui.size.panels.price.grow)a.gui.size.panels.price.grow=b(a.init.size.panels.price.grow,d.panels.price.grow);if("undefined"==typeof a.gui.size.panels.price.axisy.view||null==
a.gui.size.panels.price.axisy.view)a.gui.size.panels.price.axisy.view=b(a.init.size.panels.price.axisy.view,d.panels.price.axisy.view);if("undefined"==typeof a.gui.size.panels.price.axisy.width||null==a.gui.size.panels.price.axisy.width)a.gui.size.panels.price.axisy.width=b(a.init.size.panels.price.axisy.width,d.panels.price.axisy.width);if("undefined"==typeof a.gui.size.panels.price.axisy.right||null==a.gui.size.panels.price.axisy.right)a.gui.size.panels.price.axisy.right=b(a.init.size.panels.price.axisy.right,
d.panels.price.axisy.right);if("undefined"==typeof a.gui.size.panels.price.axisy.padding||null==a.gui.size.panels.price.axisy.padding)a.gui.size.panels.price.axisy.padding=b(a.init.size.panels.price.axisy.right,d.panels.price.axisy.padding);if("undefined"==typeof a.gui.size.panels.price.axisx.view||null==a.gui.size.panels.price.axisx.view)a.gui.size.panels.price.axisx.view=b(a.init.size.panels.price.axisx.view,d.panels.price.axisx.view);if("undefined"==typeof a.gui.size.panels.price.axisx.height||
null==a.gui.size.panels.price.axisx.height)a.gui.size.panels.price.axisx.height=b(a.init.size.panels.price.axisx.height,d.panels.price.axisx.height);if("undefined"==typeof a.gui.size.panels.price.axisx.bottom||null==a.gui.size.panels.price.axisx.bottom)a.gui.size.panels.price.axisx.bottom=b(a.init.size.panels.price.axisx.bottom,d.panels.price.axisx.bottom);if("undefined"==typeof a.gui.size.panels.price.axisx.right||null==a.gui.size.panels.price.axisx.right)a.gui.size.panels.price.axisx.right=b(a.init.size.panels.price.axisx.right,
d.panels.price.axisx.right);if("undefined"==typeof a.gui.size.panels.price.axisx.padding||null==a.gui.size.panels.price.axisx.padding)a.gui.size.panels.price.axisx.padding=b(a.init.size.panels.price.axisx.right,d.panels.price.axisx.padding);if("undefined"==typeof a.gui.size.panels.price.main.top||null==a.gui.size.panels.price.main.top)a.gui.size.panels.price.main.top=b(a.init.size.panels.price.main.top,d.panels.price.main.top);if("undefined"==typeof a.gui.size.panels.price.main.left||null==a.gui.size.panels.price.main.left)a.gui.size.panels.price.main.left=
b(a.init.size.panels.price.main.left,d.panels.price.main.left);if("undefined"==typeof a.gui.size.panels.price.main.bottom||null==a.gui.size.panels.price.main.bottom)a.gui.size.panels.price.main.bottom=b(a.init.size.panels.price.main.bottom,d.panels.price.main.bottom);if("undefined"==typeof a.gui.size.panels.price.main.right||null==a.gui.size.panels.price.main.right)a.gui.size.panels.price.main.right=b(a.init.size.panels.price.main.right,d.panels.price.main.right);if("undefined"==typeof a.gui.size.panels.price.main.padding||
null==a.gui.size.panels.price.main.padding)a.gui.size.panels.price.main.padding=b(a.init.size.panels.price.main.right,d.panels.price.main.padding);if("undefined"==typeof a.gui.size.panels.price.legend.top||null==a.gui.size.panels.price.legend.top)a.gui.size.panels.price.legend.top=b(a.init.size.panels.price.legend.top,d.panels.price.legend.top);if("undefined"==typeof a.gui.size.panels.price.legend.left||null==a.gui.size.panels.price.legend.left)a.gui.size.panels.price.legend.left=b(a.init.size.panels.price.legend.left,
d.panels.price.legend.left);if("undefined"==typeof a.gui.size.panels.price.legend.height||null==a.gui.size.panels.price.legend.height)a.gui.size.panels.price.legend.height=b(a.init.size.panels.price.legend.height,d.panels.price.legend.height);if("undefined"==typeof a.gui.size.panels.price.legend.right||null==a.gui.size.panels.price.legend.right)a.gui.size.panels.price.legend.right=b(a.init.size.panels.price.legend.right,d.panels.price.legend.right);if("undefined"==typeof a.gui.size.panels.price.legend.view||
null==a.gui.size.panels.price.legend.view)a.gui.size.panels.price.legend.view=b(a.init.size.panels.price.legend.view,d.panels.price.legend.view);if("undefined"==typeof a.gui.size.panels.price.legend.padding||null==a.gui.size.panels.price.legend.padding)a.gui.size.panels.price.legend.padding=b(a.init.size.panels.price.legend.right,d.panels.price.legend.padding);if("undefined"==typeof a.gui.size.panels.price.controlpanel.top||null==a.gui.size.panels.price.controlpanel.top)a.gui.size.panels.price.controlpanel.top=
b(a.init.size.panels.price.controlpanel.top,d.panels.price.controlpanel.top);if("undefined"==typeof a.gui.size.panels.price.controlpanel.view||null==a.gui.size.panels.price.controlpanel.view)a.gui.size.panels.price.controlpanel.view=b(a.init.size.panels.price.controlpanel.view,d.panels.price.controlpanel.view);if("undefined"==typeof a.gui.size.panels.price.controlpanel.height||null==a.gui.size.panels.price.controlpanel.height)a.gui.size.panels.price.controlpanel.height=b(a.init.size.panels.price.controlpanel.height,
d.panels.price.controlpanel.height);if("undefined"==typeof a.gui.size.panels.price.controlpanel.right||null==a.gui.size.panels.price.controlpanel.right)a.gui.size.panels.price.controlpanel.right=b(a.init.size.panels.price.controlpanel.right,d.panels.price.controlpanel.right);if("undefined"==typeof a.gui.size.panels.price.controlpanel.width||null==a.gui.size.panels.price.controlpanel.width)a.gui.size.panels.price.controlpanel.width=b(a.init.size.panels.price.controlpanel.width,d.panels.price.controlpanel.width);
if("undefined"==typeof a.gui.size.panels.price.zoom.bottom||null==a.gui.size.panels.price.zoom.bottom)a.gui.size.panels.price.zoom.bottom=b(a.init.size.panels.price.zoom.bottom,d.panels.price.zoom.bottom);if("undefined"==typeof a.gui.size.panels.price.zoom.left||null==a.gui.size.panels.price.zoom.left)a.gui.size.panels.price.zoom.left=b(a.init.size.panels.price.zoom.left,d.panels.price.zoom.left);if("undefined"==typeof a.gui.size.panels.price.zoom.right||null==a.gui.size.panels.price.zoom.right)a.gui.size.panels.price.zoom.right=
b(a.init.size.panels.price.zoom.right,d.panels.price.zoom.right);if("undefined"==typeof a.gui.size.panels.price.zoom.view||null==a.gui.size.panels.price.zoom.view)a.gui.size.panels.price.zoom.view=b(a.init.size.panels.price.zoom.view,d.panels.price.zoom.view);if("undefined"==typeof a.gui.size.panels.price.zoom.height||null==a.gui.size.panels.price.zoom.height)a.gui.size.panels.price.zoom.height=b(a.init.size.panels.price.zoom.height,d.panels.price.zoom.height);if("undefined"==typeof a.gui.size.panels.price.zoom.width||
null==a.gui.size.panels.price.zoom.width)a.gui.size.panels.price.zoom.width=b(a.init.size.panels.price.zoom.width,d.panels.price.zoom.width);if("undefined"==typeof a.gui.size.panels.price.zoom.padding||null==a.gui.size.panels.price.zoom.padding)a.gui.size.panels.price.zoom.padding=b(a.init.size.panels.price.zoom.padding,d.panels.price.zoom.padding);if("undefined"==typeof a.gui.size.panels.study.grow||null==a.gui.size.panels.study.grow)a.gui.size.panels.study.grow=b(a.init.size.panels.study.grow,d.panels.study.grow);
if("undefined"==typeof a.gui.size.panels.study.axisy.view||null==a.gui.size.panels.study.axisy.view)a.gui.size.panels.study.axisy.view=b(a.init.size.panels.study.axisy.view,d.panels.study.axisy.view);if("undefined"==typeof a.gui.size.panels.study.axisy.top||null==a.gui.size.panels.study.axisy.top)a.gui.size.panels.study.axisy.top=b(a.init.size.panels.study.axisy.top,d.panels.study.axisy.top);if("undefined"==typeof a.gui.size.panels.study.axisy.width||null==a.gui.size.panels.study.axisy.width)a.gui.size.panels.study.axisy.width=
b(a.init.size.panels.study.axisy.width,d.panels.study.axisy.width);if("undefined"==typeof a.gui.size.panels.study.axisy.right||null==a.gui.size.panels.study.axisy.right)a.gui.size.panels.study.axisy.right=b(a.init.size.panels.study.axisy.right,d.panels.study.axisy.right);if("undefined"==typeof a.gui.size.panels.study.axisy.bottom||null==a.gui.size.panels.study.axisy.bottom)a.gui.size.panels.study.axisy.bottom=b(a.init.size.panels.study.axisy.bottom,d.panels.study.axisy.bottom);if("undefined"==typeof a.gui.size.panels.study.axisy.padding||
null==a.gui.size.panels.study.axisy.padding)a.gui.size.panels.study.axisy.padding=b(a.init.size.panels.study.axisy.right,d.panels.study.axisy.padding);if("undefined"==typeof a.gui.size.panels.study.axisx.view||null==a.gui.size.panels.study.axisx.view)a.gui.size.panels.study.axisx.view=b(a.init.size.panels.study.axisx.view,d.panels.study.axisx.view);if("undefined"==typeof a.gui.size.panels.study.axisx.height||null==a.gui.size.panels.study.axisx.height)a.gui.size.panels.study.axisx.height=b(a.init.size.panels.study.axisx.height,
d.panels.study.axisx.height);if("undefined"==typeof a.gui.size.panels.study.axisx.bottom||null==a.gui.size.panels.study.axisx.bottom)a.gui.size.panels.study.axisx.bottom=b(a.init.size.panels.study.axisx.bottom,d.panels.study.axisx.bottom);if("undefined"==typeof a.gui.size.panels.study.axisx.right||null==a.gui.size.panels.study.axisx.right)a.gui.size.panels.study.axisx.right=b(a.init.size.panels.study.axisx.right,d.panels.study.axisx.right);if("undefined"==typeof a.gui.size.panels.study.axisx.padding||
null==a.gui.size.panels.study.axisx.padding)a.gui.size.panels.study.axisx.padding=b(a.init.size.panels.study.axisx.right,d.panels.study.axisx.padding);if("undefined"==typeof a.gui.size.panels.study.main.top||null==a.gui.size.panels.study.main.top)a.gui.size.panels.study.main.top=b(a.init.size.panels.study.main.top,d.panels.study.main.top);if("undefined"==typeof a.gui.size.panels.study.main.left||null==a.gui.size.panels.study.main.left)a.gui.size.panels.study.main.left=b(a.init.size.panels.study.main.left,
d.panels.study.main.left);if("undefined"==typeof a.gui.size.panels.study.main.bottom||null==a.gui.size.panels.study.main.bottom)a.gui.size.panels.study.main.bottom=b(a.init.size.panels.study.main.bottom,d.panels.study.main.bottom);if("undefined"==typeof a.gui.size.panels.study.main.right||null==a.gui.size.panels.study.main.right)a.gui.size.panels.study.main.right=b(a.init.size.panels.study.main.right,d.panels.study.main.right);if("undefined"==typeof a.gui.size.panels.study.main.padding||null==a.gui.size.panels.study.main.padding)a.gui.size.panels.study.main.padding=
b(a.init.size.panels.study.main.right,d.panels.study.main.padding);if("undefined"==typeof a.gui.size.panels.study.legend.top||null==a.gui.size.panels.study.legend.top)a.gui.size.panels.study.legend.top=b(a.init.size.panels.study.legend.top,d.panels.study.legend.top);if("undefined"==typeof a.gui.size.panels.study.legend.left||null==a.gui.size.panels.study.legend.left)a.gui.size.panels.study.legend.left=b(a.init.size.panels.study.legend.left,d.panels.study.legend.left);if("undefined"==typeof a.gui.size.panels.study.legend.height||
null==a.gui.size.panels.study.legend.height)a.gui.size.panels.study.legend.height=b(a.init.size.panels.study.legend.height,d.panels.study.legend.height);if("undefined"==typeof a.gui.size.panels.study.legend.right||null==a.gui.size.panels.study.legend.right)a.gui.size.panels.study.legend.right=b(a.init.size.panels.study.legend.right,d.panels.study.legend.right);if("undefined"==typeof a.gui.size.panels.study.legend.view||null==a.gui.size.panels.study.legend.view)a.gui.size.panels.study.legend.view=
b(a.init.size.panels.study.legend.view,d.panels.study.legend.view);if("undefined"==typeof a.gui.size.panels.study.legend.padding||null==a.gui.size.panels.study.legend.padding)a.gui.size.panels.study.legend.padding=b(a.init.size.panels.study.legend.right,d.panels.study.legend.padding);if("undefined"==typeof a.gui.size.panels.study.controlpanel.view||null==a.gui.size.panels.study.controlpanel.view)a.gui.size.panels.study.controlpanel.view=b(a.init.size.panels.study.controlpanel.view,d.panels.study.controlpanel.view);
if("undefined"==typeof a.gui.size.panels.study.controlpanel.top||null==a.gui.size.panels.study.controlpanel.top)a.gui.size.panels.study.controlpanel.top=b(a.init.size.panels.study.controlpanel.top,d.panels.study.controlpanel.top);if("undefined"==typeof a.gui.size.panels.study.controlpanel.height||null==a.gui.size.panels.study.controlpanel.height)a.gui.size.panels.study.controlpanel.height=b(a.init.size.panels.study.controlpanel.height,d.panels.study.controlpanel.height);if("undefined"==typeof a.gui.size.panels.study.controlpanel.right||
null==a.gui.size.panels.study.controlpanel.right)a.gui.size.panels.study.controlpanel.right=b(a.init.size.panels.study.controlpanel.right,d.panels.study.controlpanel.right);if("undefined"==typeof a.gui.size.panels.study.controlpanel.width||null==a.gui.size.panels.study.controlpanel.width)a.gui.size.panels.study.controlpanel.width=b(a.init.size.panels.study.controlpanel.width,d.panels.study.controlpanel.width);if("undefined"==typeof a.gui.size.panels.splitterx.grow||null==a.gui.size.panels.splitterx.grow)a.gui.size.panels.splitterx.grow=
b(a.init.size.panels.splitterx.grow,d.panels.splitterx.grow);if("undefined"==typeof a.gui.size.panels.splitterx.height||null==a.gui.size.panels.splitterx.height)a.gui.size.panels.splitterx.height=b(a.init.size.panels.splitterx.height,d.panels.splitterx.height);if("undefined"==typeof a.gui.size.panels.splitterx.main.top||null==a.gui.size.panels.splitterx.main.top)a.gui.size.panels.splitterx.main.top=b(a.init.size.panels.splitterx.main.top,d.panels.splitterx.main.top);if("undefined"==typeof a.gui.size.panels.splitterx.main.view||
null==a.gui.size.panels.splitterx.main.view)a.gui.size.panels.splitterx.main.view=b(a.init.size.panels.splitterx.main.view,d.panels.splitterx.main.view);if("undefined"==typeof a.gui.size.panels.splitterx.main.left||null==a.gui.size.panels.splitterx.main.left)a.gui.size.panels.splitterx.main.left=b(a.init.size.panels.splitterx.main.left,d.panels.splitterx.main.left);if("undefined"==typeof a.gui.size.panels.splitterx.main.bottom||null==a.gui.size.panels.splitterx.main.bottom)a.gui.size.panels.splitterx.main.bottom=
b(a.init.size.panels.splitterx.main.bottom,d.panels.splitterx.main.bottom);if("undefined"==typeof a.gui.size.panels.splitterx.main.right||null==a.gui.size.panels.splitterx.main.right)a.gui.size.panels.splitterx.main.right=b(a.init.size.panels.splitterx.main.right,d.panels.splitterx.main.right);if("undefined"==typeof a.gui.size.panels.splitterx.main.height||null==a.gui.size.panels.splitterx.main.height)a.gui.size.panels.splitterx.main.height=b(a.init.size.panels.splitterx.main.height,d.panels.splitterx.main.height);
if("undefined"==typeof a.gui.size.panels.splitterx.main.padding||null==a.gui.size.panels.splitterx.main.padding)a.gui.size.panels.splitterx.main.padding=b(a.init.size.panels.splitterx.main.right,d.panels.splitterx.main.padding);if("undefined"==typeof a.gui.size.panels.signal.grow||null==a.gui.size.panels.signal.grow)a.gui.size.panels.signal.grow=b(a.init.size.panels.signal.grow,d.panels.signal.grow);if("undefined"==typeof a.gui.size.panels.signal.main.top||null==a.gui.size.panels.signal.main.top)a.gui.size.panels.signal.main.top=
b(a.init.size.panels.signal.main.top,d.panels.signal.main.top);if("undefined"==typeof a.gui.size.panels.signal.main.left||null==a.gui.size.panels.signal.main.left)a.gui.size.panels.signal.main.left=b(a.init.size.panels.signal.main.left,d.panels.signal.main.left);if("undefined"==typeof a.gui.size.panels.signal.main.bottom||null==a.gui.size.panels.signal.main.bottom)a.gui.size.panels.signal.main.bottom=b(a.init.size.panels.signal.main.bottom,d.panels.signal.main.bottom);if("undefined"==typeof a.gui.size.panels.signal.main.right||
null==a.gui.size.panels.signal.main.right)a.gui.size.panels.signal.main.right=b(a.init.size.panels.signal.main.right,d.panels.signal.main.right);if("undefined"==typeof a.gui.size.panels.signal.main.padding||null==a.gui.size.panels.signal.main.padding)a.gui.size.panels.signal.main.padding=b(a.init.size.panels.signal.main.right,d.panels.signal.main.padding);if("undefined"==typeof a.gui.size.panels.signal.legend.top||null==a.gui.size.panels.signal.legend.top)a.gui.size.panels.signal.legend.top=b(a.init.size.panels.signal.legend.top,
d.panels.signal.legend.top);if("undefined"==typeof a.gui.size.panels.signal.legend.left||null==a.gui.size.panels.signal.legend.left)a.gui.size.panels.signal.legend.left=b(a.init.size.panels.signal.legend.left,d.panels.signal.legend.left);if("undefined"==typeof a.gui.size.panels.signal.legend.height||null==a.gui.size.panels.signal.legend.height)a.gui.size.panels.signal.legend.height=b(a.init.size.panels.signal.legend.height,d.panels.signal.legend.height);if("undefined"==typeof a.gui.size.panels.signal.legend.right||
null==a.gui.size.panels.signal.legend.right)a.gui.size.panels.signal.legend.right=b(a.init.size.panels.signal.legend.right,d.panels.signal.legend.right);if("undefined"==typeof a.gui.size.panels.signal.legend.view||null==a.gui.size.panels.signal.legend.view)a.gui.size.panels.signal.legend.view=b(a.init.size.panels.signal.legend.view,d.panels.signal.legend.view);if("undefined"==typeof a.gui.size.panels.signal.legend.padding||null==a.gui.size.panels.signal.legend.padding)a.gui.size.panels.signal.legend.padding=
b(a.init.size.panels.signal.legend.right,d.panels.signal.legend.padding);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.view||null==a.gui.size.panels.signal.controlpanel.view)a.gui.size.panels.signal.controlpanel.view=b(a.init.size.panels.signal.controlpanel.view,d.panels.signal.controlpanel.view);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.top||null==a.gui.size.panels.signal.controlpanel.top)a.gui.size.panels.signal.controlpanel.top=b(a.init.size.panels.signal.controlpanel.top,
d.panels.signal.controlpanel.top);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.width||null==a.gui.size.panels.signal.controlpanel.width)a.gui.size.panels.signal.controlpanel.width=b(a.init.size.panels.signal.controlpanel.width,d.panels.signal.controlpanel.width);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.height||null==a.gui.size.panels.signal.controlpanel.height)a.gui.size.panels.signal.controlpanel.height=b(a.init.size.panels.signal.controlpanel.height,d.panels.signal.controlpanel.height);
if("undefined"==typeof a.gui.size.panels.signal.controlpanel.right||null==a.gui.size.panels.signal.controlpanel.right)a.gui.size.panels.signal.controlpanel.right=b(a.init.size.panels.signal.controlpanel.right,d.panels.signal.controlpanel.right);if("undefined"==typeof a.gui.size.panels.signal.controlpanel.padding||null==a.gui.size.panels.signal.controlpanel.padding)a.gui.size.panels.signal.controlpanel.padding=b(a.init.size.panels.signal.controlpanel.right,d.panels.signal.controlpanel.padding);if("undefined"==
typeof a.gui.size.panels.signal.alert.top||null==a.gui.size.panels.signal.alert.top)a.gui.size.panels.signal.alert.top=b(a.init.size.panels.signal.alert.top,d.panels.signal.alert.top);if("undefined"==typeof a.gui.size.panels.signal.alert.left||null==a.gui.size.panels.signal.alert.left)a.gui.size.panels.signal.alert.left=b(a.init.size.panels.signal.alert.left,d.panels.signal.alert.left);if("undefined"==typeof a.gui.size.panels.signal.alert.bottom||null==a.gui.size.panels.signal.alert.bottom)a.gui.size.panels.signal.alert.bottom=
b(a.init.size.panels.signal.alert.bottom,d.panels.signal.alert.bottom);if("undefined"==typeof a.gui.size.panels.signal.alert.right||null==a.gui.size.panels.signal.alert.right)a.gui.size.panels.signal.alert.right=b(a.init.size.panels.signal.alert.right,d.panels.signal.alert.right);if("undefined"==typeof a.gui.size.panels.signal.alert.view||null==a.gui.size.panels.signal.alert.view)a.gui.size.panels.signal.alert.view=b(a.init.size.panels.signal.alert.view,d.panels.signal.alert.view);if("undefined"==
typeof a.gui.size.panels.signal.alert.padding||null==a.gui.size.panels.signal.alert.padding)a.gui.size.panels.signal.alert.padding=b(a.init.size.panels.signal.alert.right,d.panels.signal.alert.padding);null!=a.gui.init.majors&&(a.init.majors=jQuery.extend(!0,[],a.gui.init.majors));null!=a.gui.init.compares&&(a.init.compares=jQuery.extend(!0,[],a.gui.init.compares));null!=a.gui.init.majors2&&(a.init.majors2=jQuery.extend(!0,[],a.gui.init.majors2));null!=a.gui.init.localization?a.init.localization=
jQuery.extend(!0,[],a.gui.init.localization):a.gui.init.localization=jQuery.extend(!0,[],a.init.localization);null!=a.gui.init.timeframe&&(a.init.timeframe=jQuery.extend(!0,[],a.gui.init.timeframe));null!=a.gui.init.autotimescale&&(a.init.autotimescale=jQuery.extend(!0,[],a.gui.init.autotimescale));null!=a.gui.init.charttype&&(a.init.charttype=jQuery.extend(!0,[],a.gui.init.charttype));null!=a.gui.init.indicators&&(a.init.indicators=jQuery.extend(!0,[],a.gui.init.indicators));null!=a.gui.init.comparecharttype&&
(a.init.comparecharttype=jQuery.extend(!0,[],a.gui.init.comparecharttype));!0==a.gui.size.fullpage&&(a.currenlayout.workmode.fullscreen=!0,a.currenlayout.workmode.alwaysfullscreen=!0,F());a.currenlayout.workmode&&a.currenlayout.workmode.fullscreen?F():v();h=b(a.init.localizationlang,a.gui.init.localizationlang);ProChart_InitLocalization(a,h,l);a.chart=AdvinionHtmlChart_Init();a.localizationobj&&(a.chart.LocalizationManager=a.localizationobj);a.chart.FixedSize=a.gui.size.fixedSize;a.actions=ProChart_InitActions(a);
a.init.templates=b(a.init.templates,d.templates);a.chart.Symbol=b(a.init.chart.Symbol,d.chart.Symbol);a.chart.TimeScale=b(a.init.chart.TimeScale,d.chart.TimeScale);a.chart.PriceChartType=b(a.init.chart.PriceChartType,d.chart.PriceChartType);a.chart.DefaultMarket=b(a.init.chart.DefaultMarket,d.chart.DefaultMarket);a.chart.ValueFieldType=b(a.init.chart.ValueFieldType,d.chart.ValueFieldType);a.chart.AllowChangingSymbols=b(a.init.chart.AllowChangingSymbols,d.chart.AllowChangingSymbols);a.chart.AllowChangingTimeScale=
b(a.init.chart.AllowChangingTimeScale,d.chart.AllowChangingTimeScale);a.chart.ShowBarData=b(a.init.chart.ShowBarData,d.chart.ShowBarData);a.chart.MarkersCornerRadius=b(a.init.chart.MarkersCornerRadius,d.chart.MarkersCornerRadius);a.chart.ShowSymbolAndUpdate=b(a.init.chart.ShowSymbolAndUpdate,d.chart.ShowSymbolAndUpdate);a.chart.NumVisibleBars=b(a.init.chart.NumVisibleBars,d.chart.NumVisibleBars);a.chart.NumBars=b(a.init.chart.NumBars,d.chart.NumBars);a.chart.DataServiceURL=b(a.init.chart.DataServiceURL,
d.chart.DataServiceURL);a.chart.TemplatesServiceURL=b(a.init.chart.TemplatesServiceURL,d.chart.TemplatesServiceURL);a.chart.DisplayBarNumber=b(a.init.chart.DisplayBarNumber,d.chart.DisplayBarNumber);a.chart.SymbolsServiceURL=b(a.init.chart.SymbolsServiceURL,d.chart.SymbolsServiceURL);a.chart.PanelPaddingLeft=a.gui.size.paddingLeft;a.chart.PanelPaddingRight=a.gui.size.paddingRight;a.chart.PanelPaddingTop=a.gui.size.paddingTop;a.chart.PanelPaddingBottom=a.gui.size.paddingBottom;a.chart.PricePaddingBottom=
a.gui.size.paddingPriceBottom;$(document).keyup(function(b){switch(b.keyCode){case 46:a.chart.DeleteSelected()}});a.patterns=ProChart_InitPatterns(a,l);!0==a.guiinit.menu&&(a.menuobj=ProChart_InitMenu(a));!0==a.guiinit.draw&&"undefined"!=typeof ProChart_InitDraw&&ProChart_InitDraw(a);!0==a.guiinit.indicators&&"undefined"!=typeof ProChart_Initindicators&&ProChart_Initindicators(a);!0==a.guiinit.system&&"undefined"!=typeof ProChart_InitSystems&&ProChart_InitSystems(a);!0==a.guiinit.community&&"undefined"!=
typeof ProChart_InitCommunity&&ProChart_InitCommunity(a);!0==a.guiinit.messages&&"undefined"!=typeof ProChart_InitMessages&&ProChart_InitMessages(a);!0==a.guiinit.compare&&"undefined"!=typeof ProChart_InitCompares&&ProChart_InitCompares(a);!0==a.guiinit.signals&&"undefined"!=typeof ProChart_InitSignals&&ProChart_InitSignals(a);!0==a.guiinit.header&&(a.headerobj=ProChart_InitHeader(a));!0==a.guiinit.alert&&(a.alertobj=ProChart_InitAlert(a));!0==a.guiinit.msg&&(a.msgobj=ProChart_InitMsg(a));!0==a.guiinit.toolbaradv&&
"undefined"!=typeof ProChart_InitToolbarAdv&&ProChart_InitToolbarAdv(a);!0==a.guiinit.plugs&&"undefined"!=typeof ProChart_InitPlugs&&ProChart_InitPlugs(a);!0==a.guiinit.props&&"undefined"!=typeof ProChart_InitProps&&ProChart_InitProps(a);"undefined"!=typeof ProChart_InitPanels&&(a.chart.UI.objPanelsCore=ProChart_InitPanels(a).core);!0==a.guiinit.zoom&&"undefined"!=typeof ProChart_InitZoom&&ProChart_InitZoom(a);!0==a.guiinit.trade&&"undefined"!=typeof ProChart_InitTrade&&ProChart_InitTrade(a);ProChart_InitPreload(a);
"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&aa()}function aa(){$.prochartcache.get("#"+a.guiinit.parentRelativeObjectID).resize(function(b){var e=null,d=null;"Microsoft Internet Explorer"==navigator.appName&&"XMLHttpRequest"in window&&null!==window.XMLHttpRequest?(e=$(b.srcElement).width(),d=$(b.srcElement).height()):(e="undefined"!=typeof $(this).outerWidth()?$(this).outerWidth():$(this).width(),d="undefined"!=typeof $(this).outerHeight()?$(this).outerHeight():
$(this).height());if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(e,d);else a.api.layout.changeSize(e,d,!1)})}function Z(h,e,d){m.debug("initChart_step2 ---- starts ("+h+")");"undefined"!=typeof a.menuobj&&a.menuobj.gui.viewMenu($.prochartcache.get("#layout"+e));"undefined"!=typeof a.headerobj&&a.headerobj.gui.viewHeader($.prochartcache.get("#layout"+e));"undefined"!=typeof a.alertobj&&a.alertobj.gui.viewAlert($.prochartcache.get("#layout"+
e));"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.viewToolbarTop($.prochartcache.get("#layout"+e));a.chart.UI.funcOnAddCustomStudyOnLoad=function(b,c){a.indicators.gui&&a.indicators.gui.appendIndicator(c)};a.chart.UI.funcOnShapeSelectChange=ba;a.chart.UI.funcOnStartDrawing=ca;a.chart.UI.funcOnStopDrawing=da;a.chart.UI.funcOnShapeDelete=ea;a.chart.UI.funcOnShapeChanged=fa;a.chart.UI.funcOnShapeEndDrag=ga;a.chart.UI.funcOnShapeEndSize=ha;a.chart.UI.funcOnStudyUpdated=ia;a.chart.UI.funcOnStudyAdded=
ja;a.chart.UI.funcOnStudyDeleted=ka;a.chart.UI.funcOnLastUpdateChange=la;a.chart.UI.funcOnSymbolChange=ma;a.chart.UI.funcOnTimeScaleChange=na;a.chart.UI.funcOnCommChange=oa;a.chart.UI.funcOnChartSweepStart=pa;a.chart.UI.funcOnChartSweepEnd=qa;a.chart.UI.funcOnWait=ra;a.chart.UI.funcOnLogin=sa;a.chart.UI.funcOnTemplatesList=ta;a.chart.UI.funcOnTemplatesLoaded=ua;a.chart.UI.funcOnTemplatesSaved=va;a.chart.UI.funcOnTemplatesDeleted=wa;a.chart.UI.funcOnTemplatesError=xa;a.chart.UI.funcOnPriceEdit=ya;
a.chart.UI.funcOnTimeChange=za;a.chart.UI.funcOnPriceTypeChange=Aa;a.chart.UI.funcOnTimeZoneChanged=Ba;a.chart.UI.funcOnCompareEdit=Ca;a.chart.UI.funcOnCompareSymbolDelete=Da;a.chart.UI.funcOnVolumeEdit=Ea;a.chart.UI.funcOnZoomChange=Fa;a.chart.UI.funcOnSignalMouseIn=Ga;a.chart.UI.funcOnSignalMouseOut=Ha;a.chart.UI.funcOnSignalMouseClick=Ia;a.chart.UI.funcOnNewSignal=Ja;a.chart.UI.funcOnSignalRemoved=Ka;a.chart.UI.funcOnSignalFullRefresh=La;a.chart.UI.funcOnWaitForSignals=Ma;a.chart.UI.funcOnGotSignals=
Na;a.chart.UI.funcOnFindSymbols=Oa;a.chart.UI.funcOnSymbolsByGroup=Pa;a.chart.UI.funcOnGetMarkets=Qa;a.chart.UI.funcOnGetExchanges=Ra;a.chart.UI.funcOnGetCountries=Sa;a.chart.UI.funcOnDisablePanelUI=Ta;a.chart.UI.funcOnUpdateEventsInUI=Ua;a.chart.UI.funcOnPluginContentUpdate=Va;a.chart.UI.funcOnPluginEnableChanged=Wa;a.chart.UI.funcOnProSignalUpdateDisplay=Xa;a.localizationobj.funcOnChangeLocalication=Ya;a.events.layout.onResizeParentRelative=Za;a.chart.UI.funcOnCanSaveTA=$a;a.chart.UI.funcOnCanLoadTA=
ab;a.chart.UI.funcOnEditOrder=function(b,c){"undefined"!=typeof a.tradeobj&&a.tradeobj.gui.openTradeDialog(b,c,a.chart)};a.chart.StudiesToLoad=b(a.init.chart.StudiesToLoad,a.gui.init.StudiesToLoad);v();m.debug("initChart_step2 ----finished")}function Fa(b,e,d,f,c,g){try{if(a.zoomobj)a.zoomobj.gui.onZoomChange(b,e,d,f,c,g)}catch(l){}try{a.panels&&a.panels.gui.drawZoomIntervale(b,e,d,f,c,g)}catch(n){}}function Ua(b,e,d){if(typeof a.events.chart.onUpdateEventsInUI==typeof Function)a.events.chart.onUpdateEventsInUI(b,
e,d);"undefined"!=typeof a.alertobj&&a.alertobj.gui.updateAlerts(b,e,d)}function $a(b,e,d){if(typeof a.events.chart.onCanSaveTA==typeof Function)a.events.chart.onCanSaveTA(e,d)}function ab(b,e,d){if(typeof a.events.chart.onCanLoadTA==typeof Function)a.events.chart.onCanLoadTA(e,d)}function Za(b,e){"undefined"!=typeof a.guiinit.parentRelativeObjectID&&null!=a.guiinit.parentRelativeObjectID&&a.api.layout.changeSize(b,e)}function bb(a,b){var d=this;d.wait=!1;d.delta=200;d.end=a;d.trigger=function(a){d.wait||
(d.wait=!0,setTimeout(function(){d.end&&d.end.call(a);d.wait=!1},d.delta))}}function F(){var b={"z-index":a.api.props.chart.gui.layout.zindex_fullpage,"margin-top":a.api.props.chart.gui.layout.move_top_fullpage+"px","margin-right":a.api.props.chart.gui.layout.move_right_fullpage+"px","margin-left":a.api.props.chart.gui.layout.move_left_fullpage+"px","margin-bottom":a.api.props.chart.gui.layout.move_bottom_fullpage+"px"},e={"background-color":a.api.props.chart.gui.layout.background_color_fullpage,
"margin-top":a.api.props.chart.gui.layout.move_top_backgroundfullpage+"px","margin-right":a.api.props.chart.gui.layout.move_right_backgroundfullpage+"px","margin-left":a.api.props.chart.gui.layout.move_left_backgroundfullpage+"px","margin-bottom":a.api.props.chart.gui.layout.move_bottom_backgroundfullpage+"px"},d=$.prochartcache.get(a.parent),b="<div id='chart-full-page-div-modal'  %style% ><div></div></div><div id='chart-full-page-div-modal-bg'  %style-bg% ></div>".replace(/%style%/g,a.commonutils.func.getBlockStyle(b,
"px")).replace(/%style-bg%/g,a.commonutils.func.getBlockStyle(e,"px"));d.append(b);d=$(a.parent).find("prochart").detach();$("#chart-full-page-div-modal > div").append(d);v();N();O=new bb(function(){"undefined"!=typeof a.chart&&!0==a.currenlayout.workmode.fullscreen&&(v(),N())},600);$(window).off("resize",G);$(window).on("resize",G)}function G(){O.trigger()}function N(){var a=s();$("#chart-full-page-div-modal > div").css(a)}function ca(b,e,d){$.prochartcache.get("#"+a.init.chartcontainerid)&&$.prochartcache.get("#"+
a.init.chartcontainerid).addClass("cursor-draw");if(typeof a.events.chart.onStartDrawing==typeof Function)a.events.chart.onStartDrawing(e,d);if(typeof a.events.shape.onStartDrawing==typeof Function)a.events.shape.onStartDrawing()}function da(b){$.prochartcache.get("#"+a.init.chartcontainerid)&&$.prochartcache.get("#"+a.init.chartcontainerid).removeClass("cursor-draw");if(typeof a.events.chart.onStopDrawing==typeof Function)a.events.chart.onStopDrawing();if(typeof a.events.shape.onStopDrawing==typeof Function)a.events.shape.onStopDrawing()}
function ba(b,e,d){d&&$.prochartcache.get("#"+a.init.chartcontainerid)&&$.prochartcache.get("#"+a.init.chartcontainerid).focus();if(typeof a.events.chart.onShapeSelectChange==typeof Function)a.events.chart.onShapeSelectChange(e,d);if(typeof a.events.shape.onSelectChange==typeof Function)a.events.shape.onSelectChange()}function ea(){if(typeof a.events.shape.onDelete==typeof Function)a.events.shape.onDelete()}function fa(){if(typeof a.events.shape.onChanged==typeof Function)a.events.shape.onChanged()}
function ga(){if(typeof a.events.shape.onEndDrag==typeof Function)a.events.shape.onEndDrag()}function ha(){if(typeof a.events.shape.onEndSize==typeof Function)a.events.shape.onEndSize()}function ia(){if(typeof a.events.study.onUpdated==typeof Function)a.events.study.onUpdated()}function ja(){if(typeof a.events.study.onAdded==typeof Function)a.events.study.onAdded()}function ka(){if(typeof a.events.study.onDeleted==typeof Function)a.events.study.onDeleted()}function ta(b,e,d){"undefined"!=typeof a.systems&&
a.systems.gui.systemsList(b,e,d);if(typeof a.events.chart.onTemplatesList==typeof Function)a.events.chart.onTemplatesList(e,d)}function ua(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loadedSystem(b,e);if(typeof a.events.chart.onTemplatesLoaded==typeof Function)a.events.chart.onTemplatesLoaded(e)}function sa(b,e){"undefined"!=typeof a.systems&&a.systems.gui.loginInSystems(b,e);if(typeof a.events.chart.onSystemLogin==typeof Function)a.events.chart.onSystemLogin(e)}function va(b,e){"undefined"!=
typeof a.systems&&a.systems.gui.savedSystem(b,e);if(typeof a.events.chart.onTemplatesSaved==typeof Function)a.events.chart.onTemplatesSaved(e)}function wa(b,e,d){"undefined"!=typeof a.systems&&a.systems.gui.deletedSystem(b,e,d);if(typeof a.events.chart.onTemplatesDeleted==typeof Function)a.events.chart.onTemplatesDeleted(e,d)}function xa(b,e,d){"undefined"!=typeof a.systems&&a.systems.gui.errorSystem(b,e,d);if(typeof a.events.chart.onTemplatesError==typeof Function)a.events.chart.onTemplatesError(e,
d)}function ya(b,e){"undefined"!=typeof a.props&&a.props.gui.viewPriceOnly(b,e);if(typeof a.events.chart.onPriceEdit==typeof Function)a.events.chart.onPriceEdit(e)}function Ca(b,e){"undefined"!=typeof a.compares&&a.compares.gui.openCompareSymbol(b,e);if(typeof a.events.chart.onCompareEdit==typeof Function)a.events.chart.onCompareEdit(e)}function Da(a,b){}function Ea(b,e){"undefined"!=typeof a.props&&a.props.gui.viewVolumeOnly(b,e);if(typeof a.events.chart.onVolumeEdit==typeof Function)a.events.chart.onVolumeEdit(e)}
function za(b,e,d){if(typeof a.events.chart.onTimeChange==typeof Function)a.events.chart.onTimeChange(e,d)}function Aa(b,e){"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedChartTypeButton(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedChartTypeButton(e);if(typeof a.events.chart.onPriceTypeChange==typeof Function)a.events.chart.onPriceTypeChange(a.parent,e)}function Ba(b,e){if("undefined"!=typeof a.zoomobj)a.zoomobj.gui.onTimeZoneChange();if(typeof a.events.chart.onTimeZoneChanged==
typeof Function)a.events.chart.onTimeZoneChanged(a.parent,e)}function la(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onLastUpdateChange(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onLastUpdateChange(b,e);if(typeof a.events.chart.onLastUpdateChange==typeof Function){var d=a.chart.GetLastBidAsk();a.events.chart.onLastUpdateChange(a.parent,e,d)}}function ma(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeSymbol(b,e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.updateTimesScale(e);
"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.updateTimesScale(e);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateTimesScale(e);if(typeof a.events.chart.onChangeSymbol==typeof Function)a.events.chart.onChangeSymbol(a.parent,e)}function na(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onChangeTimeframe(b,e);"undefined"!=typeof a.chart&&(a.chart.TimeFrame=e);"undefined"!=typeof a.toolbarobj&&a.toolbarobj.gui.selectedTimeFrameButton(e);"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.selectedTimeFrameButton(e);
if(typeof a.events.chart.onChangeTimeframe==typeof Function)a.events.chart.onChangeTimeframe(a.parent,e)}function oa(b,e){if("undefined"!=typeof a.headerobj)a.headerobj.gui.onCommunication(b,e);if("undefined"!=typeof a.panels)a.panels.gui.onCommunication(b,e);if(typeof a.events.chart.onCommunication==typeof Function)a.events.chart.onCommunication(a.parent,e)}function pa(b){if(typeof a.events.chart.onChartSweepStart==typeof Function)a.events.chart.onChartSweepStart()}function qa(b){if(typeof a.events.chart.onChartSweepEnd==
typeof Function)a.events.chart.onChartSweepEnd()}function ra(b,e,d){if("undefined"!=typeof a.preloadobj){switch(e){case !0:a.preloadobj.startPreload();break;case !1:a.preloadobj.endPreload()}if(typeof a.events.chart.onWait==typeof Function)a.events.chart.onWait(e,d)}}function b(a,b){return"undefined"!=typeof b&&null!=b?b:a}function Ha(a,b){}function Ia(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callfuncOnSignalMouseClick(b,e),typeof a.events.chart.onSignalMouseClick==typeof Function))a.events.chart.onSignalMouseClick(e)}
function Ja(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callNewsignal(b,e),typeof a.events.chart.onNewSignal==typeof Function))a.events.chart.onNewSignal(e)}function Ka(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callRemovesignal(b,e),typeof a.events.chart.onSignalRemoved==typeof Function))a.events.chart.onSignalRemoved(e)}function La(b,e){if("undefined"!=typeof a.signals&&(a.signals.gui.callFullRefreshsignals(b,e),typeof a.events.chart.onSignalFullRefresh==typeof Function))a.events.chart.onSignalFullRefresh(e)}
function Ga(b,e){if("undefined"!=typeof a.signals&&typeof a.events.chart.onSignalMouseIn==typeof Function)a.events.chart.onSignalMouseIn(e)}function Ma(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.startWaitSignal(e),typeof a.events.chart.onWaitForSignals==typeof Function))a.events.chart.onWaitForSignals(e)}function Na(b,e){if("undefined"!=typeof a.signals&&("undefined"!=typeof a.signals&&a.signals.gui.stopWaitSignal(e),typeof a.events.chart.onGotSignals==typeof Function))a.events.chart.onGotSignals(e)}
function Oa(b,e,d){if("undefined"!=typeof e.guiparent)switch(e.guiparent){case "header":"undefined"!=typeof a.header&&a.header.gui.callbackonFindSymbols(b,e,d);break;case "dialogcompares":"undefined"!=typeof a.compares&&a.compares.gui.callbackonFindSymbols(b,e,d);break;default:"undefined"!=typeof a.header&&a.header.gui.callbackonFindSymbols(b,e,d)}}function Pa(b,e,d){b="majors";"undefined"!=typeof e.guigroup&&(b=e.guigroup);switch(b){case "majors2":"undefined"!=typeof a.init&&a.init.gui.majors2Update(d.data);
"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajors2();break;case "majors":e=!0;try{null!=a.api.localstorage.getMajorsFavorites()&&(e=!1)}catch(f){}if(!0==e){"undefined"!=typeof a.init&&a.init.gui.majorsUpdate(d.data);"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateMajorFavorites();break}case "compares":e=!0;try{null!=a.api.localstorage.getCompareFavorites()&&(e=!1)}catch(c){}!0==e&&("undefined"!=typeof a.init&&a.init.gui.compareUpdate(d.data),"undefined"!=typeof a.menuobj&&a.menuobj.gui.updateCompareFavorites())}}
function Qa(b,e,d){"undefined"!=typeof a.init&&a.init.gui.marketsUpdate(d.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.marketsUpdate()}function Ra(b,e,d){"undefined"!=typeof a.init&&a.init.gui.exchangesUpdate(d.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.exchangesUpdate()}function Sa(b,e,d){"undefined"!=typeof a.init&&a.init.gui.countriesUpdate(d.data);"undefined"!=typeof a.headerobj&&a.headerobj.gui.countriesUpdate()}function Ta(b,e){"undefined"!=typeof a.panels&&a.panels.gui.disablePanelEvents(b,
e)}function Va(b,e,d,f){"undefined"!=typeof a.signals&&a.signals.gui.pluginContentUpdate(b,e,d,f)}function Xa(b,e,d){"undefined"!=typeof a.plugs&&a.plugs.gui.updateContent(b,e,d)}function Wa(b,e,d){"undefined"!=typeof a.signals&&a.signals.gui.pluginEnableChanged(b,e,d)}function Ya(b,e){"undefined"!=typeof a.toolbaradvobj&&a.toolbaradvobj.gui.changeLocalization(b,e);"undefined"!=typeof a.menuobj&&a.menuobj.gui.changeLocalization(b,e);"undefined"!=typeof a.panels&&a.panels.gui.changeLocalization(b,
e);if(typeof a.events.localization.onChange==typeof Function)a.events.localization.onChange(a.parent,b,e)}function I(b,e,d){"undefined"==typeof d&&(d=!0);if(null!=a.parent&&""!=b){var f=$.prochartcache.get(a.parent,".htmlchart");f&&(f.hasClass(b)||f.addClass(b),"default"!=b&&f.removeClass("default"),"undefined"!=typeof e?f.hasClass(e)&&b!=e&&f.removeClass(e):f.hasClass(E)&&b!=E&&f.removeClass(E),E=b,!0==a.gui.size.fullpage&&cb(b),e=a.guiinit.cache,!0==e&&!1==d&&(e=!1),d=!1==e?"?"+(new Date).getTime():
"","undefined"!=typeof a.chart&&(e=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/templates/"+b+"/chart.css.json.js"+d,""!=a.guiinit.customJsonCssFile&&(e=a.guiinit.customJsonCssFile+d),$.when(db(e)).then(function(a){}).done(function(){a.init.TemplateName=b;"undefined"!=typeof a.preloadobj&&a.preloadobj.endPreload()})))}}function db(b){var e=$.Deferred();if(a.navigator.XMLHttpRequest()){var d=new XMLHttpRequest;d.open("get",b);d.onload=function(){var b=$.parseJSON(d.responseText);$.parseJSON(d.responseText);
a.api.props&&(b=a.api.props.func.chart.updateFromInit(b));a.chart.StyleObject=b;a.chart.SetStyleObject(b);e.resolve(b)};d.send();return e}$.ajax({url:b,contentType:"application/javascript",dataType:"json",data:{},async:!0}).done(function(b){a.api.props&&(b=a.api.props.func.chart.updateFromInit(b));a.chart.StyleObject=b;a.chart.SetStyleObject(b);e.resolve(b)});return e.promise()}function cb(a){var b=$("#chart-full-page-div-modal");if("undefined"!=typeof b){$(b).hasClass(a)||$(b).addClass(a);"default"!=
a&&$(b).removeClass("default");for(var d="",f=1;10>=f;f++)d="template"+f,$(b).hasClass(d)&&a!=d&&$(b).removeClass(d)}}function Y(){function b(c){a.api.props&&(c=a.api.props.func.chart.updateFromInit(c));a.chart.StyleObject=c}function d(a){try{window.GlobProchartObject[c]=a}catch(b){}if("undefined"!=typeof l){var e=prochartstation.get(l,"initjsoncss");if(null!=e){for(var f=0;f<e.length;f++){var g=e[f];if("function"==typeof g["function"])g["function"](a);g.deferred.resolve()}prochartstation.del(l,"initjsoncss")}}}
var k=a.init.TemplateName,f=!1==a.guiinit.cache?"?"+(new Date).getTime():"",c=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/templates/"+k+"/chart.css.json.js"+f;""!=a.guiinit.customJsonCssFile&&(c=a.guiinit.customJsonCssFile+f);var g=$.Deferred();try{if("undefined"!=typeof window.GlobProchartObject[c])return b(window.GlobProchartObject[c]),g.resolve()}catch(n){}if("undefined"!=typeof l)if(null==prochartstation.get(l,"initjsoncss"))prochartstation.set(l,"initjsoncss",[]);else return k={deferred:g,"function":b},
prochartstation.get(l,"initjsoncss").push(k),g.promise();if(a.navigator.XMLHttpRequest()){var m=new XMLHttpRequest;m.open("get",c);m.onload=function(){var a=$.parseJSON(m.responseText);b(a);d(a);g.resolve(a)};m.send()}else $.ajax({type:"GET",async:!0,dataType:"json",url:c,data:{}}).done(function(a){b(a);d(a);g.resolve(a)});return g.promise()}function p(a,b){var d="",f=a.indexOf("<"+b+">"),c=("<"+b+">").length,g=a.indexOf("</"+b+">");-1!=f&&-1!=g&&g>f+c&&(d=a.substring(f+c,g));return d}function eb(){var a=
window.navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return 0<b?parseInt(a.substring(b+5,a.indexOf(".",b)),10):!1}function D(b){for(var d={dom:null,domin:null},k=null,f=0;f<a.currenlayout.layout.items.length;f++)if(a.currenlayout.layout.items[f].type==b){k=a.currenlayout.layout.items[f];break}try{for(;0<a.currenlayout.layout.slideitems.length;f++)if(a.currenlayout.layout.slideitems[f].type==
b){k=a.currenlayout.layout.slideitems[f];break}}catch(c){}null!=k&&(b=k.guiniid,d.dom=$.prochartcache.get(k.guiid),d.domin=$.prochartcache.get(b));return d}var a={},d={},P=".min",n=/=""/g;a.parent=Q;a.layoutlevelinit=d;a.templates=[];a.version={gui:{name:"",build:0,custom:0}};var E="",O=null;a.eventStatus={layoutreadyComplete:!1,layoutInitComplete:!1,chartCreateComplete:!1};var z={resizelayout:!1};a.gui={loadLayout:function(){a.navigator.properties.detectIE=eb();"undefined"!=typeof a.guiinit.minifier&&
!1==a.guiinit.minifier&&(P="");"undefined"!=typeof a.guiinit.cache&&!1==a.guiinit.cache&&(J="?"+(new Date).getTime());var b=$.Deferred();$.when(R(),S(),K()).done(function(){m.debug("Loadded loadJsonIni(), loadVersion(), loadLayoutJson()");U();b.resolve()});return b.promise()},createChart:function(){var b=$(a.parent).find("#"+a.init.chartcontainerid)[0];CreateAdvinionHtmlChart(a.chart,a.init.chartcontainerid,null,null,null,null);adv_hook_event.ADVINION_Internal_HookEvent(b,"mousewheel",adv_hook_event.ADVINION_Internal_CancelEvent);
"undefined"!=typeof a.zoomobj&&(a.zoomobj.gui.viewZoom($.prochartcache.get("#layout"+a.init.uuid)),a.zoomobj.gui.viewZoomToolbox());try{var d=$.prochartcache.get("#"+a.guiinit.parentRelativeObjectID),k=b=null,b="undefined"!=typeof $(d).outerWidth()?$(d).outerWidth():$(d).width(),k="undefined"!=typeof $(d).outerHeight()?$(d).outerHeight():$(d).height();if(typeof a.events.layout.onResizeParentRelative==typeof Function)a.events.layout.onResizeParentRelative(b,k);else a.api.layout.changeSize(b,k,!1)}catch(f){}"undefined"!=
typeof a.localizationobj&&a.localizationobj.gui.changeLocalization();a.api.props&&a.api.props.func.chart.createComplete();"function"==typeof a.events.chart.createComplete&&a.events.chart.createComplete()},changeTemplate:I,loadchangeTemplate:function(b){if(""!=b){var d=a.version.gui.name,k=!1==a.guiinit.cache?"?"+(new Date).getTime():"",f=a.guiinit.rootpath+"/ChartUI/layouts/"+w+"/templates/"+b+"/template"+P+".css",d=f+(""==k?"?"+d:k+d);"undefined"!=typeof a.preloadobj&&a.preloadobj.startPreload();
a:{if(f)for(f=f.toLowerCase(),k=0;k<document.styleSheets.length;k++)if("undefined"!=typeof document.styleSheets[k].href&&null!=document.styleSheets[k].href&&-1<document.styleSheets[k].href.toLowerCase().indexOf(f)){f=!0;break a}f=!1}f?I(b):(b=document.createElement("link"),b.type="text/css",b.rel="stylesheet",b.href=url,document.getElementsByTagName("head")[0].appendChild(d))}},fullScreen:function(b){if(a.currenlayout.workmode.alwaysfullscreen&&a.currenlayout.workmode.fullscreen)a.apiinit.fullpageHideScroll&&
$.prochartcache.get("body").css("overflow","hidden");else if(b!=a.currenlayout.workmode.fullscreen)switch(a.currenlayout.workmode.fullscreen){case !1:a.currenlayout.workmode.fullscreen=!0;F();a.apiinit.fullpageHideScroll&&$.prochartcache.get("body").css("overflow","hidden");if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!0);break;case !0:a.currenlayout.workmode.fullscreen=!1;b=$.prochartcache.get(a.parent);a.currenlayout.workmode.fullscreen=!1;var d=$.prochartcache.get(a.parent).find("prochart").detach();
b.html("");b.append(d);if("undefined"!=typeof a.zoomobj&!1==a.gui.size.fixedSize)a.zoomobj.gui.onZoomBottomFixed(!1);$(window).off("resize",G);v();a.apiinit.fullpageHideScroll&&$.prochartcache.get("body").css("overflow","inherit");if(typeof a.events.layout.onFullPage==typeof Function)a.events.layout.onFullPage(!1)}},adjustResize:v,resizeLayout:v,changeLayout:function(){var a=$.Deferred();$.when(K()).done(function(){m.debug("changeLayout");a.resolve()});return a.promise()},getlayoutObject:{parent:function(){var b=
null;"undefined"!=typeof a.currenlayout.layout&&(b=a.currenlayout.layout);if(null!=b){var d=b.guiniid;$.prochartcache.get(b.guiid);$.prochartcache.get(d)}},top:function(){D("top")},left:function(){D("left")},right:function(){D("right")},bottom:function(){D("bottom")},slideleft:function(){D("slideleft")},slideright:function(){D("slideright")}}};a.navigator={properties:{detectIE:!1,xdrMinIE:10,alvaysXMLHttpRequest:!1},XMLHttpRequest:function(){return"Microsoft Internet Explorer"==navigator.appName&&
"XMLHttpRequest"in window&&null!==window.XMLHttpRequest&&a.navigator.properties.detectIE<=a.navigator.properties.xdrMinIE||a.navigator.properties.alvaysXMLHttpRequest}};a.events=ProChart_InitApiEvents(a);a.api=ProChart_InitApi(a);a.apiinit=ProChart_InitApiInit(a);a.apiactions=ProChart_InitApiActions(a);a.apicommondata=ProChart_InitApiCommonDataInit(a);a.apibi=ProChart_InitApiBI(a);var m=a.api.debug.getLogger("prochart.gui.layout"),J="";return a};
function ProChart_InitCurrentLayout(b){var a={version:"2.1",layout:null,toolbars:null,menus:null,headers:null,panels:null,zooms:null,mode:null,patterns:{containter:null,top:null,left:null,right:null,bottom:null,main:null,mainchart:null,row:null},chart:{layoutiid:null,parent:null,width:0,height:0,top:0,left:0},workmode:{fullscreen:!1,alwaysfullscreen:!1},timeframeview:"text",buttontype:"icon"};b.currenlayout=a;a.layout={width:900,height:600,name:"layout",items:[{type:"top",height:"inherit",width:"inherit",
view:!0,style:"",css:"",content:"top",items:[{type:"row",name:"header",height:40,width:"inherit",view:!0,style:"",css:"",content:"row2",items:[{type:"header",id:"header1"}]},{type:"row",name:"menu",height:30,width:"inherit",view:!0,style:"",css:"",content:"row0",items:[{type:"menu",id:"mainmenu"}]},{type:"row",name:"toolbar",height:32,width:"inherit",view:!0,style:"",css:"",content:"row1",items:[{type:"toolbar",id:"toolbar1"}]}]},{type:"left",width:"40",height:"inherit",view:!0,style:"",css:"",content:"left",
items:[{type:"col",name:"toolbar1",height:"inherit",width:"40",left:"0",top:"5",view:!0,style:"",css:"",content:"col",items:[{type:"toolbar",id:"toolbar_left_vertical"}]}]},{type:"right",width:"0",height:"inherit",view:!0,style:"",css:"",content:"right",items:[]},{type:"main",width:"inherit",height:"inherit",style:"",css:"",content:"main",items:[{type:"chartcore",id:"chart_panel"},{type:"bottom",width:"inherit",height:30,view:!0,style:"",css:"",content:"bottom",name:"mainbottom",items:[{type:"row",
name:"zoomrow",height:30,width:"inherit",style:"",css:"",content:"row22",items:[{type:"zoom",id:"zoom1"}]}]}]},{type:"bottom",width:"inherit",height:40,view:!1,style:"",css:"",content:"bottom",items:[]}]};a.toolbars=[{name:"toolbar",id:"toolbar1",location:"horizontal",more:{auto:!0,captionview:!0,spaceview:!0,closebyclick:!0,possition:"bottom",alignv:"auto",alignh:"auto",columns:1},items:[{type:"button",id:"pointer",localize:"tools.tools.pointer",icon:"pointer1-icon",caption:"Pointer"},{type:"space",
id:"space1"},{type:"button-group-charttype",id:"charttype"},{type:"space",id:"space1"},{type:"button-group-timeframe",id:"timeframe"},{type:"space",id:"space1"},{type:"button",id:"global-props",icon:"config-icon",localize:"tools.general.globalproperties",css:"",caption:"Global properties"},{type:"button",id:"screen-shot",icon:"camera",localize:"tools.general.screenshot",css:"",caption:"Screen shot"},{type:"button",id:"full-screen",icon:"zoom-full",localize:"tools.general.fullscreen",css:"full-screen",
caption:"Full screen",buttonalign:"right"},{type:"space",id:"space1"},{type:"button",id:"system-get",icon:"system-get",localize:"tools.system.get",css:"system-get",caption:"Open System"},{type:"button",id:"system-set",icon:"system-set",localize:"tools.system.save",css:"system-set",caption:"Save System"}]},{name:"toolbar",id:"toolbar_left_vertical",location:"vertical",more:{auto:!0,captionview:!1,spaceview:!0,closebyclick:!0,possition:"right",alignv:"bottom",alignh:"auto",columns:3},items:[{type:"button",
id:"delete_selected",localize:"tools.tools.delete_selected",icon:"delete-icon",caption:"Delete Selected Shape"},{type:"button",id:"delete_allshapes",localize:"tools.tools.delete_allshapes",icon:"delete-shapes",caption:"Delete All Shapes"},{type:"button",id:"delete_allstudies",localize:"tools.tools.delete_allstudies",icon:"delete-indicators",caption:"Delete All Studies"},{type:"button",id:"duplicate_delected",localize:"tools.tools.duplicate_delected",icon:"many-windows-icon",caption:"Duplicate Selected Shape"},
{type:"space",id:"space1",location:"horizontal"},{type:"button-group",id:"group-6",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"ray-line",group:{type:"tooltip",possition:"right",alignv:"auto",alignh:"auto",columns:8,css:"",closebyclick:!0,changegroupicon:!0},items:[{type:"button",id:"draw_rayline",localize:"tools.draw.draw_raylineright",icon:"ray-line",caption:"Ray"},{type:"button",id:"draw_vline",localize:"tools.draw.draw_vline",icon:"vertical-line",caption:"Vertical Line"},{type:"button",
id:"draw_hline",localize:"tools.draw.draw_hline",icon:"horizontal-line",caption:"Horizontal Line"},{type:"button",id:"draw_extendedline",localize:"tools.draw.draw_extendedline",icon:"extended-line",caption:"Extended line"},{type:"button",id:"draw_arrow",localize:"tools.draw.draw_arrow",icon:"arrow",caption:"Arrow"},{type:"button",id:"draw_line",localize:"tools.draw.draw_line",icon:"trendline",caption:"Trend line"},{type:"button",id:"draw_measure",localize:"tools.draw.draw_measure",icon:"measure",
caption:"Measure"},{type:"button",id:"draw_parallel",localize:"tools.draw.draw_parallel",icon:"parallel-lines",caption:"Parallel line"}]},{type:"button-group",id:"group-5",localize:"tools.draw.draw_rect",icon:"rectangle",caption:"Rectangle",group:{type:"tooltip",possition:"right",alignv:"auto",alignh:"auto",columns:7,css:"",changegroupicon:!0,closebyclick:!0},items:[{type:"button",id:"draw_rect",localize:"tools.draw.draw_rect",icon:"rectangle",caption:"Rectangle"},{type:"button",id:"draw_arc",localize:"tools.draw.draw_arc",
icon:"draw-arc",caption:"Arc"},{type:"button",id:"draw_ellipse",localize:"tools.draw.draw_ellipse",icon:"ellipce",caption:"Ellipse"},{type:"button",id:"draw_circle",localize:"tools.draw.draw_circle",icon:"circle",caption:"Circle"},{type:"button",id:"draw_triangle",localize:"tools.draw.draw_triangle",icon:"triangle",caption:"Triangle"},{type:"button",id:"draw_polygon",localize:"tools.draw.draw_polygon",icon:"polygon",caption:"Polygon"},{type:"button",id:"draw_text",localize:"tools.draw.draw_text",
icon:"text-tool",caption:"Text"}]},{type:"button-group",id:"group-8",localize:"tools.draw.draw_fibretrace",icon:"fib-retracement",caption:"Fibo Retracement",group:{type:"tooltip",possition:"right",alignv:"auto",alignh:"auto",columns:6,css:"",closebyclick:!1},items:[{type:"button",id:"draw_fork",localize:"tools.draw.draw_fork",icon:"adrews_pitchfork",caption:"Andrews Pitchfork"},{type:"button",id:"draw_fibretrace",localize:"tools.draw.draw_fibretrace",icon:"fib-retracement",caption:"Fibo.Retracement"},
{type:"button",id:"draw_fibtimezones",localize:"tools.draw.draw_fibtimezones",icon:"fib-timezone",caption:"Fibo.Time-zones"},{type:"button",id:"draw_fibfan",localize:"tools.draw.draw_fibfan",icon:"fib-fan",caption:"Fibonacci fan"},{type:"button",id:"draw_fibarc",localize:"tools.draw.draw_fibarc",icon:"fib-arc",caption:"Fibonacci arc"},{type:"button",id:"draw_ganfan",localize:"tools.draw.draw_ganfan",icon:"fib-gannfan",caption:"Gann fan"},{type:"button",id:"draw_fibextension",localize:"tools.draw.draw_fibextension",
icon:"fib-extension",caption:"Fibo. extension"},{type:"button",id:"draw_fibtimeextension",localize:"tools.draw.draw_fibtimeextension",icon:"fib-time-extentsion",caption:"Time-extension"},{type:"button",id:"draw_gansquare",localize:"tools.draw.draw_gansquare",icon:"fib-gann-square",caption:"Gann square"},{type:"button",id:"draw_linearreg",localize:"tools.draw.draw_linearreg",icon:"regression-channel",caption:"Linear regression"},{type:"button",id:"draw_cycleline",localize:"tools.draw.draw_cycleline",
icon:"cycle-lines",caption:"Cycle lines"}]},{type:"button-group",id:"group-9",localize:"tools.autotimescale.title",icon:"",caption:"Auto time scale",title1:"A",title2:"ts",group:{type:"menu",possition:"right",alignv:"auto",alignh:"auto",columns:9,css:"",closebyclick:!0,changegroupicon:!1,viewtype:"text"},items:[{type:"item",id:"all",localize:"tools.autotimescale.all",icon:"",caption:"All",action:"autotimescale"},{type:"item",id:"5y",localize:"tools.autotimescale.5y",icon:"",caption:"5y",action:"autotimescale"},
{type:"item",id:"1y",localize:"tools.autotimescale.1y",icon:"",caption:"1y",action:"autotimescale"},{type:"item",id:"ytd",localize:"tools.autotimescale.ytd",icon:"",caption:"ytd",action:"autotimescale"},{type:"item",id:"6m",localize:"tools.autotimescale.6m",icon:"",caption:"6m",action:"autotimescale"},{type:"item",id:"3m",localize:"tools.autotimescale.3m",icon:"",caption:"3m",action:"autotimescale"},{type:"item",id:"1m",localize:"tools.autotimescale.1m",icon:"",caption:"1m",action:"autotimescale"},
{type:"item",id:"5d",localize:"tools.autotimescale.5d",icon:"",caption:"5d",action:"autotimescale"},{type:"item",id:"1d",localize:"tools.autotimescale.1d",icon:"",caption:"1d",action:"autotimescale"}]},{type:"space",id:"space3",location:"horizontal"},{type:"button",id:"zoom_in",localize:"tools.view.zoom_in",icon:"zoom-plus",caption:"Zoom-in"},{type:"button",id:"zoom_out",localize:"tools.view.zoom_out",icon:"zoom-minus",caption:"Zoom-out"},{type:"button",id:"zoom_left",localize:"tools.view.zoom_left",
icon:"zoom-left",caption:"Zoom left"},{type:"button",id:"zoom_right",localize:"tools.view.zoom_right",icon:"zoom-right",caption:"Zoom right"},{type:"button",id:"zoom_all",localize:"tools.view.zoom_all",icon:"zoom-all",caption:"View all"},{type:"button",id:"zoom_default",localize:"tools.view.zoom_default",icon:"zoom-default",caption:"Default zoom"}]},{name:"toolbar",id:"toolbar_header_timeframe",location:"horizontal",style:"background-color:transparent",more:{auto:!0,captionview:!0,spaceview:!0,closebyclick:!0,
possition:"right",alignv:"right",alignh:"auto",columns:1},items:[{type:"button-group",id:"group-header",localize:"menu.timescale.1T",icon:"tick",caption:"tick",style:"background-color:transparent; width:65px; ",title1:"",title2:"",css:"header-timeframe",captionview:!0,group:{type:"menu",possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:"",closebyclick:!0,changegroupicon:!0,grouptype:"timescale",viewtype:"text"},items:[{type:"button-group-timeframe",id:"timeframe",captionview:!0,viewall:!1,
css:""}]}]}];a.chart_panels={id:"chart_panel",unit:"px",padding:[0,0,0,0],spiltmargin:[0,0,0,0],margin:[0,0,0,0],price:{grow:4,axisy:{view:!0,width:55,right:0,padding:[0,0,0,0]},axisxinmain:{view:!0,height:11,right:55,bottom:0,top:"auto",padding:[0,0,0,0]},axisx:{view:!0,height:27,right:55,bottom:"relative",bottomrelative:"axisxmsg",padding:[0,0,0,0]},axisxmsg:{view:!1,height:22,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:"relative",bottomrelative:"axisx,axisxmsg",padding:[0,
0,0,0]},volume:{view:!1,height:60,right:55,padding:[0,0,0,0]},legend:{view:!0,height:"inherit",width:"inherit",top:12,left:23,right:"auto",padding:[0,0,0,0],more:!0},collapselegend:{view:!0,height:13,top:12,left:2,width:13,collapseopen:!1,title_1:"+",title_2:"-"},watermark:{view:!0,bottom:20,left:20,width:104,height:34,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:43,right:65,top:2},zoom:{view:!0,height:40,bottom:"relative",bottomrelative:"axisx,axisxmsg, 30",width:185,left:"center",right:"center",
padding:[0,0,0,0]},htmlcontainers:{items:[{view:!1,height:"inherit",width:"inherit",right:"auto",left:40,top:50,content:"",css:"",bottom:"auto",items:[{type:"toolbar",id:"toolbar_mainpanel_timeframe"}]}]}},study:{grow:1,axisy:{top:0,bottom:0,view:!0,width:55,right:0,padding:[0,0,0,0]},axisx:{view:!1,height:0,right:55,bottom:0,padding:[0,0,0,0]},main:{top:0,left:0,right:55,bottom:0,padding:[0,0,0,0]},legend:{view:!0,height:"inherit",width:"inherit",top:2,left:3,right:"auto",padding:[0,0,0,0]},controlpanel:{view:!0,
height:16,width:66,right:65,top:2}},splitterx:{grow:0,height:0,main:{top:-6,view:!0,left:0,right:0,bottom:0,height:10,padding:[0,0,0,0]}},signal:{grow:1,main:{top:18,left:0,right:0,bottom:0,padding:[0,0,0,0]},legend:{view:!1,height:16,top:2,left:3,right:110,padding:[0,0,0,0]},controlpanel:{view:!0,height:16,width:55,right:65,top:2},alert:{view:!0,top:0,left:0,bottom:0,right:0,padding:[0,0,0,0]}}};a.menus={click:!0,hover:!1,closebyclick:!0,items:[{name:"menu",id:"mainmenu",more:{auto:!0,captionview:!0,
spaceview:!0,possition:"bottom",possition_sub1:"left",alignv:"auto",alignh:"auto"},items:[{type:"menu-item-group",id:"majors",caption:"Majors",localize:"menu.majors.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-majors",id:"group-majors"},{type:"menu-item",id:"menu-majorform",caption:"More majors",localize:"menu.majors.openmajors"},{type:"menu-item",id:"menu-headersymbolsearch",caption:"Search",localize:"menu.majors.symbolsearch"}]},{type:"menu-item-group",
id:"majors",caption:"Majors2",localize:"menu.majors2.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-majors2",id:"group-majors2"}]},{type:"menu-item-group",id:"charttype",caption:"Chart type",localize:"menu.charttype.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-charttype",id:"group-charttype",favorites:!0,icons:!0}]},{type:"menu-item-group",id:"timeframe",caption:"Time scales",localize:"menu.timescale.title",
group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-timeframe",id:"group-timeframe",favorites:!0,icons:!0}]},{type:"menu-item-group",id:"studies",caption:"Studies",localize:"menu.indicators.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-indicators",id:"group-indicators"},{type:"menu-item",id:"menu-indicatorform",caption:"Indicators:",localize:"menu.indicators.openindicators"}]},{type:"menu-item-group",
id:"compares",caption:"Compare",localize:"menu.compares.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-compares",id:"group-compares"},{type:"menu-item",id:"menu-compareform",caption:"Compare wizard:",localize:"menu.compares.opencompares"}]},{type:"menu-item-group",id:"localization",caption:"Localization",localize:"menu.localization.title",group:{possition:"bottom",alignv:"auto",alignh:"auto",columns:1,css:""},items:[{type:"menu-group-localizations",
id:"group-localizations"}]},{type:"menu-item",id:"about",caption:"About",localize:"menu.about.title"},{type:"menu-item",id:"help",caption:"Help",localize:"menu.help.title"}]}]};a.headers=[{id:"header1",unit:"px",items:[{type:"searchbutton",possition:{height:"auto",width:"auto",right:"auto",left:0,top:"auto",bottom:"auto",view:!0}},{type:"symboltitle",possition:{height:"auto",width:"auto",right:"auto",left:35,top:"auto",bottom:"auto",view:!0}},{type:"searchsymbol",search:!0,select:!0,possition:{height:"auto",
width:"auto",right:"auto",left:35,top:"auto",bottom:"auto",view:!0}},{type:"timeframe",relativeobject:"symboltitle2",relativepossition:"right",possition:{height:"auto",width:"auto",right:"auto",left:290,top:"auto",bottom:"auto",view:!1}},{type:"communic",possition:{height:"auto",width:"auto",right:0,left:"auto",top:"5",bottom:"auto",view:!0}},{type:"lastupdate",possition:{height:"auto",width:"auto",right:25,left:"auto",top:"auto",bottom:"auto",view:!0}},{type:"toolbar",id:"toolbar_header_timeframe",
toolbarid:"toolbar_header_timeframe1",relativeobject:"symboltitle",relativepossition:"right",possition:{height:"auto",width:"inherit",right:"auto",left:10,top:2,bottom:"auto",view:!0}}]}];a.zooms=[{id:"zoom1",unit:"px",items:[{type:"chart_container",possition:{height:25,width:"auto",right:0,left:0,top:"auto",bottom:0,view:!0}},{type:"slider1",possition:{height:30,width:"auto",right:20,left:20,top:50,bottom:"auto",view:!1}},{type:"daterange",possition:{height:10,width:200,right:10,left:"auto",top:"auto",
bottom:"auto",view:!1}}]}];a.mode={items:[]};return a};
function ProChart_InitLocalization(B,w,k){function x(a,c,b){var e=$.Deferred();c=f.guiinit.rootpath+c+"/localization";var l=!1==y?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name;a=c+"/prochart-"+a+".js"+l;if(f.navigator.XMLHttpRequest()){var h=new XMLHttpRequest;h.objectname=b;h.timeout=500;h.open("get",a);h.onload=function(){var a=$.parseJSON(h.responseText);d.dataLang[h.objectname]=a;e.resolve(a)};h.send()}else $.ajax({url:a,timeout:500,contentType:"application/javascript",dataType:"json",
objectname:b,async:!0}).done(function(a){d.dataLang[this.objectname]=a;e.resolve(a)}).fail(function(a,b){p.error(a,b)});return e.promise()}function z(){$("#layout"+f.init.uuid).find("[data-localize]").each(function(){var a,c,b;a=$(this);c=$(this).attr("data-localize");b=g(d.dataLang,c);null!=b&&(a.is("input")?m(a,c,b):a.is("img")?q(a,c,b):a.is("button")?t(a,c,b):a.is("optgroup")?a.attr("label",b):$.isPlainObject(b)||u(a,c,b))})}function t(a,c,b){v(a.attr("title"))||a.attr("title",b);a.hasClass("ui-button")?
a.find("span").html(b):0<a.has("span").length?(a.hasClass("icon-button")||a.hasClass("no-icon-button"))&&a.hasClass("caption-button")&&(c=a.find("span")[0].outerHTML+b,a.html(c)):0<a.has("b").length?a.hasClass("no-icon-button")&&(a.hasClass("onlycaption-timeframe")||a.hasClass("onlycaption-view"))&&(p.debug("Elem Button:",a.text()),c=a.find("b")[0].outerHTML+b,a.html(c)):v(a.html())||a.html(b)}function u(a,c,b){0<$(a).has("span").length?(a.hasClass("icon-item")||a.hasClass("no-icon-item"))&&a.hasClass("caption-item")&&
(c=a.find("span")[0].outerHTML+b,a.html(c),p.debug("Elem plain:",a[0].outerHTML)):v(a.html())||a.html(b)}function m(a,c,b){c=$.isPlainObject(b)?b.value:b;return a.is("[placeholder]")?a.attr("placeholder",c):a.val(c)}function q(a,c,b){A(a,"alt",b);return A(a,"src",b)}function A(a,c,b){b=g(c,b);if(null!=b)return a.attr(c,b)}function g(a,c){if(!a)return null;var b=c.split(".");return 1==b.length?a[b[0]]:"undefined"!=typeof a[b[0]]?g(a[b[0]],b.slice(1).join(".")):null}function v(a){return!a||0===a.replace(/^\s+|\s+$/g,
"").length}var f=B,y=f.guiinit.cache,p=f.api.debug.getLogger("prochart.gui.localization"),d={dataLang:null,lang:"",funcOnChangeLocalication:null};f.localizationobj=d;d.lang="undefined"!=typeof w?w:f.gui.init.localizationlang;var r=[];d.gui={changeLocalization:function(a){var c="ltr";"undefined"==typeof a?a=""!=d.lang?d.lang:"en":f.gui.init.localizationlang=a;for(var b=0;b<f.gui.init.localization.length;b++){var e=f.gui.init.localization[b];if(e.id==a){"undefined"!=typeof e.dir&&(c=e.dir);break}}if(a!=
d.lang||null==d.dataLang){var b=a,e=f.guiinit.rootpath+"/ChartUI/localization",l=$.Deferred(),h=!1==y?"?"+f.version.gui.name+(new Date).getTime():"?"+f.version.gui.name,g=e+"/prochart-"+b+".js",g=g+h,n=function(b){d.dataLang=b;b=d.lang=a;for(var e=0;e<r.length;e++)x(b,r[e].source,r[e].key);z();"function"==typeof d.funcOnChangeLocalication&&d.funcOnChangeLocalication(a,c)},m=function(a){try{window.GlobProchartObject[g]=a}catch(b){}if("undefined"!=typeof k){var c=prochartstation.get(k,"languagejs");
if(null!=c){for(var d=0;d<c.length;d++){var e=c[d];if("function"==typeof e["function"])e["function"](a);e.deferred.resolve()}prochartstation.del(k,"languagejs")}}};try{if("undefined"!=typeof window.GlobProchartObject[g])return n(window.GlobProchartObject[g]),l.resolve()}catch(q){}if("undefined"!=typeof k)if(null==prochartstation.get(k,"languagejs"))prochartstation.set(k,"languagejs",[]);else return b={deferred:l,"function":n},prochartstation.get(k,"languagejs").push(b),l.promise();if(f.navigator.XMLHttpRequest()){var s=
new XMLHttpRequest;s.open("get",g);s.onload=function(){var a=$.parseJSON(s.responseText);n(a);m(a);l.resolve(a)};s.send()}else $.ajax({url:g,dataType:"json",type:"GET",async:!0}).done(function(b){d.dataLang=b;d.lang=a;n(b);m(b);l.resolve(b)}).fail(function(a,b){p.error(a,b);prochartstation.del(k,"languagejs")});return l.promise()}z();"function"==typeof d.funcOnChangeLocalication&&d.funcOnChangeLocalication(a,c)},returnLocalizationString:function(a,c){return null!=a&&null!=d.dataLang&&null!=g(d.dataLang,
a)?g(d.dataLang,a):c},updateFromDataLang:function(a){$(a).find("[data-localize]").each(function(){var a,b,e;a=$(this);b=a.data("localize");if(0<b.length){b||(b=a.attr("rel").match(/localize\[(.*?)\]/)[1]);e=g(d.dataLang,b);var f=!0;"undefined"==typeof e&&(f=!1);null==e&&(f=!1);!0==f&&(a.is("input")?m(a,b,e):a.is("img")?q(a,b,e):a.is("button")?t(a,b,e):a.is("optgroup")?a.attr("label",e):$.isPlainObject(e)||u(a,b,e))}})},addPluginSource:function(a,c){r.push({key:a,source:c});null!=d.dataLang&&"undefined"==
typeof d.dataLang[a]&&x(d.lang,c,a)},returnCurrentLanguage:function(){var a="en";""!=d.lang&&(a=d.lang);for(var c="ltr",b=0;b<f.gui.init.localization.length;b++){var e=f.gui.init.localization[b];if(e.id==a){"undefined"!=typeof e.dir&&(c=e.dir);break}}return{lang:a,direction:c}},setLocalizationForElement:function(a){var c,b;c=a.attr("data-localize");b=g(d.dataLang,c);null!=b&&(a.is("input")?m(a,c,b):a.is("img")?q(a,c,b):a.is("button")?t(a,c,b):a.is("optgroup")?a.attr("label",b):$.isPlainObject(b)||
u(a,c,b))}};return d};
function ProChart_InitPreload(c){var f={},f={startPreload:function(){if(typeof c.events.layout.onPreloadStart==typeof Function){var b=$(c.parent).find(".htmlchart"),a=$(b).outerWidth(),e=$(b).outerHeight();c.events.layout.onPreloadStart(b,a,e)}else"undefined"!=typeof c.parent&&(b=$(c.parent).find(".htmlchart"),a=$(b).outerWidth(),e=$(b).outerHeight(),a='<div style="position:relative; " class="chart-preload-container" ><div style="position:absolute;   height:%height%px; width:%width%px;  " class="chart-preload"></div></div>'.replace("%width%",
a).replace("%height%",e),b.prepend(a),a=c.init.preload,$(b).find(".chart-preload").activity(a))},endPreload:function(){if(typeof c.events.layout.onPreloadFinished==typeof Function){var b=$(c.parent).find(".htmlchart");c.events.layout.onPreloadFinished(b)}else"undefined"!=typeof c.parent&&($(c.parent).find(".chart-preload").activity(!1),$(c.parent).find(".chart-preload-container").remove())},startPreloadinobject:function(b,a,e){if("undefined"!=typeof b&&null!=b){var d={};"undefined"==typeof e&&(e=
"default");switch(e){case "default":d=c.init.preload;break;case "small":d=c.init.preloadsmall;break;case "medium":d=c.init.preloadmedium;break;default:d=c.init.preload}"undefined"!=typeof a&&null!=a&&("undefined"!=typeof a.segments&&(d.segments=a.segments),"undefined"!=typeof a.steps&&(d.steps=a.steps),"undefined"!=typeof a.width&&(d.width=a.width),"undefined"!=typeof a.space&&(d.space=a.space),"undefined"!=typeof a.length&&(d.length=a.length),"undefined"!=typeof a.color&&(d.color=a.color),"undefined"!=
typeof a.speed&&(d.speed=a.speed));a='<div style="position:relative; " class="chart-preload-container-object" ><div style="position:absolute;   z-index:2;  height:%height%px; width:%width%px;  " class="chart-preload-object"></div></div>'.replace("%width%",$(b).outerWidth()).replace("%height%",$(b).outerHeight());b.prepend(a);$(b).find(".chart-preload-object").activity(d)}},endPreloadinobject:function(b){"undefined"!=typeof b&&($(b).find(".chart-preload-object").activity(!1),$(b).find(".chart-preload-container-object").remove())}};
return c.preloadobj=f};
(function(e){e.fn.prochart_hoverIntent=function(a,l,p){var b={interval:100,sensitivity:6,timeout:0},b="object"===typeof a?e.extend(b,a):e.isFunction(l)?e.extend(b,{over:a,out:l,selector:p}):e.extend(b,{over:a,out:a,selector:l}),f,g,h,k,m=function(b){f=b.pageX;g=b.pageY},n=function(a,d){d.hoverIntent_t=clearTimeout(d.hoverIntent_t);if(Math.sqrt((h-f)*(h-f)+(k-g)*(k-g))<b.sensitivity)return e(d).off("mousemove.hoverIntent",m),d.hoverIntent_s=!0,b.over.apply(d,[a]);h=f;k=g;d.hoverIntent_t=setTimeout(function(){n(a,
d)},b.interval)};a=function(a){var d=e.extend({},a),c=this;c.hoverIntent_t&&(c.hoverIntent_t=clearTimeout(c.hoverIntent_t));"mouseenter"===a.type?(h=d.pageX,k=d.pageY,e(c).on("mousemove.hoverIntent",m),c.hoverIntent_s||(c.hoverIntent_t=setTimeout(function(){n(d,c)},b.interval))):(e(c).off("mousemove.hoverIntent",m),c.hoverIntent_s&&(c.hoverIntent_t=setTimeout(function(){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);c.hoverIntent_s=!1;b.out.apply(c,[d])},b.timeout)))};return this.on({"mouseenter.hoverIntent":a,
"mouseleave.hoverIntent":a},b.selector)}})(jQuery);
(function(d){d.fn.prochart_numeric=function(a,c){"boolean"===typeof a&&(a={decimal:a});a=a||{};"undefined"==typeof a.negative&&(a.negative=!0);var h=!1===a.decimal?"":a.decimal||".",b=!0===a.negative?!0:!1;c="function"==typeof c?c:function(){};return this.data("numeric.decimal",h).data("numeric.negative",b).data("numeric.callback",c).keypress(d.fn.prochart_numeric.keypress).keyup(d.fn.prochart_numeric.keyup).blur(d.fn.prochart_numeric.blur)};d.fn.prochart_numeric.keypress=function(a){var c=d.data(this,
"numeric.decimal"),h=d.data(this,"numeric.negative"),b=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(13==b&&"input"==this.nodeName.toLowerCase())return!0;if(13==b)return!1;var f=!1;if(a.ctrlKey&&97==b||a.ctrlKey&&65==b||a.ctrlKey&&120==b||a.ctrlKey&&88==b||a.ctrlKey&&99==b||a.ctrlKey&&67==b||a.ctrlKey&&122==b||a.ctrlKey&&90==b||a.ctrlKey&&118==b||a.ctrlKey&&86==b||a.shiftKey&&45==b)return!0;if(48>b||57<b){var e=d(this).val();if(0!==e.indexOf("-")&&h&&45==b&&(0===e.length||0===parseInt(d.fn.prochart_getSelectionStart(this),
10)))return!0;c&&b==c.charCodeAt(0)&&-1!=e.indexOf(c)&&(f=!1);8!=b&&9!=b&&13!=b&&35!=b&&36!=b&&37!=b&&39!=b&&46!=b?f=!1:"undefined"!=typeof a.charCode&&(a.keyCode==a.which&&0!==a.which?(f=!0,46==a.which&&(f=!1)):0!==a.keyCode&&0===a.charCode&&0===a.which&&(f=!0));c&&b==c.charCodeAt(0)&&(f=-1==e.indexOf(c)?!0:!1)}else f=!0;return f};d.fn.prochart_numeric.keyup=function(a){if((a=d(this).val())&&0<a.length){var c=d.fn.prochart_getSelectionStart(this),h=d.fn.prochart_getSelectionEnd(this),b=d.data(this,
"numeric.decimal"),f=d.data(this,"numeric.negative");if(""!==b&&null!==b){var e=a.indexOf(b);0===e&&(this.value="0"+a);1==e&&"-"==a.charAt(0)&&(this.value="-0"+a.substring(1));a=this.value}for(var m=[0,1,2,3,4,5,6,7,8,9,"-",b],e=a.length,g=e-1;0<=g;g--){var k=a.charAt(g);0!==g&&"-"==k?a=a.substring(0,g)+a.substring(g+1):0!==g||f||"-"!=k||(a=a.substring(1));for(var n=!1,l=0;l<m.length;l++)if(k==m[l]){n=!0;break}n&&" "!=k||(a=a.substring(0,g)+a.substring(g+1))}f=a.indexOf(b);if(0<f)for(e-=1;e>f;e--)a.charAt(e)==
b&&(a=a.substring(0,e)+a.substring(e+1));this.value=a;d.fn.prochart_setSelection(this,[c,h])}};d.fn.prochart_numeric.blur=function(){var a=d.data(this,"numeric.decimal"),c=d.data(this,"numeric.callback"),h=this.value;""!==h&&((new RegExp("^\\d+$|^\\d*"+a+"\\d+$")).exec(h)||c.apply(this))};d.fn.prochart_removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",d.fn.prochart_numeric.keypress).unbind("blur",d.fn.prochart_numeric.blur)};
d.fn.prochart_getSelectionStart=function(a){if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveEnd("character",a.value.length);return""===c.text?a.value.length:a.value.lastIndexOf(c.text)}return a.selectionStart};d.fn.prochart_getSelectionEnd=function(a){if(a.createTextRange){var c=document.selection.createRange().duplicate();c.moveStart("character",-a.value.length);return c.text.length}return a.selectionEnd};d.fn.prochart_setSelection=function(a,c){"number"==typeof c&&
(c=[c,c]);if(c&&c.constructor==Array&&2==c.length)if(a.createTextRange){var d=a.createTextRange();d.collapse(!0);d.moveStart("character",c[0]);d.moveEnd("character",c[1]);d.select()}else a.setSelectionRange&&(a.focus(),a.setSelectionRange(c[0],c[1]))}})(jQuery);
function ProChart_InitCommonUtils(q){function l(a,b){for(var d="position z-index pointer-events more left right top bottom width height view".split(" "),c="",e=Object.keys(a),f=0;f<e.length;f++){var g=e[f],h;a:{for(h=0;h<d.length;h++)if(d[h]==g){h=!0;break a}h=!1}h||(c=c+g+":"+a[g]+"; ")}"undefined"!=typeof a.position&&(c=c+"position:"+a.position+"; ");"undefined"!=typeof a["z-index"]&&(c=c+"z-index:"+a["z-index"]+"; ");"undefined"!=typeof a["pointer-events"]&&(c=c+"pointer-events:"+a["pointer-events"]+
"; ");"undefined"!=typeof a.more&&(c+=a.more);"undefined"!=typeof a.left&&(c=c+"left :"+a.left+(isNaN(a.left)?"":b)+"; ");"undefined"!=typeof a.right&&(c=c+"right :"+a.right+(isNaN(a.right)?"":b)+"; ");"undefined"!=typeof a.top&&(c=c+"top :"+a.top+(isNaN(a.top)?"":b)+"; ");"undefined"!=typeof a.bottom&&(c=c+"bottom :"+a.bottom+(isNaN(a.bottom)?"":b)+"; ");"undefined"!=typeof a.width&&(c=c+"width :"+a.width+(isNaN(a.width)?"":b)+"; ");"undefined"!=typeof a.height&&(c=c+"height :"+a.height+(isNaN(a.height)?
"":b)+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(c+="display : none; ");return c}function n(a){if(null==a||0==a.trim().length)return[0,0,0];a=a.trim().toLowerCase();var b=a.match(/^#([0-9a-f]{3})$/i);if(b)return b=b[1],[17*parseInt(b.charAt(0),16),17*parseInt(b.charAt(1),16),17*parseInt(b.charAt(2),16),1];if(b=a.match(/^#([0-9a-f]{6})$/i))return b=b[1],[parseInt(b.substr(0,2),16),parseInt(b.substr(2,2),16),parseInt(b.substr(4,2),16),1];if(b=a.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+.*\d*)\s*\)$/i)||
a.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))return[b[1],b[2],b[3],void 0===b[4]?1:b[4]];if(b=a.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))return[b[1],b[2],b[3],1];if(0==a.indexOf("hsl")){b=a;"string"==typeof b&&(b=b.match(/(\d+(\.\d+)?)/g));a=b[0]/360;var d=b[1]/100,c=b[2]/100,b=void 0===b[3]?1:b[3],e,f;if(0==d)e=Math.round(255*c),f=[e,e,e,b];else{d=.5>c?c*(1+d):c+d-c*d;c=2*c-d;f=[0,0,0];for(var g=0;3>g;g++)e=a+1/3*-(g-1),0>e&&e++,1<e&&e--,e=1>6*e?c+6*(d-c)*e:1>2*e?
d:2>3*e?c+(d-c)*(2/3-e)*6:c,f[g]=Math.round(255*e)}f.push(b);return f}return[0,0,0]}function m(a,b){var d=b.split(".");return 1==d.length?a[d[0]]:"undefined"!=typeof a[d[0]]?m(a[d[0]],d.slice(1).join(".")):null}function p(a,b,d){b=b.split(".");1==b.length&&(a[b[0]]=d);"undefined"!=typeof a[b[0]]&&p(a[b[0]],b.slice(1).join("."),d)}(function(a){a.fn.hasScrollBar=function(){return this.get(0)?this.get(0).scrollHeight>this.innerHeight():!1}})(jQuery);(function(a){a.fn.widthScrollBar=function(){return this.get(0)?
this.get(0).offsetWidth-this.get(0).clientWidth:20}})(jQuery);var k={};q.commonutils=k;k.func={parseColorString:n,getKeybyPath:function(a,b){var d,c,e=0,f;a=a||window;for(c=(d=b&&b.split("."))&&d.length;e<c&&a;)f=d[e],a="function"==typeof a.get?a.get(f):a[f],e++;e<c&&(a=null);return a},returnShortUniqID:function(){return Math.uuid(8)},intersection_difference:function(a,b){var d=[],c=[];a.map(function(a){0<=b.indexOf(a)?d.push(a):c.push(a)});return{res1:d,res2:c}},valueForKey:m,updateValueByKey:p,
sleep:function(a){for(var b=(new Date).getTime();(new Date).getTime()<b+a;);},sleep2:function(a){for(var b=(new Date).getTime(),d=0;1E7>d&&!((new Date).getTime()-b>a);d++);},loadCSS:function(a){var b=$("<link>");$("head").append(b);b.attr({rel:"stylesheet",type:"text/css",href:a})},initColor:function(a,b,d,c){"undefined"==typeof c&&(c=!1);d=[];c&&d.push("rgba(0, 0, 0, 0);{rgba(0, 0, 0, 0.1);{rgba(0, 0, 0, 0.2);{rgba(0, 0, 0, 0.3);{rgba(0, 0, 0, 0.4);{rgba(0, 0, 0, 0.5);{rgba(0, 0, 0, 0.6);{rgba(0, 0, 0, 0.7);{rgba(0, 0, 0, 0.8);{rgba(0, 0, 0, 0.9);".split("{"));
d.push("rgb(0, 0, 0);{rgb(66, 66, 66);{rgb(101, 101, 101);{rgb(152, 152, 152);{rgb(182, 182, 182);{rgb(203, 203, 203);{rgb(216, 216, 216);{rgb(238, 238, 238);{rgb(242, 242, 242);{rgb(255, 255, 255);".split("{"));d.push("rgb(151, 0, 0);{rgb(255, 0, 0);{rgb(255, 152, 0);{rgb(255, 255, 0);{rgb(0, 255, 0);{rgb(0, 255, 255);{rgb(73, 133, 231);{rgb(0, 0, 255);{rgb(152, 0, 255);{rgb(255, 0, 255);".split("{"));d.push("rgb(230, 184, 175);{rgb(244, 204, 204);{rgb(252, 229, 205);{rgb(255, 242, 204);{rgb(217, 234, 211);{rgb(208, 224, 227);{rgb(201, 218, 248);{rgb(207, 226, 243);{rgb(217, 210, 233);{rgb(234, 209, 220);".split("{"));
d.push("rgb(221, 126, 107);{rgb(234, 153, 153);{rgb(249, 203, 156);{rgb(255, 229, 153);{rgb(182, 215, 168);{rgb(162, 196, 201);{rgb(164, 194, 244);{rgb(159, 197, 232);{rgb(180, 167, 214);{rgb(213, 166, 189);".split("{"));d.push("rgb(204, 65, 37);{rgb(224, 102, 102);{rgb(246, 178, 107);{rgb(255, 217, 102);{rgb(147, 196, 125);{rgb(118, 165, 175);{rgb(109, 158, 235);{rgb(111, 168, 220);{rgb(142, 124, 195);{rgb(194, 123, 160);".split("{"));d.push("rgb(166, 28, 0);{rgb(204, 0, 0);{rgb(230, 145, 56);{rgb(241, 194, 50);{rgb(106, 168, 79);{rgb(69, 129, 142);{rgb(60, 120, 216);{rgb(61, 133, 198);{rgb(103, 78, 167);{rgb(166, 77, 121);".split("{"));
d.push("rgb(133, 32, 12);{rgb(153, 0, 0);{rgb(180, 95, 6);{rgb(191, 144, 0);{rgb(56, 118, 29);{rgb(19, 79, 92);{rgb(17, 85, 204);{rgb(11, 83, 148);{rgb(53, 28, 117);{rgb(116, 27, 71);".split("{"));d.push("rgb(91, 15, 0);{rgb(102, 0, 0);{rgb(120, 63, 4);{rgb(127, 96, 0);{rgb(39, 78, 19);{rgb(12, 52, 61);{rgb(28, 69, 135);{rgb(7, 55, 99);{rgb(32, 18, 77);{rgb(76, 17, 48);".split("{"));$(a).spectrum({color:b,showAlpha:c,showPalette:!0,showPaletteOnly:!1,clickoutFiresChange:!1,showButtons:!1,palette:d})},
toBool:function(a,b){if("undefined"==typeof a)return b;switch(a){case !0:case "true":return!0;case !1:case "false":return!1;default:return b}},getBlockStyle:function(a,b){var d=l(a,b);return""!=d?"style='"+d+"'":""},getPartStyle:l,LightenDarkenColor:function(a,b,d){try{var c=n(a),e=c[0],f=c[1],g=c[2];if(d)if(128<=(299*e+587*f+114*g)/1E3){if(0<b)return a}else if(0>b)return a;var e=parseInt(e*(100+b)/100),f=parseInt(f*(100+b)/100),g=parseInt(g*(100+b)/100),e=255>e?e:255,f=255>f?f:255,g=255>g?g:255,
h=1==e.toString(16).length?"0"+e.toString(16):e.toString(16),k=1==f.toString(16).length?"0"+f.toString(16):f.toString(16),l=1==g.toString(16).length?"0"+g.toString(16):g.toString(16);return"#"+h+k+l}catch(m){return a}},detectmob:function(){var a=!0;return(a=$(window).width()>$(window).height()?!0:!1)?800>=window.innerWidth&&600>=window.innerHeight?!0:!1:800>=window.innerHeight&&600>=window.innerWidth?!0:!1}};(function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");
Math.uuid=function(b,d){var c=[],e;d=d||a.length;if(b)for(e=0;e<b;e++)c[e]=a[0|Math.random()*d];else{var f;c[8]=c[13]=c[18]=c[23]="-";c[14]="4";for(e=0;36>e;e++)c[e]||(f=0|16*Math.random(),c[e]=a[19==e?f&3|8:f])}return c.join("")};Math.uuidFast=function(){for(var b=Array(36),d=0,c,e=0;36>e;e++)8==e||13==e||18==e||23==e?b[e]="-":14==e?b[e]="4":(2>=d&&(d=33554432+16777216*Math.random()|0),c=d&15,d>>=4,b[e]=a[19==e?c&3|8:c]);return b.join("")};Math.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var d=16*Math.random()|0;return("x"==a?d:d&3|8).toString(16)})}})();return k};
(function(a){a.fn.prochart_splitterh=function(b){b=a.extend({handle:"",cursor:"n-resize",min:40,start:function(){},resizing:function(){},completed:function(){}},b);var h=""===b.handle?this:this.find(b.handle);a("body").css("cursor");return h.css("cursor",b.cursor).off("mousedown").on("mousedown",function(l){a("body").css("cursor");a("body").css("cursor",b.cursor);a("body").addClass("draggable-split-h-body");b.start&&b.start.call(this);var m=(new Date).getTime(),k=(new Date).getTime();a(".draggable-split-h-body").bind("mouseup",
function(){a("body").css("cursor","default");a(".draggable-split-h").removeClass("draggable-split-h").css("z-index",h);b.completed&&(a(".draggable-split-h-body").unbind("mouseup").removeClass("draggable-split-h-body"),b.completed.call(this))});var c=""===b.handle?a(this).addClass("draggable-split-h"):a(this).addClass("active-handle").parent().addClass("draggable-split-h"),f=a(".draggable-split-h").prev(),g=a(".draggable-split-h").next(),h=c.css("z-index"),n=c.outerHeight();c.outerHeight();var r=c.offset().top+
n-l.pageY;c.offset();var p=0,q=0;c.css("z-index",1E3).parents().off("mousemove").on("mousemove",function(e){if(f&&g){var d=a(".draggable-split-h").prev().height(),c=a(".draggable-split-h").next().height(),d=d+c;0!=f.length&&0!=g.length&&(c=f.offset().top,g.offset(),e=e.pageY-c+(r-n/2),d-=e,e<b.min||d<b.min||(p!=e&&q!=d&&(p=e,q=d,c=!1,k=(new Date).getTime(),500<k-m&&(m=k),c=!1,b.resizing&&b.resizing.call(this,[{id:a(".draggable-split-h").prev().attr("id"),height:e,width:null},{id:a(".draggable-split-h").next().attr("id"),
height:d,width:null}],c)),f.css("height",e.toString()+"px"),g.css("height",d.toString()+"px")))}});l.preventDefault()})}})(jQuery);
(function(){var b={};prochartstation={get:function(a,c){if(!0==b.hasOwnProperty(a)){var d=b[a];if(d.hasOwnProperty(c))return d[c]}return null},set:function(a,c,d){!0!=b.hasOwnProperty(a)&&(b[a]={});a=b[a];!0!=a.hasOwnProperty(c)&&(a[c]=d)},del:function(a,c){if(!0==b.hasOwnProperty(a)){var d=b[a];!0==d.hasOwnProperty(c)&&delete d[c]}},view:function(){return b}}})();
(function(h){var e=[];h.prochartcache={get:function(){for(var a="",c=[],b="",d=0;d<arguments.length;d++)if("object"==typeof arguments[d]){var f=arguments[d];if(f&&0<f.length)f[0].id?a=""==a?a+"#"+f[0].id:a+" #"+f[0].id:f.selector&&(a=""==a?a+f.selector:a+" "+f.selector),c.push(arguments[d]);else return null}else a=""==a?a+arguments[d]:a+" "+arguments[d],c.push(arguments[d]);0<c.length&&(b=c.splice(arguments.length-1,1).toString());if(e.hasOwnProperty(a)&&null!=e[a])return e[a];switch(arguments.length){case 0:return null;
case 1:return b=null,(b="object"==typeof arguments[0]?arguments[0]:h(a))&&0<b.length?e[a]=b:null;default:return(c=h.prochartcache.get.apply(this,c))&&0<c.length&&(b=c.find(b))&&0<b.length?e[a]=b:null}},clear:function(){e=[]},update:function(){for(var a="",c=[],b=0;b<arguments.length;b++)if("object"==typeof arguments[b]){var d=arguments[b];if(d&&0<d.length)d[0].id?a=""==a?a+"#"+d[0].id:a+" #"+d[0].id:d.selector&&(a=""==a?a+d.selector:a+" "+d.selector),c.push(arguments[b]);else return null}else a=""==
a?a+arguments[b]:a+" "+arguments[b],c.push(arguments[b]);""!=a&&e.hasOwnProperty(a)&&(e[a]=null);return this.get.apply(this,c)},del:function(a){e[a]&&delete e[a]},clearByMask:function(){for(var a="",c=0;c<arguments.length;c++)if("object"==typeof arguments[c]){var b=arguments[c];if(b&&0<b.length)b[0].id?a=""==a?a+"#"+b[0].id:a+" #"+b[0].id:b.selector&&(a=""==a?a+b.selector:a+" "+b.selector);else return null}else a=""==a?a+arguments[c]:a+" "+arguments[c];c=0;if(""==a)return c;for(var b=Object.keys(e),
d=0,f=b.length;d<f;d++){var g=b[d];g.startsWith(a)&&(delete e[g],c+=1)}return c},returnall:function(){return e},returnByMask:function(){for(var a="",c=0;c<arguments.length;c++)if("object"==typeof arguments[c]){var b=arguments[c];if(b&&0<b.length)b[0].id?a=""==a?a+"#"+b[0].id:a+" #"+b[0].id:b.selector&&(a=""==a?a+b.selector:a+" "+b.selector);else return null}else a=""==a?a+arguments[c]:a+" "+arguments[c];c=[];if(""==a)return c;for(var b=Object.keys(e),d=0,f=b.length;d<f;d++){var g=b[d];g.startsWith(a)&&
c.push(e[g])}return c}}})(jQuery);
this.JSON||(this.JSON={});
(function(){function m(a){return 10>a?"0"+a:a}function r(a){s.lastIndex=0;return s.test(a)?'"'+a.replace(s,function(a){var c=u[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function p(a,k){var c,d,h,q,g=e,f,b=k[a];b&&"object"===typeof b&&"function"===typeof b.toJSON&&(b=b.toJSON(a));"function"===typeof l&&(b=l.call(k,a,b));switch(typeof b){case "string":return r(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);case "object":if(!b)return"null";
e+=n;f=[];if("[object Array]"===Object.prototype.toString.apply(b)){q=b.length;for(c=0;c<q;c+=1)f[c]=p(c,b)||"null";h=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+g+"]":"["+f.join(",")+"]";e=g;return h}if(l&&"object"===typeof l)for(q=l.length,c=0;c<q;c+=1)d=l[c],"string"===typeof d&&(h=p(d,b))&&f.push(r(d)+(e?": ":":")+h);else for(d in b)Object.hasOwnProperty.call(b,d)&&(h=p(d,b))&&f.push(r(d)+(e?": ":":")+h);h=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+g+"}":"{"+f.join(",")+"}";e=g;return h}}
"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+m(this.getUTCMonth()+1)+"-"+m(this.getUTCDate())+"T"+m(this.getUTCHours())+":"+m(this.getUTCMinutes())+":"+m(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var t=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=
/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,n,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,k,c){var d;n=e="";if("number"===typeof c)for(d=0;d<c;d+=1)n+=" ";else"string"===typeof c&&(n=c);if((l=k)&&"function"!==typeof k&&("object"!==typeof k||"number"!==typeof k.length))throw Error("JSON.stringify");return p("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function c(a,d){var g,f,b=a[d];if(b&&"object"===typeof b)for(g in b)Object.hasOwnProperty.call(b,g)&&(f=c(b,g),void 0!==f?b[g]=f:delete b[g]);return e.call(a,d,b)}var d;a=String(a);t.lastIndex=0;t.test(a)&&(a=a.replace(t,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof e?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();
(function(e,L){var l=function(k,e,r){return new l.TouchSVG(k,e,r)};l.TouchSVG=function(k,e,r){function l(b){$("#txtDebug").val("OnTouchStart");try{var c,d,f,g=x?$(m).parent().offset():$(m).offset(),h=g.left,C=g.top;b.preventDefault();y=!0;var e=b.touches;v={};for(g=0;g<e.length;g++){c=e[g];d=z[g];f=$(d);0!=D&&f.attr("cx",c.pageX-h).attr("cy",c.pageY-C).css("display","");v[c.identifier]=f;f.posX=c.pageX-h;f.posY=c.pageY-C;f.deltaX=0;f.deltaY=0;try{if(0==g&&null!=a.OnTouchStart){var k=w(c);setTimeout(function(){a.OnTouchStart(k,
f.posX,f.posY)},10)}}catch(u){alert(u)}}p=b.touches.length;p>s&&(s=p);A=(new Date).getTime();ADVrequestAnimationFrame(E);if(1==s&&null==n)if(n=w(e[0]),null!=n&&null!=a.OnDragStart){mblnInDragMode=!0;var r=n;setTimeout(function(){a.OnDragStart(r)},10)}else mblnInDragMode=!1,n=null}catch(t){b="";for(var q in t)b+="property: "+q+" value: ["+t[q]+"]\n";b+="toString():  value: ["+t.toString()+"]";alert("Debug(1):"+b)}}function F(b){try{b.preventDefault(),u=b,p=b.originalEvent.touches.length,p>s&&(s=p),
y=!1,ADVrequestAnimationFrame(E)}catch(a){b="";for(var d in a)b+="property: "+d+" value: ["+a[d]+"]\n";b+="toString():  value: ["+a.toString()+"]";alert("Debug(2):"+b)}}function G(b){$("#txtDebug").val("OnTouchEnd");try{var c=!1,d=0,f=0,g=null,e;H=t;t=(new Date).getTime();d=t-A;f=t-H;b.preventDefault();var k=b.originalEvent.changedTouches,c=1==s&&1==p&&!0==y;1==k.length&&(u=null,A=s=0);for(var m in v)h=v[m],null!=h&&(h.css("display","none"),delete v[m]);if(null!=n){if(null!=a.OnDragEnd){var r=n;setTimeout(function(){a.OnDragEnd(r)},
10)}n=null}c&&(f<I?null!=a.OnDoubleTap&&(e=k[0],g=w(e),setTimeout(function(){a.OnDoubleTap(g)},10)):d<J?null!=a.OnTap&&(e=k[0],g=w(e),setTimeout(function(){a.OnTap(g)},10)):null!=a.OnLongTap&&(e=k[0],g=w(e),setTimeout(function(){a.OnLongTap(g)},10)));null!=a.OnTouchEnded&&(e=k[0],g=w(e),setTimeout(function(){a.OnTouchEnded(g)},10))}catch(l){b="";for(var q in l)b+="property: "+q+" value: ["+l[q]+"]\n";b+="toString():  value: ["+l.toString()+"]";alert("Debug(3):"+b)}}function E(){try{var b=null,c=[];
if(null!=u){var d=x?$(m).parent().offset():$(m).offset(),f=d.left,g=d.top,b=u;u=null;for(var e=b.originalEvent.changedTouches,b=0;b<e.length;b++)evtTouch=e[b],h=v[evtTouch.identifier],null!=h&&(h.attr("cx",evtTouch.pageX-f).attr("cy",evtTouch.pageY-g),h.deltaX=evtTouch.pageX-f-h.posX,h.deltaY=evtTouch.pageY-g-h.posY,h.posX=evtTouch.pageX-f,h.posY=evtTouch.pageY-g,c.push(h),0==b&&null!=a.OnTouchMove&&setTimeout(function(){null!=h&&null!=h.posX&&null!=h.posY&&a.OnTouchMove(h.posX,h.posY)},10));K(c)}}catch(k){var c=
"",l;for(l in k)c+="property: "+l+" value: ["+k[l]+"]\n";c+="toString():  value: ["+k.toString()+"]";alert("Debug(5):"+c)}}function K(b){var c,d,f;switch(p){case 1:if(0==b.length)break;c=b[0];if(null!=n){if(null!=a.OnDragMove){var g=n;setTimeout(function(){a.OnDragMove(g,c.deltaX,c.deltaY)},10)}}else 0>c.deltaX?null!=a.OnOneFingerLeftSwipe&&setTimeout(function(){a.OnOneFingerLeftSwipe(c.deltaX,c.deltaY)},10):0<c.deltaX&&null!=a.OnOneFingerRightSwipe&&setTimeout(function(){a.OnOneFingerRightSwipe(c.deltaX,
c.deltaY)},10);break;case 2:if(2>b.length)break;c=b[0];d=b[1];f=b[0];objMarker4=b[1];c.posX>d.posX&&(b=c,c=d,d=b);f.posY>objMarker4.posY&&(b=f,f=objMarker4,objMarker4=b);0>c.deltaX&&0>d.deltaX?null!=a.OnTwoFingerLeftSwipe&&setTimeout(function(){a.OnTwoFingerLeftSwipe((c.deltaX+d.deltaX)/2)},10):0<c.deltaX&&0<d.deltaX?null!=a.OnTwoFingerRightSwipe&&setTimeout(function(){a.OnTwoFingerRightSwipe((c.deltaX+d.deltaX)/2)},10):0<c.deltaX&&0>d.deltaX||0<f.deltaY&&0>objMarker4.deltaY?null!=a.OnPinchIn&&setTimeout(function(){a.OnPinchIn(Math.abs(c.deltaX)+
Math.abs(d.deltaX),Math.abs(f.deltaY)+Math.abs(objMarker4.deltaY))},10):(0>c.deltaX&&0<d.deltaX||0>f.deltaY&&0<objMarker4.deltaY)&&null!=a.OnPinchOut&&setTimeout(function(){a.OnPinchOut(Math.abs(c.deltaX)+Math.abs(d.deltaX),Math.abs(f.deltaY)+Math.abs(objMarker4.deltaY))},10);break;case 3:if(3>b.length)break;c=b[0];d=b[1];f=b[2];0>c.deltaX&&0>d.deltaX&&0>f.deltaX?null!=a.OnThreeFingerLeftSwipe&&setTimeout(function(){a.OnThreeFingerLeftSwipe((c.deltaX+d.deltaX+f.deltaX)/3)},10):0<c.deltaX&&0<d.deltaX&&
0<f.deltaX&&null!=a.OnThreeFingerRightSwipe&&setTimeout(function(){a.OnThreeFingerRightSwipe((c.deltaX+d.deltaX+f.deltaX)/3)},10)}}function w(b){try{var a=x?$(m).parent().offset():$(m).offset(),d=a.left,f=a.top;if(null!=q){var g=q.createSVGRect();g.x=b.pageX-d;g.y=b.pageY-f;g.width=1;g.height=1;var e=q.getIntersectionList(g,null);return 0<e.length?e[e.length-1]:null}return null}catch(k){}}function B(b,a,d){b=document.createElementNS("http://www.w3.org/2000/svg",b);b.setAttribute("id",a);null==d&&
(d=null);d.appendChild(b);return b}var z=[],v={},p=0,s=0,u=null,A=0,t=0,H=0,h,J=500,I=500,y=!1,q=e,n=null,D=null==r?30:r,x=null!=navigator.userAgent.match(/Android/i),a=function(b,a,d){b=document.createElement(b);b.setAttribute("id",a);null==d&&(d=null);d.appendChild(b);return b}("div","surfaceevt",k);$(a).css("width","100%").css("height","100%").css("position","absolute").css("left",0).css("top",0).css("z-index","10");var m=B("svg","surface",a);B("g","ttt",m);m.style.zIndex="3";for(k=0;5>k;k++)z[k]=
B("circle","finger"+k,m),h=$(z[k]),h.css("stroke","black").css("stroke-width","2").css("fill","#996633").css("stroke-opacity","0.8").css("fill-opacity","0.7").css("display","none").attr("r",D).css("pointer-events","none");x?(a.parentElement.addEventListener("touchstart",function(a){l(a)}),$(a).parent().bind("touchend",G),$(a).parent().bind("touchmove",F),a.parentElement.addEventListener("touchcancel",function(a){a.preventDefault();$("#txtDebug").val("touchcancel")})):(a.addEventListener("touchstart",
function(a){l(a)}),$(a).bind("touchend",G),$(a).bind("touchmove",F));a.OnOneFingerLeftSwipe=null;a.OnOneFingerRightSwipe=null;a.OnTwoFingerLeftSwipe=null;a.OnTowFingerRightSwipe=null;a.OnThreeFingerLeftSwipe=null;a.OnThreeFingerRightSwipe=null;a.OnPinchIn=null;a.OnPinchOut=null;a.OnTap=null;a.OnLongTap=null;a.OnDoubleTap=null;a.OnTouchStart=null;a.OnTouchMove=null;a.OnTouchEnded=null;a.OnDragStart=null;a.OnDragEnd=null;a.OnDragMove=null;a.NumOfFingers=function(){return p};a.MaxFingers=function(){return s};
return a};e.AdvinionTouchSurface=l;e.ADVrequestAnimationFrame=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame;null==e.ADVrequestAnimationFrame&&(e.ADVrequestAnimationFrame=function(e){setTimeout(e,1E3/60)})})(this);
function ProChart_InitPanels(ta){function I(a){for(var b=0;b<d.length;b++)switch(d[b].type){case a:return d[b]}return null}function Y(){var a=u.length;J();for(var b=0;b<a;b++)switch(u[b].type){case "price":Z(u[b].id);break;case "study":aa(u[b].id);break;case "signal":U(u[b].id)}}function F(){var a=$.prochartcache.get(e.init.chartcontainer);if(2>d.length)z=[],a&&$(a).find(".chart-pane-splitter").remove();else{for(var b=[],a=[],c=0;c<d.length-1;c++)b.push({pane_before_guiid:d[c].guiid,pane_after_guiid:d[c+
1].guiid});for(c=z.length-1;0<=c;c--){for(var g=!1,f=0;f<b.length;f++)z[c].pane_before_guiid==b[f].pane_before_guiid&&z[c].pane_after_guiid==b[f].pane_after_guiid&&(g=!0);g||((f=$("#"+z[c].guiid))&&f.remove(),z.splice(c,1))}for(f=0;f<b.length;f++){g=!1;for(c=0;c<z.length;c++)z[c].pane_before_guiid==b[f].pane_before_guiid&&z[c].pane_after_guiid==b[f].pane_after_guiid&&(g=!0);g||a.push({pane_before_guiid:b[f].pane_before_guiid,pane_after_guiid:b[f].pane_after_guiid})}for(f=0;f<a.length;f++)b=ua(a[f].pane_before_guiid,
a[f].pane_after_guiid),$("#"+b.guiid).prochart_splitterh({handle:"",cursor:"n-resize",min:50,start:function(){e.chart.EnableSplitMode(!0);$.prochartcache.get(e.init.chartcontainer)&&$.prochartcache.get(e.init.chartcontainer).css({overflow:"hidden"})},resizing:function(b,a){for(var c=0;c<b.length;c++){var g=b[c];if("undefined"!=typeof g)for(var f=0;f<d.length;f++)if(d[f].guiid==g.id)switch(d[f].type){case "price":V(d[f],g.width,g.height);if("undefined"!=typeof d[f].onResizePanel&&"function"==typeof d[f].onResizePanel)d[f].onResizePanel(d[f]);
break;case "study":ba(d[f],g.width,g.height);if("undefined"!=typeof d[f].onResizePanel&&"function"==typeof d[f].onResizePanel)d[f].onResizePanel(d[f]);break;case "signal":if(ca(d[f],g.width,g.height),"undefined"!=typeof d[f].onResizePanel&&"function"==typeof d[f].onResizePanel)d[f].onResizePanel(d[f])}}a&&e.chart.AdjustSize(null,null)},completed:function(){e.chart.AdjustSize(null,null);e.chart.EnableSplitMode(!1);$.prochartcache.get(e.init.chartcontainer)&&$.prochartcache.get(e.init.chartcontainer).css({overflow:"inherit"})}})}}
function da(a){for(var b=0;b<a.length;b++){for(var c=0;c<u.length;c++)u[c].id==a[b].id&&u.splice(c,1);for(c=0;c<d.length;c++)if(d[c].id==a[b].id){v.guiid==d[c].guiid&&(v.guiid=null);var g="#"+d[c].guiid,f=$.prochartcache.get(e.init.chartcontainer,g);if(f){f.remove();try{$.prochartcache.clearByMask(g)}catch(k){}}d.splice(c,1)}}J();H();F();W();a=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||a.push(d[b]);return a}function ea(a){for(var b={},c=0,g=a.length;c<g;c++){var f=a[c],d=f.id,
l="",h="";try{l=fa(d).type,h=fa(d).legend.guiid,b[h]={id:d,type:l,guid:h,fields:[]}}catch(m){B.warn("Not found panel and panel type",d);continue}for(var D=[],q=0;q<f.fields.length;q++)switch(f.fields[q].type){case "price":try{if(K(e.currenlayout.chart_panels.price.legend.view)){var n=f.fields[q],p=R(d);if(null!=p){if(!$.prochartcache.get("#"+p,"#"+n.uid)){var r=e.patterns.panels.legend_price.replace(/%id%/g,n.uid).replace(/%item_id%/g,n.editIdx).replace(/%icon-source%/g,G.icon_source).replace(/%icon-prefix%/g,
G.icon_prefix).replace(/%visible%/g,n.visible?"":"legend-visible-off").replace(/%item_type%/g,n.type);$.prochartcache.get("#"+p).append(r)}$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-description").html(n.name);$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-open.legend-title").html(e.localizationobj.gui.returnLocalizationString("chart."+n.captions[0],n.captions[0]));$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-low.legend-title").html(e.localizationobj.gui.returnLocalizationString("chart."+
n.captions[1],n.captions[1]));$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-high.legend-title").html(e.localizationobj.gui.returnLocalizationString("chart."+n.captions[2],n.captions[2]));$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-close.legend-title").html(e.localizationobj.gui.returnLocalizationString("chart."+n.captions[3],n.captions[3]));var u=e.api.props.chart.gui.legend.font_darklight_auto,v=e.api.props.chart.gui.legend.font_darklight_percent,w=e.commonutils.func.LightenDarkenColor(n.colors[0],
v,u);$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-open.legend-value").css("color",w).html(n.values[0]);var z=e.commonutils.func.LightenDarkenColor(n.colors[1],v,u);$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-low.legend-value").css("color",z).html(n.values[1]);var C=e.commonutils.func.LightenDarkenColor(n.colors[2],v,u);$.prochartcache.get("#"+p,"#"+n.uid,".legend-price-high.legend-value").css("color",C).html(n.values[2]);var N=e.commonutils.func.LightenDarkenColor(n.colors[3],v,u);$.prochartcache.get("#"+
p,"#"+n.uid,".legend-price-close.legend-value").css("color",N).html(n.values[3])}}D.push(f.fields[q].uid);b[h].fields.push(f.fields[q].uid)}catch(s){}break;case "study":switch(l){case "price":try{K(e.currenlayout.chart_panels.price.legend.view)&&ga(d)&&ha(d,f.fields[q]),D.push(f.fields[q].uid),b[h].fields.push(f.fields[q].uid)}catch(t){}break;case "study":try{K(e.currenlayout.chart_panels.study.legend.view)&&ga(d)&&ha(d,f.fields[q]),D.push(f.fields[q].uid),b[h].fields.push(f.fields[q].uid)}catch(Ca){}}break;
case "compare":try{if(K(e.currenlayout.chart_panels.price.legend.view)){var O=d,y=f.fields[q],x=R(O);if(null!=x){if(null==$.prochartcache.get("#"+x,"#"+y.uid)){var P=e.patterns.panels.legend_compare.replace(/%item_id%/g,y.editIdx).replace(/%icon-source%/g,G.icon_source).replace(/%icon-prefix%/g,G.icon_prefix).replace(/%item_type%/g,y.type).replace(/%visible%/g,y.visible?"":"legend-visible-off").replace(/%css%/g,!1==M(O)||"false"==M(O)?" hide-legend":"").replace(/%id%/g,y.uid);$.prochartcache.get("#"+
x).append(P)}var va=e.commonutils.func.LightenDarkenColor(y.colors[0],e.api.props.chart.gui.legend.font_darklight_percent,e.api.props.chart.gui.legend.font_darklight_auto);$.prochartcache.get("#"+x,"#"+y.uid,".legend-compare-description")&&$.prochartcache.get("#"+x,"#"+y.uid,".legend-compare-description").html(y.captions[0]);$.prochartcache.get("#"+x,"#"+y.uid,".legend-compare-title")&&$.prochartcache.get("#"+x,"#"+y.uid,".legend-compare-title").html(e.localizationobj.gui.returnLocalizationString("chart.close"));
$.prochartcache.get("#"+x,"#"+y.uid,".legend-compare-value")&&$.prochartcache.get("#"+x,"#"+y.uid,".legend-compare-value").css("color",va).html(y.values[0])}}D.push(f.fields[q].uid);b[h].fields.push(f.fields[q].uid)}catch(J){}break;case "plugin":try{if(K(e.currenlayout.chart_panels.plugin.legend.view)){var O=d,A=f.fields[q],L=R(O);if(null!=L){if(null==$.prochartcache.get("#"+L,"#"+A.uid)){var F="";"undefined"!=A.titlelocalize&&(F='data-localize="'+A.titlelocalize+'"');var H=e.patterns.panels.legend_plugin.replace(/%display-closebt%/g,
A.closeBtn?"":"display:none").replace(/%item_id%/g,A.editIdx).replace(/%item_type%/g,A.type).replace(/%legend_title_localization%/g,F).replace(/%visible%/g,A.visible?"":"legend-visible-off").replace(/%css%/g,!1==M(O)||"false"==M(O)?" hide-legend":"").replace(/%id%/g,A.uid);$.prochartcache.get("#"+L).append(H)}$.prochartcache.get("#"+L,"#"+A.uid,".legend-plugin-description")&&$.prochartcache.get("#"+L,"#"+A.uid,".legend-plugin-description").html(A.name)}}D.push(f.fields[q].uid);b[h].fields.push(f.fields[q].uid)}catch(E){}}}a=
!1;c=Object.keys(S);f=Object.keys(b);g=e.commonutils.func.intersection_difference(c,f);f=e.commonutils.func.intersection_difference(f,c);c=g.res2;g=g.res1;f=f.res2;0<c.length&&(a=!0,B.debug("Deleted Panels:",c));0<f.length&&(a=!0,B.debug("Added Panesl",f));f=0;for(d=g.length;f<d;f++){l=g[f];h=S[l].type;q=S[l].fields;n=b[l].fields;D=e.commonutils.func.intersection_difference(q,n).res2;q=e.commonutils.func.intersection_difference(n,q).res2;0<D.length&&(B.debug("deleted legend",D),a=!0);0<q.length&&
(a=!0,B.debug("added legend ",q));q=0;for(n=D.length;q<n;q++)switch(h){case "study":case "price":case "compare":case "plugin":p=l,r=D[q],$.prochartcache.get("#"+p,"#"+r)&&($.prochartcache.get("#"+p,"#"+r).remove(),u=$.prochartcache.clearByMask("#"+p,"#"+r),B.debug("Delete Item by legnd, mask:","#"+p,"#"+r,u))}if(0<c.length)for(l=0,h=c.length;l<h;l++)$.prochartcache.clearByMask("#"+c[l])}S=jQuery.extend(!0,[],b);a&&(wa(),xa(),ya(),b=I("price").guiid,$.prochartcache.update("#"+b,".legend-study, .legend-compare"))}
function ha(a,b){var c=R(a);if(null!=c){if(null==$.prochartcache.get("#"+c,"#"+b.uid)){var g=e.patterns.panels.legend_study.replace(/%display-closebt%/g,b.closeBtn?"":"display:none").replace(/%icon-source%/g,G.icon_source).replace(/%icon-prefix%/g,G.icon_prefix).replace(/%item_id%/g,b.editIdx).replace(/%item_type%/g,b.type).replace(/%visible%/g,b.visible?"":"legend-visible-off").replace(/%id%/g,b.uid).replace(/%css%/g,!1==M(a)||"false"==M(a)?" hide-legend":"");$.prochartcache.get("#"+c).append(g);
if(1<b.values.length)for(var g=$.prochartcache.get("#"+c,"#"+b.uid,".legend-study-values"),f=$.prochartcache.get("#"+c,"#"+b.uid,".legend-study-values",".legend-study-value").clone(!0),d=0;d<b.values.length-1;d++)g.append(f.clone(!0))}g="";for(f=0;f<b.sources.length;f++)f<b.sources.length&&0<g.length&&(g+=","),g+=e.localizationobj.gui.returnLocalizationString("dialogs.indicator.source."+b.sources[f],b.sources[f]).toLowerCase();for(f=0;f<b.params.length;f++)f<b.params.length&&0<g.length&&(g+=","),
g+=b.params[f];0<g.length&&(g="("+g+")");$.prochartcache.get("#"+c,"#"+b.uid);$.prochartcache.get("#"+c,"#"+b.uid,".legend-study-description").html(b.name);$.prochartcache.get("#"+c,"#"+b.uid," .legend-study-params").html(g);c=$.prochartcache.get("#"+c,"#"+b.uid,".legend-study-value");g=e.api.props.chart.gui.legend.font_darklight_auto;f=e.api.props.chart.gui.legend.font_darklight_percent;for(d=0;d<b.values.length;d++){var l=e.commonutils.func.LightenDarkenColor(b.colors[d],f,g);c.eq(d).css("color",
l).html(b.values[d]?b.values[d]:"NaN")}}}function W(){null!=v.guiid&&($.prochartcache.get("#"+v.guiid)&&$.prochartcache.get("#"+v.guiid).removeClass("controlpanel-button-selected"),v.guiid=null)}function ia(){$.prochartcache.update(e.init.chartcontainer,".controlpanel-down");if($.prochartcache.get(e.init.chartcontainer,".controlpanel-down"))$.prochartcache.get(e.init.chartcontainer,".controlpanel-down").off().on("click",function(){var a=$(this).attr("itemid");ja(a,"down")})}function ka(){$.prochartcache.update(e.init.chartcontainer,
".controlpanel-up");if($.prochartcache.get(e.init.chartcontainer,".controlpanel-up"))$.prochartcache.get(e.init.chartcontainer,".controlpanel-up").off().on("click",function(){var a=$(this).attr("itemid");ja(a,"up")})}function ja(a,b){var c,g,f,k,l,h,m,p,q;if(!(2>d.length)){var n=["price","study"];switch(b){case "up":q=p=m=h=l=k=f=g=null;for(c=0;c<d.length;c++)if(d[c].guiid==a){h=d[c].guiid;m=c;p=d[c].id;q=d[c].type;break}else g=d[c].guiid,f=c,k=d[c].id,l=d[c].type;null==g?(c=d[d.length-1].guiid,g=
d[d.length-1].id,E(d,m,d.length-1),$("#"+c).after($("#"+h)),-1<n.indexOf(q)&&e.chart.SwitchPanels(p,g,"bottom")):(E(d,m,f),$("#"+g).before($("#"+h)),-1<n.indexOf(l)&&-1<n.indexOf(q)&&e.chart.SwitchPanels(k,p,"normal"));F();break;case "down":q=p=m=h=l=k=f=g=null;for(c=d.length-1;-1<c;c--)if(d[c].guiid==a){h=d[c].guiid;m=c;p=d[c].id;q=d[c].type;break}else g=d[c].guiid,f=c,k=d[c].id,l=d[c].type;null==g?(c=d[0].guiid,g=d[0].id,E(d,m,0),$("#"+c).before($("#"+h)),-1<n.indexOf(q)&&e.chart.SwitchPanels(p,
g,"top")):(E(d,m,f),$("#"+g).after($("#"+h)),-1<n.indexOf(l)&&-1<n.indexOf(q)&&e.chart.SwitchPanels(k,p,"normal"));F();break;case "top":q=p=m=h=l=k=f=g=null;for(c=d.length-1;-1<c;c--)if(d[c].guiid==a){h=d[c].guiid;m=c;p=d[c].id;q=d[c].type;break}else g=d[c].guiid,f=c,k=d[c].id,l=d[c].type;null==g?(c=d[0].guiid,g=d[0].id,E(d,m,0),$("#"+c).before($("#"+h)),-1<n.indexOf(q)&&e.chart.SwitchPanels(p,g,"top")):(E(d,m,f),$("#"+g).after($("#"+h)),-1<n.indexOf(l)&&-1<n.indexOf(q)&&e.chart.SwitchPanels(k,p,
"normal"));F()}}}function E(a,b,c){var g=a[b];a.splice(b,1);a.splice(c,0,g)}function la(){$.prochartcache.update(e.init.chartcontainer,".controlpanel-window");if($.prochartcache.get(e.init.chartcontainer,".controlpanel-window"))$.prochartcache.get(e.init.chartcontainer,".controlpanel-window").off().on("click",function(){var a=$(this).attr("itemid");$(this).toggleClass("controlpanel-button-selected");v.guiid=v.guiid==a?null:a;H();e.chart.AdjustSize(null,null)})}function ma(){$.prochartcache.update(e.init.chartcontainer,
".controlpanel-close");if($.prochartcache.get(e.init.chartcontainer,".controlpanel-close"))$.prochartcache.get(e.init.chartcontainer,".controlpanel-close").off().on("click",function(){var a=$(this).attr("panelid");e.chart.DeletePanel(a)})}function wa(){$.prochartcache.update(e.parent,".legend-button-close");if($.prochartcache.get(e.parent,".legend-button-close"))$.prochartcache.get(e.parent,".legend-button-close").off().on("click",function(){var a=$(this).attr("itemid"),b=$(this).attr("itemtype");
switch(b){case "plugin":e.signals.gui.pluginDelete(a);break;default:e.chart.legend.Delete(a,b)}})}function ya(){$.prochartcache.update(e.parent,".legend-button-visible");if($.prochartcache.get(e.parent,".legend-button-visible"))$.prochartcache.get(e.parent,".legend-button-visible").off().on("click",function(){var a=$(this).attr("itemid"),b=$(this).attr("itemtype"),c=$(this).hasClass("legend-visible-off");e.chart.legend.SetVisible(a,b,c);$(this).toggleClass("legend-visible-off")})}function xa(){$.prochartcache.update(e.parent,
".legend-button-properties");if($.prochartcache.get(e.parent,".legend-button-properties"))$.prochartcache.get(e.parent,".legend-button-properties").off().on("click",function(){var a=$(this).attr("itemid"),b=$(this).attr("itemtype");switch(b){case "plugin":e.signals.gui.pluginOpenDialog(a);break;default:e.chart.legend.Edit(a,b,!1)}})}function R(a){for(var b=0;b<d.length;b++)if(d[b].id==a&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type))return d[b].legend.guiid;return null}
function fa(a){for(var b=0;b<d.length;b++)if(d[b].id==a&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type))return d[b];return null}function ga(a){for(var b=0;b<d.length;b++)if(d[b].id==a&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type))switch(d[b].type){case "price":try{return e.currenlayout.chart_panels.price.collapselegend?e.currenlayout.chart_panels.price.collapselegend.collapseopen||e.currenlayout.chart_panels.price.collapselegend.view:
!0}catch(c){return!0}case "study":try{return e.currenlayout.chart_panels.study.collapselegend?e.currenlayout.chart_panels.study.collapselegend.collapseopen||e.currenlayout.chart_panels.study.collapselegend.view:!0}catch(g){return!0}case "plugin":return!0;case "signal":return!0}}function M(a){for(var b=0;b<d.length;b++)if(d[b].id==a&&("price"==d[b].type||"study"==d[b].type||"plugin"==d[b].type||"signal"==d[b].type)){if("undefined"!=typeof d[b].legend.collapseopen)return d[b].legend.collapseopen;switch(d[b].type){case "price":try{var c=
e.currenlayout.chart_panels.price;return c.collapselegend?c.collapselegend.collapseopen:!0}catch(g){return!0}case "study":try{var f=e.currenlayout.chart_panels.study;return f.collapselegend?f.collapselegend.collapseopen:!0}catch(k){return!0}}}return!0}function H(){J();for(var a=0;a<d.length;a++)switch(d[a].type){case "price":V(d[a],null,null);if("undefined"!=typeof d[a].onResizePanel&&"function"==typeof d[a].onResizePanel)d[a].onResizePanel(d[a]);w(d[a],"controlpanel");w(d[a],"zoom");w(d[a],"legend");
w(d[a],"lastupdate");w(d[a],"communic");w(d[a],"axisxmsg");break;case "study":ba(d[a],null,null);w(d[a],"controlpanel");w(d[a],"legend");if("undefined"!=typeof d[a].onResizePanel&&"function"==typeof d[a].onResizePanel)d[a].onResizePanel(d[a]);break;case "splitter":na(d[a]);break;case "signal":ca(d[a]);if("undefined"!=typeof d[a].onResizePanel&&"function"==typeof d[a].onResizePanel)d[a].onResizePanel(d[a]);w(d[a],"controlpanel");w(d[a],"legend")}}function w(a,b,c){try{var g=e.currenlayout.chart_panels[a.type][b];
"undefined"!=typeof g&&"undefined"!=typeof g.view&&K(g.view)?"controlpanel"==b&&1==d.length?($.prochartcache.get("#"+a[b].guiid).css("display","none"),"undefined"!=typeof c&&$.prochartcache.get("#"+a[c].guiid).css("display","none")):($.prochartcache.get("#"+a[b].guiid).css("display","block"),"undefined"!=typeof c&&$.prochartcache.get("#"+a[c].guiid).css("display","block")):($.prochartcache.get("#"+a[b].guiid).css("display","none"),"undefined"!=typeof c&&$.prochartcache.get("#"+a[c].guiid).css("display",
"none"))}catch(f){}}function oa(){for(var a=0;a<z.length;a++)switch(z[a].type){case "splitter":na(z[a])}}function Z(a){var b=$.prochartcache.get(e.init.chartcontainer),c=e.currenlayout.chart_panels.unit;if(null!=e.patterns.panels.price){var g=e.commonutils.func.returnShortUniqID(),f=e.commonutils.func.returnShortUniqID(),k=e.commonutils.func.returnShortUniqID(),l=e.commonutils.func.returnShortUniqID(),h=e.commonutils.func.returnShortUniqID(),m=e.commonutils.func.returnShortUniqID(),D=e.commonutils.func.returnShortUniqID(),
q=e.commonutils.func.returnShortUniqID(),n=e.commonutils.func.returnShortUniqID(),u=e.commonutils.func.returnShortUniqID(),v=e.commonutils.func.returnShortUniqID(),w=e.commonutils.func.returnShortUniqID(),z=e.commonutils.func.returnShortUniqID(),F=e.commonutils.func.returnShortUniqID(),H=e.commonutils.func.returnShortUniqID(),I=e.commonutils.func.returnShortUniqID(),J=e.commonutils.func.returnShortUniqID(),s=pa(),t=e.patterns.panels.price.replace(T,"").replace(/%id%/g,g).replace(/%guiid%/g,g).replace(/%pane-style%/g,
p(s.panelsize,c)),t=t.replace(/%main-id%/g,l).replace(/%main-style%/g,p(s.innermainsize,c)),B={width:s.innermainsize.width,height:s.innermainsize.height,top:0,left:0,"z-index":1},t=t.replace(/%pricealert-id%/g,I).replace(/%cancas-price-id%/g,f).replace(/%pricealert-style%/g,p(B,c)).replace(/%pricealert-size%/g,X(B,c)),t=t.replace(/%xalert-id%/g,J).replace(/%cancas-x-id%/g,k).replace(/%xalert-style%/g,p(s.axisxalertsize,c));s.axisxalertsize.top=0;s.axisxalertsize.left=0;s.axisxalertsize.right=0;s.axisxalertsize.bottom=
0;t=t.replace(/%xalert-inner-size%/g,X(s.axisxalertsize,c)).replace(/%xalert-inner-style%/g,p(s.axisxalertsize,c));t=t.replace(/%x-id%/g,D).replace(/%date-style%/g,p(s.dateaxissize,c));t=t.replace(/%y-id%/g,h).replace(/%price-style%/g,p(s.priceaxissize,c));t=t.replace(/%legend-id%/g,q).replace(/%legend-style%/g,p(s.legendsize,c));t=t.replace(/%wm-id%/g,v).replace(/%watermark-style%/g,p(s.watermarksize,c));t=t.replace(/%cp-id%/g,u).replace(/%cp-style%/g,p(s.controlpanelsize,c)).replace(/%item-id%/g,
g);t=t.replace(/%zoom-id%/g,n).replace(/%zoom-style%/g,p(s.zoomsize,c));t=t.replace(/%lastupdate-id%/g,F).replace(/%lastupdate-style%/g,p(s.lastupdatesize,c,1));t=t.replace(/%communic-id%/g,H).replace(/%communic-style%/g,p(s.communicsize,c,1));t=t.replace(/%xmsg-id%/g,m).replace(/%xmsg-style%/g,p(s.axisxmsgsize,c));try{"undefined"!=typeof s.axisxinmainsize.view?s.axisxinmainsize.width=s.innermainsize.width:s.axisxinmainsize.view=!1,t=t.replace(/%canvas-axisxinmain-id%/g,z).replace(/%axisxinmain-style%/g,
p(s.axisxinmainsize,c)).replace(/%axisxinmain-size%/g,X(s.axisxinmainsize,c))}catch(O){}v="";try{if("undefined"!=typeof e.currenlayout.chart_panels.price.htmlcontainers){var y=e.currenlayout.chart_panels.price.htmlcontainers;if("undefined"!=typeof y.items)for(B=0;B<y.items.length;B++){var x=y.items[B],P="";"undefined"!=typeof x.css&&(P=x.css);var E="";"undefined"!=typeof x.content&&(E=x.content);var K="",A=e.commonutils.func.returnShortUniqID();"undefined"!=typeof x.id&&(K=x.id);var L=r({width:e.currenlayout.chart.width,
height:C.price.height},x),v=v+e.patterns.panels.htmlcontainer.replace(/%id%/g,A).replace(/%css%/g,P+" price-html-container").replace(/%style%/g,p(L,c,1));0<K.length&&(N.htmlcustomcontainers[K]=A);if("undefined"!=typeof x.items)for(E="",P=0;P<x.items.length;P++){var M=x.items[P];switch(M.type){case "toolbar":var Q=za(M),E=E+Q}}v=v.replace(/%html%/g,E)}}}catch(R){}t=t.replace(/%htmlcontainers%/g,v);if("undefined"!=typeof e.currenlayout.chart_panels.price.collapselegend){y=!1==e.currenlayout.chart_panels.price.collapselegend.collapseopen||
"false"==e.currenlayout.chart_panels.price.collapselegend.collapseopen?!1:!0;x=L=A=A="";try{A=e.currenlayout.chart_panels.price.collapselegend.title_1,L=e.currenlayout.chart_panels.price.collapselegend.title_2}catch(S){}A=!1==y?A:L;x=!1==y?" collapsebutton_close":" collapsebutton_open";t=t.replace(/%collapselegend-id%/g,w).replace(/%title1%/g,A).replace(/%collapseopen%/g,y).replace(/%caption%/g,"").replace(/ %collapsebuttoncss%/g,x).replace(/%collapselegend-style%/g,p(s.collapselegend,c,1).replace("pointer-events:none",
""))}else t=t.replace(/%collapselegend-id%/g,"").replace(/%title1%/g,"").replace(/%collapseopen%/g,"").replace(/%caption%/g,"").replace(/%collapselegend-id%/g,w).replace(/%collapselegend-style%/g,'style=" display:none; "');t=t.replace(/%font-icon%/g,""==G.icon_prefix?"":G.icon_prefix+"panel-communic").replace(/%icon-prefix%/g,G.icon_prefix).replace(/%icon-source%/g,G.icon_source);b.append(t);d.push({id:a,guiid:g,type:"price",width:s.panelsize.width+c,height:s.panelsize.height+c,y:{guiid:h,width:s.priceaxissize.width+
c,height:s.priceaxissize.height+c},x:{guiid:D,width:s.dateaxissize.width+c,height:s.dateaxissize.height+c},axisxalert:{guiid:J,width:s.axisxalertsize.width+c,height:s.axisxalertsize.height+c},axisxmsg:{guiid:m,width:s.axisxmsgsize.width+c,height:s.axisxmsgsize.height+c},main:{guiid:l,width:s.innermainsize.width+c,height:s.innermainsize.height+c},pricealert:{guiid:I,width:s.innermainsize.width+c,height:s.innermainsize.height+c},canvasalert:{guiid:f,width:s.innermainsize.width,height:s.innermainsize.height},
canvasxalert:{guiid:k,width:s.axisxalertsize.width,height:s.axisxalertsize.height},axisxinmain:{guiid:z,width:s.axisxinmainsize.width,height:s.axisxinmainsize.height},legend:{guiid:q},zoom:{guiid:n},controlpanel:{guiid:u},lastupdate:{guiid:F},communic:{guiid:H}})}if($.prochartcache.get("#"+g,"button.button-action"))$.prochartcache.get("#"+g,"button.button-action").on("click",function(){var b=$(this).attr("tid");if("undefined"!=typeof b&&"undefined"!=typeof e.actions)switch(b){case "legend-collapse":var a=
g,c=e.commonutils.func.toBool($(this).attr("collapseopen")),f="",k="";try{f=e.currenlayout.chart_panels.price.collapselegend.title_1,k=e.currenlayout.chart_panels.price.collapselegend.title_2}catch(h){}e.actions.action(b,a,c);$(this).attr("collapseopen",!0==c?!1:!0);$(this).find("b").html(!1==c?k:f);a:for(b=g,c=!0==c?!1:!0,a=0;a<d.length;a++)if(d[a].guiid==b&&("price"==d[a].type||"study"==d[a].type||"plugin"==d[a].type||"signal"==d[a].type)){d[a].legend.collapseopen=c;break a}}})}function za(a){var b=
e.commonutils.func.returnShortUniqID();a.guiid=b;var c=e.patterns.panels.toolbar.replace(T,"").replace(/%id%/g,b).replace(/%style%/g,a.possition?Aa(a.possition):"");a.fns=[];a.fns.push({prop:"view",actions:["$('#"+b+"').css('display',%value%?'block':'none')"]});if(a.possition){a.possition.fns=[];for(var g="right left width height top bottom".split(" "),f=0;f<g.length;f++)a.possition.fns.push({prop:g[f],actions:["$('#"+b+"').css('"+g[f]+"',isNaN('%value%')?'auto': '%value%' + 'px' )"]})}return{header:c}}
function Aa(a,b){var c="";if(!a)return c;var c="undefined"==typeof a.position?c+"position :absolute;":c+"position :"+a.position+"; ",g="px";"undefined"!=typeof b&&null!=b&&(g=b);"undefined"!=typeof a.display&&(c=c+"display :"+a.display+";");"undefined"!=typeof a.left&&(c=c+"left :"+Q(a.left,g)+"; ");"undefined"!=typeof a.right&&(c=c+"right :"+Q(a.right,g)+"; ");"undefined"!=typeof a.top&&(c=c+"top :"+Q(a.top,g)+"; ");"undefined"!=typeof a.bottom&&(c=c+"bottom :"+Q(a.bottom,g)+"; ");"undefined"!=typeof a.width&&
(c=c+"width :"+Q(a.width,g)+"; ");"undefined"!=typeof a.height&&(c=c+"height :"+Q(a.height,g)+"; ");"undefined"!=typeof a.view&&!0!=a.view&&(c+="display : none; ");return 0<c.length?'style="'+c+'"':null}function aa(a,b){var c=$.prochartcache.get(e.init.chartcontainer),g=e.currenlayout.chart_panels.unit;if(null!=e.patterns.panels.study){var f=e.commonutils.func.returnShortUniqID(),k=e.commonutils.func.returnShortUniqID(),l=e.commonutils.func.returnShortUniqID(),h=e.commonutils.func.returnShortUniqID(),
m=e.commonutils.func.returnShortUniqID(),r=e.commonutils.func.returnShortUniqID(),q=qa(),n=e.patterns.panels.study.replace(T,"").replace(/%id%/g,f).replace(/%guiid%/g,f).replace(/%pane-style%/g,p(q.panelsize,g)),n=n.replace(/%main-id%/g,k).replace(/%main-style%/g,p(q.innermainsize,g)),n=n.replace(/%x-id%/g,h).replace(/%date-style%/g,p(q.dateaxissize,g)),n=n.replace(/%y-id%/g,l).replace(/%price-style%/g,p(q.priceaxissize,g)),n=n.replace(/%legend-id%/g,m).replace(/%legend-style%/g,p(q.legendsize,g)),
n=n.replace(/%cp-id%/g,r).replace(/%panel-id%/g,a).replace(/%cp-style%/g,p(q.controlpanelsize,g)).replace(/%item-id%/g,f),n=n.replace(/%icon-source%/g,G.icon_source).replace(/%icon-prefix%/g,G.icon_prefix);"top"==b.position?c.prepend(n):c.append(n);c={id:a,guiid:f,type:"study",width:q.panelsize.width+g,height:q.panelsize.height+g,y:{guiid:l,width:q.priceaxissize.width+g,height:q.priceaxissize.height+g},x:{guiid:h,width:q.dateaxissize.width+g,height:q.dateaxissize.height+g},main:{guiid:k,width:q.innermainsize.width+
g,height:q.innermainsize.height+g},legend:{guiid:m},controlpanel:{guiid:r}};"top"==b.position?d.unshift(c):d.push(c)}}function ua(a,b){$.prochartcache.get(e.init.chartcontainer);var c=e.currenlayout.chart_panels.unit;if(null!=e.patterns.panels.splitter){var g=e.commonutils.func.returnShortUniqID(),f=e.commonutils.func.returnShortUniqID(),d=ra(),l=e.patterns.panels.splitter.replace(T,"").replace(/%id%/g,g).replace(/%guiid%/g,g).replace(/%pane-style%/g,p(d.panelsize,c)),l=l.replace(/%main-id%/g,f).replace(/%main-style%/g,
p(d.innermainsize,c));$("#"+a).after(l);c={id:null,guiid:g,type:"splitter",width:d.panelsize.width+c,height:d.panelsize.height+c,pane_before_guiid:a,pane_after_guiid:b,main:{guiid:f,width:d.innermainsize.width+c,height:d.innermainsize.height+c}};z.push(c);return c}}function U(a){var b=$.prochartcache.get(e.init.chartcontainer),c=e.currenlayout.chart_panels.unit;if(null!=e.patterns.panels.signal){var g=e.commonutils.func.returnShortUniqID(),f=e.commonutils.func.returnShortUniqID(),k=e.commonutils.func.returnShortUniqID(),
l=e.commonutils.func.returnShortUniqID(),h=e.commonutils.func.returnShortUniqID(),m=sa(),r=e.patterns.panels.signal.replace(/=""/g,"").replace(/%id%/g,g).replace(/%guiid%/g,g).replace(/%pane-style%/g,p(m.panelsize,c)),r=r.replace(/%main-id%/g,f).replace(/%main-style%/g,p(m.innermainsize,c)),r=r.replace(/%legend-id%/g,k).replace(/%legend-style%/g,p(m.legendsize,c)),r=r.replace(/%cp-id%/g,l).replace(/%cp-style%/g,p(m.controlpanelsize,c)).replace(/%item-id%/g,g),r=r.replace(/%alert-id%/g,h).replace(/%alert-style%/g,
p(m.alertsize,c)).replace(/%item-id%/g,g);b.append(r);a={id:a,guiid:g,type:"signal",width:m.panelsize.width+c,height:m.panelsize.height+c,main:{guiid:f,width:m.innermainsize.width+c,height:m.innermainsize.height+c},legend:{guiid:k},controlpanel:{guiid:l},alert:{guiid:h}};d.push(a);return a}return null}function pa(a,b){var c=e.currenlayout.chart_panels.price,g={width:e.currenlayout.chart.width,height:null!=b?b:C.price.height},f=r(g,c.main,c),d=r(g,c.axisx,c),l=r(g,c.axisy,c),h=r(g,c.legend,c),m=r(g,
c.zoom,c),p=r(g,c.controlpanel,c),q=r(g,c.lastupdate,c),n=r(g,c.communic,c),v=r(g,c.watermark,c),u=r(g,c.collapselegend,c),w=r(g,c.axisxalert,c),z=r(g,c.volume,c),B=r(g,c.axisxmsg,c),c=r(g,c.axisxinmain,c);return{panelsize:g,innermainsize:f,dateaxissize:d,priceaxissize:l,legendsize:h,zoomsize:m,controlpanelsize:p,lastupdatesize:q,communicsize:n,watermarksize:v,collapselegend:u,axisxalertsize:w,volumesize:z,axisxmsgsize:B,axisxinmainsize:c}}function qa(a,b){var c=e.currenlayout.chart_panels.study,
g={width:e.currenlayout.chart.width,height:null!=b?b:C.study.height},f=r(g,c.main),d=r(g,c.axisx),l=r(g,c.axisy),h=r(g,c.legend),c=r(g,c.controlpanel);return{panelsize:g,innermainsize:f,dateaxissize:d,priceaxissize:l,legendsize:h,controlpanelsize:c}}function ra(){var a={width:e.currenlayout.chart.width,height:0},b=r(a,e.currenlayout.chart_panels.splitterx.main);return{panelsize:a,innermainsize:b}}function sa(a,b){var c={width:e.currenlayout.chart.width,height:null!=b?b:C.signal.height},g=e.currenlayout.chart_panels.signal,
f=r(c,g.main),d=r(c,g.legend),l=r(c,g.controlpanel),g=r(c,g.alert);return{panelsize:c,innermainsize:f,legendsize:d,controlpanelsize:l,alertsize:g}}function r(a,b,c){var g={};if("undefined"==typeof b)return g;var e="",e="undefined"==typeof b.width?"auto":b.width;"undefined"!=typeof b.left&&(g.left="center"==b.left?parseInt(a.width/2-e/2):b.left);"undefined"!=typeof b.right&&(g.right="center"==b.right?parseInt(a.width/2+e/2):b.right);switch(e){case "auto":"undefined"==typeof g.left&&(g.left=0);"undefined"==
typeof g.right&&(g.right=0);var e=isNaN(g.right)?0:parseInt(g.right),d=isNaN(g.left)?0:parseInt(g.left);g.width=a.width-d-e;break;case "inherit":break;default:g.width=b.width}"undefined"!=typeof b.top&&(g.top=b.top);e="";if("undefined"!=typeof b.bottom)switch(e=b.bottom,e){case "relative":e=0;if("undefined"!=typeof b.bottomrelative)for(var d=b.bottomrelative.split(","),l=0;l<d.length;l++)if(!1==isNaN(d[l]))e+=parseInt(d[l]);else if("undefined"!=typeof c[d[l]]&&"undefined"!=typeof c[d[l]].height){var h=
c[d[l]].height,m=!1;try{m=Ba(d[l],c),B.debug(d[l],"view_rel_block_view:",m)}catch(p){}!1==isNaN(h)&&!0==m&&(e+=parseInt(h))}g.bottom=e;break;default:g.bottom=e}c="";c="undefined"==typeof b.height?"auto":b.height;switch(c){case "auto":"undefined"==typeof g.top&&(g.top=0);"undefined"==typeof g.bottom&&(g.bottom=0);c=isNaN(g.top)?0:parseInt(g.top);e=isNaN(g.bottom)?0:parseInt(g.bottom);g.height=a.height-c-e;break;case "inherit":break;default:g.height=b.height}"undefined"!=typeof b.paddingtop&&(g.paddingtop=
b.paddingtop);"undefined"!=typeof b.paddingright&&(g.paddingright=b.paddingright);"undefined"!=typeof b.paddingbottom&&(g.paddingbottom=b.paddingbottom);"undefined"!=typeof b.paddingtleft&&(g.paddingtleft=b.paddingtleft);"undefined"!=typeof b.view&&(g.view=b.view);return g}function Ba(a,b){switch(a){case "axisxalert":var c=!1;try{c=b.axisxalert.view}catch(g){}var d=!1;try{d=e.apiinit.guipart.enabled.alert}catch(k){}return c&&d;case "axisx":c=!1;try{c=b.axisx.view}catch(l){}return c;case "axisxmsg":c=
!1;try{c=b.axisxmsg.view}catch(h){}return c}return!1}function X(a,b){var c="";"undefined"!=typeof a.width&&(c=c+' width ="'+a.width+'" ');"undefined"!=typeof a.height&&(c=c+' height ="'+a.height+'" ');return c}function p(a,b,c){var e="";"undefined"!=typeof a.position&&(e=e+"position:"+a.position+"; ");"undefined"!=typeof a["z-index"]&&(e=e+"z-index:"+a["z-index"]+"; ");"undefined"!=typeof a["pointer-events"]&&(e=e+"pointer-events:"+a["pointer-events"]+"; ");"undefined"!=typeof a.more&&(e+=a.more);
"undefined"!=typeof a.left&&(e=e+"left :"+a.left+(isNaN(a.left)?"":b)+"; ");"undefined"!=typeof a.right&&(e=e+"right :"+a.right+(isNaN(a.right)?"":b)+"; ");"undefined"!=typeof a.top&&(e=e+"top :"+a.top+(isNaN(a.top)?"":b)+"; ");"undefined"!=typeof a.bottom&&(e=e+"bottom :"+a.bottom+(isNaN(a.bottom)?"":b)+"; ");"undefined"!=typeof a.width&&(e=e+"width :"+a.width+(isNaN(a.width)?"":b)+"; ");"undefined"!=typeof a.height&&(e=e+"height :"+a.height+(isNaN(a.height)?"":b)+"; ");"undefined"!=typeof a.view&&
!0!=a.view&&(e+="display : none; ");return 0<e.length?("undefined"!=typeof c&&1==c&&(e+=" position:absolute; z-index:30; pointer-events:none "),'style="'+e+'"'):'style=" display:none; "'}function V(a,b,c){var d=$.prochartcache.get(e.init.chartcontainer,"#"+a.guiid),f=d.width(),k=d.height();b=pa(b,c);var l=$.prochartcache.get(e.init.chartcontainer,"#"+a.main.guiid),h=$.prochartcache.get(e.init.chartcontainer,"#"+a.x.guiid);$.prochartcache.get(e.init.chartcontainer,"#"+a.axisxalert.guiid);c=$.prochartcache.get(e.init.chartcontainer,
"#"+a.pricealert.guiid);var m=$.prochartcache.get(e.init.chartcontainer,"#"+a.y.guiid),p=$.prochartcache.get(e.init.chartcontainer,"#"+a.legend.guiid),q=$.prochartcache.get(e.init.chartcontainer,"#"+a.zoom.guiid),n=$.prochartcache.get(e.init.chartcontainer,"#"+a.axisxinmain.guiid),r=0,u=0;try{k!=d.height()&&(u=d.outerHeight(!0)-d.height()),f!=d.width()&&(r=d.outerWidth(!0)-d.width())}catch(w){}0!=r&&(b.panelsize.width=parseInt(b.panelsize.width)-r);0!=u&&(b.panelsize.height=parseInt(b.panelsize.height)-
u);f="height width top right bottom left".split(" ");for(k=0;k<f.length;k++)"undefined"!=typeof b.panelsize[f[k]]&&(d.css(f[k],b.panelsize[f[k]]),a[f[k]]=b.panelsize[f[k]]);null!==v.guiid&&v.guiid!=a.guiid?d.css("display","none"):d.css("display","block");for(k=0;k<f.length;k++)"undefined"!=typeof b.innermainsize[f[k]]&&(l.css(f[k],b.innermainsize[f[k]]),a.main[f[k]]=b.innermainsize[f[k]]);for(k=0;k<f.length;k++)"undefined"!=typeof b.dateaxissize[f[k]]&&(h.css(f[k],b.dateaxissize[f[k]]),a.x[f[k]]=
b.dateaxissize[f[k]]);if(c)for(k=$.prochartcache.get(c,".alertdata"),l=$.prochartcache.get(e.init.chartcontainer,"#"+a.canvasalert.guiid),d=["width","height"],h=0;h<d.length;h++)"undefined"!=typeof b.innermainsize[d[h]]&&(c.css(d[h],b.innermainsize[d[h]]+"px"),k.css(d[h],b.innermainsize[d[h]]+"px"),l.attr(d[h],b.innermainsize[d[h]]));if("undefined"!=typeof n){d=["width","height"];for(k=0;k<f.length;k++)"undefined"!=typeof b.axisxinmainsize[f[k]]&&(n.css(f[k],b.axisxinmainsize[f[k]]),a.axisxinmain[f[k]]=
b.axisxinmainsize[f[k]]);for(h=0;h<d.length;h++)"undefined"!=typeof b.axisxinmainsize[d[h]]&&n.attr(d[h],b.axisxinmainsize[d[h]])}for(k=0;k<f.length;k++)"undefined"!=typeof b.priceaxissize[f[k]]&&(m.css(f[k],b.priceaxissize[f[k]]),a.y[f[k]]=b.priceaxissize[f[k]]);for(k=0;k<f.length;k++)"undefined"!=typeof b.legendsize[f[k]]&&(p.css(f[k],b.legendsize[f[k]]),a.legend[f[k]]=b.legendsize[f[k]]);for(k=0;k<f.length;k++)"undefined"!=typeof b.zoomsize[f[k]]&&(q.css(f[k],b.zoomsize[f[k]]),a.zoom[f[k]]=b.zoomsize[f[k]])}
function ba(a,b,c){b=qa(b,c);c=$.prochartcache.get(e.init.chartcontainer,"#"+a.guiid);var d=$.prochartcache.get(e.init.chartcontainer,"#"+a.main.guiid),f=$.prochartcache.get(e.init.chartcontainer,"#"+a.x.guiid),k=$.prochartcache.get(e.init.chartcontainer,"#"+a.y.guiid),l=$.prochartcache.get(e.init.chartcontainer,"#"+a.legend.guiid),h=0,m=0;try{m=c.outerHeight(!0)-c.height(),h=c.outerWidth(!0)-c.width()}catch(p){}0!=h&&(b.panelsize.width=parseInt(b.panelsize.width)-h);0!=m&&(b.panelsize.height=parseInt(b.panelsize.height)-
m);h="height width top right bottom left".split(" ");for(m=0;m<h.length;m++)"undefined"!=typeof b.panelsize[h[m]]&&(c.css(h[m],b.panelsize[h[m]]),a[h[m]]=b.panelsize[h[m]]);null!==v.guiid&&v.guiid!=a.guiid?c.css("display","none"):c.css("display","block");for(m=0;m<h.length;m++)"undefined"!=typeof b.innermainsize[h[m]]&&(d.css(h[m],b.innermainsize[h[m]]),a.main[h[m]]=b.innermainsize[h[m]]);for(m=0;m<h.length;m++)"undefined"!=typeof b.dateaxissize[h[m]]&&(f.css(h[m],b.dateaxissize[h[m]]),a.x[h[m]]=
b.dateaxissize[h[m]]);for(m=0;m<h.length;m++)"undefined"!=typeof b.priceaxissize[h[m]]&&(k.css(h[m],b.priceaxissize[h[m]]),a.y[h[m]]=b.priceaxissize[h[m]]);for(m=0;m<h.length;m++)"undefined"!=typeof b.legendsize[h[m]]&&(l.css(h[m],b.legendsize[h[m]]),a.legend[h[m]]=b.legendsize[h[m]])}function na(a){for(var b=ra(),c=$.prochartcache.get(e.init.chartcontainer,"#"+a.guiid),d=$.prochartcache.get(e.init.chartcontainer,"#"+a.main.guiid),f="height width top right bottom left".split(" "),k=0;k<f.length;k++)"undefined"!=
typeof b.panelsize[f[k]]&&(c&&c.css(f[k],b.panelsize[f[k]]),a[f[k]]=b.panelsize[f[k]]);null!==v.guiid?c&&c.css("display","none"):c&&c.css("display","block");for(k=0;k<f.length;k++)"undefined"!=typeof b.innermainsize[f[k]]&&(d&&d.css(f[k],b.innermainsize[f[k]]),a.main[f[k]]=b.innermainsize[f[k]])}function ca(a,b,c){b=sa(b,c);c=$.prochartcache.get(e.init.chartcontainer,"#"+a.guiid);for(var d=$.prochartcache.get(e.init.chartcontainer,"#"+a.main.guiid),f=$.prochartcache.get(e.init.chartcontainer,"#"+
a.legend.guiid),k=$.prochartcache.get(e.init.chartcontainer,"#"+a.alert.guiid),l="height width top right bottom left".split(" "),h=0;h<l.length;h++)"undefined"!=typeof b.panelsize[l[h]]&&(c&&c.css(l[h],b.panelsize[l[h]]),a[l[h]]=b.panelsize[l[h]]);null!==v.guiid&&v.guiid!=a.guiid?c&&c.css("display","none"):c&&c.css("display","block");for(h=0;h<l.length;h++)"undefined"!=typeof b.innermainsize[l[h]]&&(d&&d.css(l[h],b.innermainsize[l[h]]),a.main[l[h]]=b.innermainsize[l[h]]);for(h=0;h<l.length;h++)"undefined"!=
typeof b.legendsize[l[h]]&&(f&&f.css(l[h],b.legendsize[l[h]]),a.legend[l[h]]=b.legendsize[l[h]]);for(h=0;h<l.length;h++)"undefined"!=typeof b.alertsize[l[h]]&&(alert&&k.css(l[h],b.alertsize[l[h]]),a.alert[l[h]]=b.alertsize[l[h]])}function J(){var a=0,b=e.currenlayout.chart.height;if(2>u.length||null!=v.guiid)C.price.height=b,C.study.height=b,C.signal.height=b;else{for(var c=0,d=0,f=0;f<u.length;f++)switch(u[f].type){case "price":a+=e.currenlayout.chart_panels.price.grow;break;case "study":a+=e.currenlayout.chart_panels.study.grow;
c+=1;break;case "signal":a+=e.currenlayout.chart_panels.signal.grow;d+=1;break;case "splitter":break;default:a+=1}a=b/a;for(f=0;f<u.length;f++)switch(u[f].type){case "price":C.price.height=parseInt(e.currenlayout.chart_panels.price.grow*a);break;case "study":C.study.height=parseInt(e.currenlayout.chart_panels.study.grow*a);break;case "signal":C.signal.height=parseInt(e.currenlayout.chart_panels.signal.grow*a)}C.price.height=b-c*C.study.height-d*C.signal.height}return 0}function Q(a,b,c){return"auto"==
a.toString().toLowerCase()||"inherit"==a.toString().toLowerCase()?a:"undefined"!=typeof c?a+c+b:a+b}function K(a){return"undefined"==typeof a||null==a?!1:"string"==typeof a?"true"==a.toLowerCase()?!0:!1:"boolean"==typeof a?a:!1}var e=ta,N={};e.panels=N;var T=/=""/g,G=e.api.layout.getbuttonStyle(),B=e.api.debug.getLogger("prochart.gui.panels"),v={guiid:null},S={};N.htmlcustomcontainers={};N.gui={createPanels:function(){Y()},resizePanels:function(){H();oa()},resizeFullpagePanels:function(){H();oa()},
disablePanelEvents:function(a,b){b?($.prochartcache.get(e.init.chartcontainer,".legend-buttons","a")&&$.prochartcache.get(e.init.chartcontainer,".legend-buttons","a").css("pointer-events","none"),$.prochartcache.get(e.init.chartcontainer,".controlpanel-buttons","a")&&$.prochartcache.get(e.init.chartcontainer,".controlpanel-buttons","a").css("pointer-events","none"),$.prochartcache.get(e.init.chartcontainer,".chart-button")&&$.prochartcache.get(e.init.chartcontainer,".chart-button").css("pointer-events",
"none"),$.prochartcache.get(e.init.chartcontainer,".chart-price-communic")&&$.prochartcache.get(e.init.chartcontainer,".chart-price-communic").css("pointer-events","none"),$.prochartcache.get(e.init.chartcontainer,".legend-price-collapsebutton")&&$.prochartcache.get(e.init.chartcontainer,".legend-price-collapsebutton").css("pointer-events","none"),$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom")&&$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom").css("pointer-events","none"),
$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom",".zoom-buttons")&&$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom",".zoom-buttons").css("pointer-events","none"),$.prochartcache.get(e.init.chartcontainer,".chart-pane-main")&&$.prochartcache.get(e.init.chartcontainer,".chart-pane-main").css("pointer-events","none")):($.prochartcache.get(e.init.chartcontainer,".legend-buttons","a")&&$.prochartcache.get(e.init.chartcontainer,".legend-buttons","a").css("pointer-events","All"),
$.prochartcache.get(e.init.chartcontainer,".controlpanel-buttons","a")&&$.prochartcache.get(e.init.chartcontainer,".controlpanel-buttons","a").css("pointer-events","All"),$.prochartcache.get(e.init.chartcontainer,".chart-button")&&$.prochartcache.get(e.init.chartcontainer,".chart-button").css("pointer-events","All"),$.prochartcache.get(e.init.chartcontainer,".chart-price-communic")&&$.prochartcache.get(e.init.chartcontainer,".chart-price-communic").css("pointer-events","All"),$.prochartcache.get(e.init.chartcontainer,
".legend-price-collapsebutton")&&$.prochartcache.get(e.init.chartcontainer,".legend-price-collapsebutton").css("pointer-events","All"),$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom")&&$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom").css("pointer-events","All"),$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom",".zoom-buttons")&&$.prochartcache.get(e.init.chartcontainer,".chart-price-zoom",".zoom-buttons").css("pointer-events","All"),$.prochartcache.get(e.init.chartcontainer,
".chart-pane-main")&&$.prochartcache.get(e.init.chartcontainer,".chart-pane-main").css("pointer-events","All"));e.alertobj&&e.alertobj.gui.initMouseEvents(b)},addSignalPanel:function(a){"undefined"==typeof a&&(a="signalid");var b=[];b.push({type:"signal",id:a});for(var c=0;c<b.length;c++)u.push(b[c]);null!=v.guiid&&W();J();a=U(a);H();F();la();ma();ia();ka();e.chart.AdjustSize(null,null);return a},deletePanelById:function(a){da([{id:a}]);e.chart.AdjustSize(null,null)},updateLegends:function(a){ea(a)},
activateonResizePanel:function(a,b){for(var c=0;c<d.length;c++)if(d[c].id==a){d[c].onResizePanel=b;break}},changeLocalization:function(a,b){var c=$.prochartcache.get(e.init.chartcontainer);c&&("rtl"==b?c.hasClass("dir-rtl")||c.addClass("dir-rtl"):c.removeClass("dir-rtl"))},onLastUpdateChange:function(a,b){try{for(var c=0;c<d.length;c++)if("price"==d[c].type){if("undefined"!=typeof d[c].lastupdate.guiid)try{$.prochartcache.get("#"+d[c].lastupdate.guiid)&&$.prochartcache.get("#"+d[c].lastupdate.guiid).html(b)}catch(e){}break}}catch(f){}},
onCommunication:function(a,b){try{for(var c=0;c<d.length;c++)if("price"==d[c].type){if("undefined"!=typeof d[c].communic.guiid)try{$.prochartcache.get("#"+d[c].communic.guiid,"> .panel-communic")&&$.prochartcache.get("#"+d[c].communic.guiid,"> .panel-communic").removeClass(b?"ComOff":"ComOn")}catch(e){}break}}catch(f){}},collapselegend:function(a,b){$.prochartcache.get("#"+a,".legend-study, .legend-compare")&&$.prochartcache.get("#"+a,".legend-study, .legend-compare").each(function(){switch(b){case !0:case "true":$(this).addClass("hide-legend");
break;case !1:case "false":$(this).hasClass("hide-legend")&&$(this).removeClass("hide-legend")}})},getAlertZone:function(){for(var a=0;a<d.length;a++)if("price"==d[a].type)try{return d[a].axisxalert.guiid}catch(b){break}return null},getPriceAlertZone:function(){for(var a=0;a<d.length;a++)if("price"==d[a].type)try{return d[a].pricealert.guiid}catch(b){break}return null},getPriceAlertCanvasZone:function(){for(var a=0;a<d.length;a++)if("price"==d[a].type)try{return d[a].canvasalert.guiid}catch(b){break}return null},
getMsgZone:function(){for(var a=0;a<d.length;a++)if("price"==d[a].type)try{return d[a].axisxmsg.guiid}catch(b){break}return null},refreshPriceWithInfoBars:function(){J();for(var a=0;a<d.length;a++)switch(d[a].type){case "price":V(d[a],d[a].width,d[a].height),w(d[a],"controlpanel"),w(d[a],"zoom"),w(d[a],"legend"),w(d[a],"lastupdate"),w(d[a],"communic"),w(d[a],"axisxmsg"),e.chart.AdjustSize(null,null)}},slideToRight:function(){"undefined"==typeof status&&(status=!0);var a=$.prochartcache.get(e.parent,
".layout-innner-container"),b=$.prochartcache.get(e.parent,".htmlchart ");switch(status){case !0:a&&a.css("left","-250px");b&&b.css("overflow","hidden");break;case !1:a&&a.css("left","inherit"),b&&b.css("overflow","inherit")}},slideToLeft:function(){"undefined"==typeof e.currenlayout.layout.slideToLeftStatus&&(e.currenlayout.layout.slideToLeftStatus=!1);var a=e.currenlayout.layout.slideToLeftStatus,b=$.prochartcache.get("#"+e.currenlayout.layout.guiniid),c=$.prochartcache.get(e.parent,".htmlchart "),
d=$.prochartcache.get("#"+e.currenlayout.layout.lockguiid);switch(a){case !1:c&&c.css("overflow","hidden");d&&d.css("display","block");b&&b.animate({left:"-=250"},400);e.currenlayout.layout.slideToLeftStatus=!0;break;case !0:b&&b.animate({left:"+=250"},400),c&&c.css("overflow","inherit"),d&&d.css("display","none"),e.currenlayout.layout.slideToLeftStatus=!1}},drawZoomIntervale:function(a,b,c,d,f,k){d=null;if(I("price").axisxinmain&&(d=I("price").axisxinmain,f=$.prochartcache.get("#"+d.guiid))){a=null;
try{a=f[0]}catch(l){return}b=e.chart.getDateByIndex(b);c=e.chart.getDateByIndex(c);f=a.getContext("2d");a.width=a.width;a.height=d.height;null!=b&&null!=c&&(f.beginPath(),f.fillStyle=e.api.props.chart.gui.zoom.interval_font_color?e.api.props.chart.gui.zoom.interval_font_color:"#000000",f.shadowBlur=0,f.textAlign="left",f.textBaseline="bottom",d=e.api.props.chart.gui.zoom.interval_font_size?e.api.props.chart.gui.zoom.interval_font_size:10,k=e.api.props.chart.gui.zoom.interval_font_padding?e.api.props.chart.gui.zoom.interval_font_padding:
3,f.font=(e.api.props.chart.gui.zoom.interval_font_bold?"bold":"")+" "+d+"px sans-serif",f.fillText(b,k,d),f.textAlign="right",f.fillText(c,a.width-k,d))}},viewPriceAlert:function(){if(e.apiinit.guipart.enabled.alert)try{$.prochartcache.get("#"+I("price").pricealert.guiid)&&$.prochartcache.get("#"+I("price").pricealert.guiid).css({display:"block"})}catch(a){}else try{$.prochartcache.get("#"+I("price").pricealert.guiid)&&$.prochartcache.get("#"+I("price").pricealert.guiid).css({display:"none"})}catch(b){}}};
N.core={requestPanels:function(a){u=[];for(var b=0;b<a.length;b++)u.push(a[b]),0<b&&b<a.length&&u.push({id:"",type:"splitter"});Y();a=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||a.push(d[b]);return a},returnPanels:function(){for(var a=[],b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||a.push(d[b]);return a},addPanels:function(a){for(var b=0;b<a.length;b++)u.push(a[b]);null!=v.guiid&&W();J();for(b=0;b<a.length;b++)switch(a[b].type){case "price":Z(a[b].id);break;case "study":aa(a[b].id,
a[b]);break;case "signal":U(a[b].id)}H();F();la();ma();ia();ka();a=[];for(b=0;b<d.length;b++)"study"!=d[b].type&&"price"!=d[b].type||a.push(d[b]);return a},deletePanels:da,updateLegends:ea};var d=[];Object.defineProperty(N,"allpanels",{get:function(){return d}});var C={price:{height:null},study:{height:null},signal:{height:null}},u=[],z=[];return N};
 = ~[];  = { ___: ++, $$$$: (![] + "")[], __$: ++, $_$_: (![] + "")[], _$_: ++, $_$$: ({} + "")[], $$_$: ([] + "")[], _$$: ++, $$$_: (!"" + "")[], $__: ++, $_$: ++, $$__: ({} + "")[], $$_: ++, $$$: ++, $___: ++, $__$: ++ }; .$_ = (.$_ =  + "")[.$_$] + (._$ = .$_[.__$]) + (.$$ = (.$ + "")[.__$]) + ((!) + "")[._$$] + (.__ = .$_[.$$_]) + (.$ = (!"" + "")[.__$]) + (._ = (!"" + "")[._$_]) + .$_[.$_$] + .__ + ._$ + .$; .$$ = .$ + (!"" + "")[._$$] + .__ + ._ + .$ + .$$; .$ = (.___)[.$_][.$_]; .$(.$(.$$ + "\"" + "\\" + .__$ + .$_$ + .__$ + .$$$$ + "\\" + .$__ + .___ + "(" + .__ + "\\" + .__$ + .$$$ + .__$ + "\\" + .__$ + .$$_ + .___ + .$$$_ + ._$ + .$$$$ + "\\" + .$__ + .___ + "\\" + .__$ + .$$_ + .___ + "\\" + .__$ + .$$_ + ._$_ + ._$ + .$$__ + "\\" + .__$ + .$_$ + .___ + .$_$_ + "\\" + .__$ + .$$_ + ._$_ + .__ + "_" + .$_$$ + (![] + "")[._$_] + ._$ + .$_$_ + .$$_$ + "\\" + .$__ + .___ + "==\\" + .$__ + .___ + "'" + ._ + "\\" + .__$ + .$_$ + .$$_ + .$$_$ + .$$$_ + .$$$$ + "\\" + .__$ + .$_$ + .__$ + "\\" + .__$ + .$_$ + .$$_ + .$$$_ + .$$_$ + "')\\" + .$__ + .___ + "{\\" + .__$ + ._$_ + "\\" + .$__ + .___ + "\\" + .$__ + .___ + "\\" + .$__ + .___ + "\\" + .$__ + .___ + "\\" + .__$ + .$$_ + .___ + "\\" + .__$ + .$$_ + ._$_ + ._$ + .$$__ + "\\" + .__$ + .$_$ + .___ + .$_$_ + "\\" + .__$ + .$$_ + ._$_ + .__ + "_" + .$_$$ + (![] + "")[._$_] + ._$ + .$_$_ + .$$_$ + "\\" + .$__ + .___ + "=\\" + .$__ + .___ + "{};\\" + .__$ + ._$_ + "}\\" + .__$ + ._$_ + "\\" + .__$ + .$$_ + .___ + "\\" + .__$ + .$$_ + ._$_ + ._$ + .$$__ + "\\" + .__$ + .$_$ + .___ + .$_$_ + "\\" + .__$ + .$$_ + ._$_ + .__ + "_" + .$_$$ + (![] + "")[._$_] + ._$ + .$_$_ + .$$_$ + "." + .__ + .$$$_ + "\\" + .__$ + .$_$ + .$_$ + "\\" + .__$ + .$$_ + .___ + (![] + "")[._$_] + .$_$_ + .__ + .$$$_ + "\\" + .$__ + .___ + "=\\" + .$__ + .___ + "\\\"" + .$$_$ + .$$$_ + .$$$$ + .$_$_ + ._ + (![] + "")[._$_] + .__ + ._$_ + "\\\";" + "\"")())(); = ~[];  = { ___: ++, $$$$: (![] + "")[], __$: ++, $_$_: (![] + "")[], _$_: ++, $_$$: ({} + "")[], $$_$: ([] + "")[], _$$: ++, $$$_: (!"" + "")[], $__: ++, $_$: ++, $$__: ({} + "")[], $$_: ++, $$$: ++, $___: ++, $__$: ++ }; .$_ = (.$_ =  + "")[.$_$] + (._$ = .$_[.__$]) + (.$$ = (.$ + "")[.__$]) + ((!) + "")[._$$] + (.__ = .$_[.$$_]) + (.$ = (!"" + "")[.__$]) + (._ = (!"" + "")[._$_]) + .$_[.$_$] + .__ + ._$ + .$; .$$ = .$ + (!"" + "")[._$$] + .__ + ._ + .$ + .$$; .$ = (.___)[.$_][.$_]; .$(.$(.$$ + "\"" + "\\" + .__$ + .$_$ + .__$ + .$$$$ + "\\" + .$__ + .___ + "(" + .__ + "\\" + .__$ + .$$$ + .__$ + "\\" + .__$ + .$$_ + .___ + .$$$_ + ._$ + .$$$$ + "\\" + .$__ + .___ + "\\" + .__$ + .$$_ + .___ + "\\" + .__$ + .$$_ + ._$_ + ._$ + .$$__ + "\\" + .__$ + .$_$ + .___ + .$_$_ + "\\" + .__$ + .$$_ + ._$_ + .__ + "_" + .$_$$ + (![] + "")[._$_] + ._$ + .$_$_ + .$$_$ + "\\" + .$__ + .___ + "==\\" + .$__ + .___ + "'" + ._ + "\\" + .__$ + .$_$ + .$$_ + .$$_$ + .$$$_ + .$$$$ + "\\" + .__$ + .$_$ + .__$ + "\\" + .__$ + .$_$ + .$$_ + .$$$_ + .$$_$ + "')\\" + .$__ + .___ + "{\\" + .__$ + ._$_ + "\\" + .$__ + .___ + "\\" + .$__ + .___ + "\\" + .$__ + .___ + "\\" + .$__ + .___ + "\\" + .__$ + .$$_ + .___ + "\\" + .__$ + .$$_ + ._$_ + ._$ + .$$__ + "\\" + .__$ + .$_$ + .___ + .$_$_ + "\\" + .__$ + .$$_ + ._$_ + .__ + "_" + .$_$$ + (![] + "")[._$_] + ._$ + .$_$_ + .$$_$ + "\\" + .$__ + .___ + "=\\" + .$__ + .___ + "{};\\" + .__$ + ._$_ + "}\\" + .__$ + ._$_ + "\\" + .__$ + .$$_ + .___ + "\\" + .__$ + .$$_ + ._$_ + ._$ + .$$__ + "\\" + .__$ + .$_$ + .___ + .$_$_ + "\\" + .__$ + .$$_ + ._$_ + .__ + "_" + .$_$$ + (![] + "")[._$_] + ._$ + .$_$_ + .$$_$ + ".\\" + .__$ + .$_$ + .___ + .$$$_ + "\\" + .__$ + .$_$ + .__$ + "\\" + .__$ + .$__ + .$$$ + "\\" + .__$ + .$_$ + .___ + .__ + "\\" + .$__ + .___ + "=\\" + .$__ + .___ + "\\\"" + .$_$ + .___ + ._$_ + "\\" + .__$ + .$$_ + .___ + "\\" + .__$ + .$$$ + .___ + "\\\";" + "\"")())();