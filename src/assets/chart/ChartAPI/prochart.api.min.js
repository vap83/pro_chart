function ProChart_InitApi(l){function p(c,e){try{a.gui.localstorage_condition.pricestyle&&(localStorage[b.localstorage.key+c]=JSON.stringify(e))}catch(f){}}function q(c){try{if(a.gui.localstorage_condition.pricestyle&&"undefined"!=typeof localStorage[b.localstorage.key+c])return JSON.parse(localStorage[b.localstorage.key+c])}catch(e){return null}}function h(){var c=null;m(a.currenlayout)&&m(a.currenlayout.chart_panels)&&(c=a.currenlayout.chart_panels,r(c,arguments))}function k(){if(m(a.currenlayout)&&
m(a.currenlayout.chart_panels))return s(a.currenlayout.chart_panels,arguments)}function r(c,a){for(var b=0;b<a.length-2;b++)c=t(a[b])?u(c,a[b]):c[a[b]];if(m(c)){var d=b=a[a.length-2];typeof b!=typeof String&&(d=b.toString());b=d.split("||");if(b instanceof Array){var g=d=a[a.length-1];typeof d!=typeof String&&(g=d.toString());d=g.split("||");if(d instanceof Array&&b.length==d.length)for(g=0;g<b.length;g++)c[b[g]]=d[g],v(c,b[g],d[g])}else c[a[a.length-2]]=a[a.length-1],v(c,a[a.length-2],a[a.length-
1])}}function s(c,a){for(var b=0;b<a.length;b++)if(t(a[b])){if(c=u(c,a[b]),null==c)return}else try{c=c[a[b]]}catch(d){return}if(m(c))return c}function v(c,b,f){if("undefined"==typeof c.fns)return null;this.objparent=c;this.objChartMain=a;for(var d=0;d<c.fns.length;d++){var g=c.fns[d];if(g.prop==b)for(var n=0;n<g.actions.length;n++){var h=g.actions[n].replace(/%property%/g,b).replace(/%value%/g,f);try{eval(h)}catch(k){console.log(k)}}}}function m(c){return"undefined"!=typeof c&&null!=c}function t(c){var a=
c.indexOf("[");c=c.indexOf("]");return-1!=a&&-1!=c&&a<c?!0:!1}function u(c,a){var b=a.indexOf("["),d=a.indexOf("]"),b=a.substring(b+1,d),d=a.replace(b,"").replace("[","").replace("]",""),g=b.split("="),b=g[0],g=g[1],d=c[d];if("undefined"!=typeof d&&null!=d&&d instanceof Array)for(var n=0;n<d.length;n++)if(d[n][b]==g)return d[n];return null}var a=l,b={};a.api=b;b.debug={console:!1,mainlevel:0,getLogger:function(a){for(var e=0;e<b.debug.data.length;e++)if(b.debug.data[e].name==a)return b.debug.data[e];
e=jQuery.extend(!0,{},w);e.name=a;b.debug.data.push(e);return e},setLevel:function(a){this.mainlevel=a},data:[],logging:{WARNING:1,ERROR:2,DEBUG:16,TIME:5,NONE:0,iNFO:3}};var w={name:"",setLevel:function(a){this.level=a},level:0,debug:function(){if(b.debug.mainlevel>=b.debug.logging.DEBUG&&this.level>=b.debug.logging.DEBUG){var a=Array.prototype.slice.call(arguments);a.splice(0,0,"DEBUG:/"+this.name+"/>");a.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.log.apply(console,
a)}},warn:function(a){if(b.debug.mainlevel>=b.debug.logging.WARNING&&this.level>=b.debug.logging.WARNING){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"WARNING:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.warn.apply(console,e)}},error:function(a){if(b.debug.mainlevel>=b.debug.logging.ERROR&&this.level>=b.debug.logging.ERROR){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"ERROR:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+
" "+(new Date).toLocaleTimeString());console.error.apply(console,e)}},info:function(a){if(b.debug.mainlevel>=b.debug.logging.INFO&&this.level>=b.debug.logging.INFO){var e=Array.prototype.slice.call(arguments);e.splice(0,0,"INFO:/"+this.name+"/>");e.push("<"+(new Date).toLocaleDateString()+" "+(new Date).toLocaleTimeString());console.info.apply(console,e)}},timebegin:function(a){b.debug.mainlevel>=b.debug.logging.TIME&&this.level>=b.debug.logging.TIME&&console.time(this.name+"_",a)},timeend:function(a){b.debug.mainlevel>=
b.debug.logging.TIME&&this.level>=b.debug.logging.TIME&&console.timeEnd(this.name+"_",a)}};b.layout=ProChart_InitApitLayout(l);b.header=ProChart_InitAPIHeader(l);b.zoom=ProChart_InitAPIZoom(l);b.menu=ProChart_InitAPIMenu(l);b.toolbar=ProChart_InitAPIToolbar(l);b.panels=ProChart_InitAPIPanels(l);b.props=ProChart_InitAPIProps(l);a.api.debug.setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.header").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.panels").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.layout").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.zoom").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.draw").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.toolbar").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.menu").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.actions").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.community").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.messages").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.systems").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.compare").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.trade").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.plugs").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.localization").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.indicators").setLevel(a.api.debug.logging.NONE);
a.api.debug.getLogger("prochart.gui.alert").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.msg").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("prochart.gui.patterns").setLevel(a.api.debug.logging.NONE);a.api.debug.getLogger("htmldemo").setLevel(a.api.debug.logging.NONE);b.indicators={getIndicatorObjectParams:function(c){return a.indicators.gui.getIndicatorObjectParam(c)},add:function(c,b){a.chart.AddStudyWithParams(c,b)}};b.timeframes={getTimeframeView:function(){var c=
"icon";null==a.apiinit.timeframeview?"undefined"!=typeof a.currenlayout.timeframeview&&null!=a.currenlayout.timeframeview&&(c=a.currenlayout.timeframeview):c=a.apiinit.timeframeview;return c},getCaptionbyID:function(c){if("undefined"!=typeof a.gui.init.timeframe&&null!=a.gui.init.timeframe)try{for(var b=0;b<a.gui.init.timeframe.length;b++)if(a.gui.init.timeframe[b].id==c)return a.gui.init.timeframe[b].n}catch(f){return""}else if("undefined"!=typeof a.init.timeframe&&null!=a.init.timeframe)try{for(b=
0;b<a.init.timeframe.length;b++)if(a.init.timeframe[b].id==c)return a.init.timeframe[b].n}catch(d){return""}}};b.chart={set:h,get:k};b.chart.panels={price:new function(){Object.defineProperty(this,"grow",{get:function(){return k("price","grow")},set:function(a){h("price","grow",a)}});for(var a="axisy axisx main legend controlpanel zoom".split(" "),b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};Object.defineProperty(this,a[f],{writable:!1,enumerable:!0});for(var d=
0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("price",a,b)},set:function(c){h("price",a,b,c)}})})(a[f],b[d],this)}},study:new function(){Object.defineProperty(this,"grow",{get:function(){return k("study","grow")},set:function(a){h("study","grow",a)}});for(var a=["axisy","axisx","main","legend","controlpanel"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],
b,{get:function(){return k("study",a,b)},set:function(c){h("study",a,b,c)}})})(a[f],b[d],this)}},splitterx:new function(){for(var a=["main"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("splitterx",a,b)},set:function(c){h("splitterx",a,b,c)}})})(a[f],b[d],this)}},plugin:new function(){Object.defineProperty(this,"grow",{get:function(){return k("signal","grow")},
set:function(a){h("signal","grow",a)}});for(var a=["main","legend","controlpanel","alert"],b="view width height right left top bottom".split(" "),f=0;f<a.length;f++){this[a[f]]={};for(var d=0;d<b.length;d++)(function(a,b,c){Object.defineProperty(c[a],b,{get:function(){return k("signal",a,b)},set:function(c){h("signal",a,b,c)}})})(a[f],b[d],this)}},set:h,get:k};b.zoom={set:function(){var b=null;m(a.currenlayout.zooms)&&(b=a.currenlayout,r(b,arguments))},get:function(){if(m(a.currenlayout.zooms))return s(a.currenlayout,
arguments)}};b.localization={changeLang:function(b){try{return"undefined"!=typeof a.localizationobj?a.localizationobj.gui.changeLocalization(b):null}catch(e){return null}},getCurrentLanguageObj:function(){try{return"undefined"!=typeof a.localizationobj?a.localizationobj.gui.returnCurrentLanguage():null}catch(b){return null}}};b.plugin={};b.localstorage={getPriceType:function(){try{if(a.gui.localstorage_condition.pricetype&&"undefined"!=typeof localStorage[b.localstorage.key+"pricetype"])return localStorage[b.localstorage.key+
"pricetype"]}catch(c){}return null},setPriceType:function(c){try{a.gui.localstorage_condition.pricetype&&(localStorage[b.localstorage.key+"pricetype"]=c)}catch(e){}return null},getPriceStyle:q,setPriceStyle:p,getPriceLine:function(){try{if(a.gui.localstorage_condition.priceline&&"undefined"!=typeof localStorage[b.localstorage.key+"priceline"])return localStorage[b.localstorage.key+"priceline"]}catch(c){}return null},setPriceLine:function(c){try{a.gui.localstorage_condition.priceline&&(localStorage[b.localstorage.key+
"priceline"]=c)}catch(e){}return null},getVolumeStyle:q,setVolumeStyle:p,getMajorsFavorites:function(){try{if(a.gui.localstorage_condition.majorsfavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"majorsfavorites"])return JSON.parse(localStorage[b.localstorage.key+"majorsfavorites"])}catch(c){}return null},setMajorsFavorites:function(c){try{a.gui.localstorage_condition.majorsfavorites&&(localStorage[b.localstorage.key+"majorsfavorites"]=JSON.stringify(c))}catch(e){}},getCompareFavorites:function(){try{if(a.gui.localstorage_condition.comparefavorites&&
"undefined"!=typeof localStorage[b.localstorage.key+"comparefavorites"])return JSON.parse(localStorage[b.localstorage.key+"comparefavorites"])}catch(c){}return null},setCompareFavorites:function(c){try{a.gui.localstorage_condition.comparefavorites&&(localStorage[b.localstorage.key+"comparefavorites"]=JSON.stringify(c))}catch(e){}},getIndicatorsFavorites:function(){try{if(a.gui.localstorage_condition.indicatorsfavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"indicatorsfavorites"])return JSON.parse(localStorage[b.localstorage.key+
"indicatorsfavorites"])}catch(c){}return null},setIndicatorsFavorites:function(c){try{a.gui.localstorage_condition.indicatorsfavorites&&(localStorage[b.localstorage.key+"indicatorsfavorites"]=JSON.stringify(c))}catch(e){}},getTimeFrameFavorites:function(){try{if(a.gui.localstorage_condition.timeframefavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"timeframefavorites"])return JSON.parse(localStorage[b.localstorage.key+"timeframefavorites"])}catch(c){}return null},setTimeFrameFavorites:function(c){try{a.gui.localstorage_condition.timeframefavorites&&
(localStorage[b.localstorage.key+"timeframefavorites"]=JSON.stringify(c))}catch(e){}},getPriceTypeFavorites:function(){try{if(a.gui.localstorage_condition.pricetypefavorites&&"undefined"!=typeof localStorage[b.localstorage.key+"pricetypefavorites"])return JSON.parse(localStorage[b.localstorage.key+"pricetypefavorites"])}catch(c){}return null},setPriceTypeFavorites:function(c){try{a.gui.localstorage_condition.pricetypefavorites&&(localStorage[b.localstorage.key+"pricetypefavorites"]=JSON.stringify(c))}catch(e){}},
getDrawStyle:function(){},setDrawStyle:function(a){},clear:function(){for(var a=b.localstorage.key,e=0;e<b.localstorage_condition.save_list_name.length;e++)try{localStorage.removeItem(a+b.localstorage_condition.save_list_name[e])}catch(f){}},clearAll:function(){try{localStorage.clear()}catch(a){}}};b.localstorage_condition={save_list_name:"pricestyle indicatorsfavorites drawstyle timeframefavorites pricetypefavorites volumestyle pricetype majorsfavorites comparefavorites".split(" ")};Object.defineProperty(b.localstorage_condition,
"pricestyle",{get:function(){return a.gui.localstorage_condition.pricestyle},set:function(b){a.gui.localstorage_condition.pricestyle=b}});Object.defineProperty(b.localstorage_condition,"volumestyle",{get:function(){return a.gui.localstorage_condition.volumestyle},set:function(b){a.gui.localstorage_condition.volumestyle=b}});Object.defineProperty(b.localstorage_condition,"pricetype",{get:function(){return a.gui.localstorage_condition.pricetype},set:function(b){a.gui.localstorage_condition.pricetype=
b}});Object.defineProperty(b.localstorage_condition,"majorsfavorites",{get:function(){return a.gui.localstorage_condition.majorsfavorites},set:function(b){a.gui.localstorage_condition.majorsfavorites=b}});Object.defineProperty(b.localstorage_condition,"comparefavorites",{get:function(){return a.gui.localstorage_condition.comparefavorites},set:function(b){a.gui.localstorage_condition.comparefavorites=b}});Object.defineProperty(b.localstorage_condition,"indicatorsfavorites",{get:function(){return a.gui.localstorage_condition.indicatorsfavorites},
set:function(b){a.gui.localstorage_condition.indicatorsfavorites=b}});Object.defineProperty(b.localstorage_condition,"drawstyle",{get:function(){return a.gui.localstorage_condition.drawstyle},set:function(b){a.gui.localstorage_condition.drawstyle=b}});Object.defineProperty(b.localstorage_condition,"timeframefavorites",{get:function(){return a.gui.localstorage_condition.timeframefavorites},set:function(b){a.gui.localstorage_condition.timeframefavorites=b}});Object.defineProperty(b.localstorage_condition,
"pricetypefavorites",{get:function(){return a.gui.localstorage_condition.pricetypefavorites},set:function(b){a.gui.localstorage_condition.pricetypefavorites=b}});Object.defineProperty(b.localstorage_condition,"priceline",{get:function(){return a.gui.localstorage_condition.priceline},set:function(b){a.gui.localstorage_condition.priceline=b}});Object.defineProperty(b.localstorage,"key",{get:function(){return a.gui.localstorage_condition.storage_key},set:function(b){a.gui.localstorage_condition.storage_key=
b}});return b};
